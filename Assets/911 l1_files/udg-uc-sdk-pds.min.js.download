/*!
 * udg-uc-sdk-pds - V 2.7.0
 *
 */(()=>{var e={859:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var i=n(200),s=function(e){var t,n,s,r,o=e.customization;this.accept={backgroundColor:(0,i.ap)(null===(t=null==o?void 0:o.color)||void 0===t?void 0:t.acceptBtnBackground),textColor:(0,i.ap)(null===(n=null==o?void 0:o.color)||void 0===n?void 0:n.acceptBtnText)},this.deny={backgroundColor:(0,i.ap)(null===(s=null==o?void 0:o.color)||void 0===s?void 0:s.denyBtnBackground),textColor:(0,i.ap)(null===(r=null==o?void 0:o.color)||void 0===r?void 0:r.denyBtnText)}}},69:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(200),s=n(989),r=function(e){return!(!e||!e.length||e[2]!==i.S.ACCEPT)},o=function(e){var t=e&&e.data&&e.data.__uspapiCall;t&&window[i.W](t.command,t.version,(function(n,i){!e.source||e.source instanceof MessagePort||e.source instanceof ServiceWorker||e.source.postMessage({__uspapiReturn:{callId:t.callId,returnValue:n,success:i}},"*")}))},a=function(e){function t(t,n,s,a){var c,u,l,d,h,p,g,f=this;return(f=e.call(this,n,s)||this).explicitDeny=!1,f.iabAgreementExists=(null===(c=t.ccpa)||void 0===c?void 0:c.iabAgreementExists)||!1,f.isActive=(null===(u=t.ccpa)||void 0===u?void 0:u.isActive)||!1,f.region=(null===(l=t.ccpa)||void 0===l?void 0:l.region)||i.L.US_CA_ONLY,f.reshowAfterDays=(null===(d=t.ccpa)||void 0===d?void 0:d.reshowAfterDays)||365,f.showOnPageLoad=(null===(h=t.ccpa)||void 0===h?void 0:h.showOnPageLoad)||!1,f.isOptedOut=!!navigator.globalPrivacyControl,f.isExplicitConsented=a,f.framework=t.framework||"ccpa",f.legalFramework=f.getLegalFramework(f.framework),i.c.getCcpaString()!==i.D?(f.explicitNotice=!(!(g=i.c.getCcpaString())||!g.length||g[1]!==i.S.ACCEPT),!a&&f.isOptedOut?(f.explicitDeny=!0,f.setCcpaStorage(f.isOptedOut,f.explicitNotice?i.S.ACCEPT:i.S.UNKNOWN)):(f.isOptedOut=r(i.c.getCcpaString()),null===(p=i.G.getInstance())||void 0===p||p.setSectionString(i.c.getCcpaString(),f.legalFramework))):(f.setCcpaStorage(f.isOptedOut,i.S.UNKNOWN),f.explicitNotice=!1),function(){if(!Object.prototype.hasOwnProperty.call(window.frames,i.F)){var e=document.createElement("iframe");e.style.display="none",e.name=i.F,document.body.appendChild(e)}}(),window[i.W]=function(e,t,n){switch("function"!=typeof n&&console.warn(i.d.API_INVALID_CALLBACK),t!==i.C&&n({uspString:null,version:null},!1),e){case i.e.GET_USP_DATA:n({uspString:i.c.getCcpaString(),version:i.C},!0);break;case i.W:n(null,!0);break;default:console.warn(i.d.API_INVALID_COMMAND,e),n(null,!1)}},window.addEventListener("message",o,!1),f}return(0,i.f)(t,e),t.prototype.getIsOptedOut=function(){return this.isOptedOut},t.prototype.getLegalFramework=function(e){switch(e){case"UCPA":return"usut";case"CTDPA":return"usct";case"VCDPA":return"usva";case"CPRA":return"usca";case"CPA":return"usco";default:return"uspv1"}},t.prototype.getExplicitNotice=function(){return this.explicitNotice},t.prototype.setCcpaStorage=function(e,t){var n;void 0===t&&(t=i.S.ACCEPT),this.setIsOptedOut(e),e?i.c.setCcpaTimeStamp():i.c.clearCcpaData(),t===i.S.ACCEPT?this.explicitNotice=!0:this.explicitNotice=!1;var s=function(e,t,n){var s="".concat(i.C).concat(t).concat(e?i.S.ACCEPT:i.S.DENY).concat(n?i.S.ACCEPT:i.S.UNKNOWN);return i.b.test(s)||(s=i.D),s}(e,t,this.iabAgreementExists);null===(n=i.G.getInstance())||void 0===n||n.setSectionString(s,this.legalFramework),i.g.isCrossDomainAvailable()&&i.g.setCrossDomainCcpaData({ccpaString:s,timestamp:i.c.getCcpaTimeStamp()}).catch((function(){console.warn(i.h.CROSS_DOMAIN_SET_DATA_FAILURE)})),i.c.setCcpaString(s)},t.prototype.setIsOptedOut=function(e){var t="boolean"==typeof e?e:r(e);this.isOptedOut=t},t}(s.default)},385:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(200),s=n(933),r=n(8),o=function(e){function t(t,n){var o,a,c=this;c=e.call(this,t,n)||this;var u=n.customization;return c.buttons=(0,i.p)((0,i.p)({},new s.B(n)),{ok:{backgroundColor:(0,i.ap)(null===(o=null==u?void 0:u.color)||void 0===o?void 0:o.ccpaButtonColor),textColor:(0,i.ap)(null===(a=null==u?void 0:u.color)||void 0===a?void 0:a.ccpaButtonTextColor)},optOutNotice:{isHidden:n.ccpa.removeDoNotSellToggle,label:n.ccpa.optOutNoticeLabel||"Do not sell my personal information"}}),c.firstLayer=(0,i.p)((0,i.p)((0,i.p)({},new s.F(n)),new r.F(n)),{hideToggles:!0,isLanguageSelectorEnabled:!(0,i.aq)(n.ccpa.firstLayerHideLanguageSwitch,!n.showLanguageDropdown),showShortDescriptionOnDesktop:!0===n.ccpa.firstLayerUseShortMessage,showShortDescriptionOnMobile:n.ccpa.firstLayerMobileDescriptionIsActive,variant:n.ccpa.firstLayerVariant||"BANNER"}),c.secondLayer=(0,i.p)((0,i.p)({},new r.S((0,i.p)((0,i.p)({},n),{secondLayer:(0,i.p)((0,i.p)({},n.secondLayer),{hideDataProcessingServices:!1})}))),{dpsDisplayFormat:n.dpsDisplayFormat||i.ar.ALL,hideToggles:!0,isLanguageSelectorEnabled:!(0,i.aq)(n.ccpa.secondLayerHideLanguageSwitch,!n.showLanguageDropdown),side:n.ccpa.secondLayerSide||"LEFT",variant:n.ccpa.secondLayerVariant||"CENTER"}),c}return(0,i.f)(t,e),t}(s.C)},989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(200),s=function(e){function t(n,s,r){var o=e.call(this,r)||this;return o.categorySlug=n.categorySlug,o.consent=(0,i.i)(n,s),o.id=n.templateId,o.isEssential=s.isEssential,o.isHidden=!!s.isHidden||n.isHidden,o.processorId="".concat((0,i.s)((0,i.v)())),o.subServices=[],o.subServicesLength=n.subConsents?n.subConsents.length:0,o.usesThirdCountry=n.usesThirdCountry,o.version=n.version,o.fetchSubServices=function(){return(0,i.j)(o,void 0,void 0,(function(){var e,r,o,a,c,u,l,d,h=this;return(0,i.k)(this,(function(p){switch(p.label){case 0:if(e=i.A.getInstance(),r=i.l.getInstance(),o=n.subConsents,!(a=(0,i.m)(o)).length)return[2,[]];u=null,p.label=1;case 1:return p.trys.push([1,4,,5]),[4,e.fetchAggregatedServices(a,!1)];case 2:return c=p.sent(),[4,e.fetchTranslations()];case 3:return u=p.sent(),[3,5];case 4:throw p.sent(),new Error(i.E.FETCH_DATA_PROCESSING_SERVICES);case 5:return c&&o?(l=r.getServicesBaseInfo(),d=l.filter((function(e){return e.id===h.id})),this.subServices=o.reduce((function(e,n){var r=null==c?void 0:c.find((function(e){return n.templateId===e.templateId&&n.version===e.version}));if(!r)return(0,i._)([],(0,i.a)(e),!1);var o=new t(n,s,r);return(0,i._)((0,i._)([],(0,i.a)(e),!1),[o],!1)}),[]),[2,this.subServices.reduce((function(e,t){var n=o.find((function(e){return t.id===e.templateId&&t.version===e.version}));if(!n)return(0,i._)([],(0,i.a)(e),!1);var s=new i.o(n,u,c),r=1===d.length?{legalBasis:d[0].legalBasis}:{},a=(0,i.p)((0,i.p)((0,i.p)((0,i.p)({},s),t),{subServices:[]}),r);return(0,i._)((0,i._)([],(0,i.a)(e),!1),[a],!1)}),[])]):[2,[]]}}))}))},o}return(0,i.f)(t,e),t}(i.n),r=function(e,t,n){this.isEssential=e.isEssential,this.isHidden=e.isHidden,this.services=o(e,t,n),this.slug=e.categorySlug},o=function(e,t,n){return t.reduce((function(t,r){if(r.categorySlug===e.categorySlug){var o=null==n?void 0:n.find((function(e){return r.templateId===e.templateId&&r.version===e.version})),a=new s(r,e,o);return(0,i._)((0,i._)([],(0,i.a)(t),!1),[a],!1)}return(0,i._)([],(0,i.a)(t),!1)}),[])},a=function(e,t,n){this.categories=e.categories.reduce((function(t,s){var o=new r(s,e.consentTemplates,n);return(0,i.q)(o.services)?(0,i._)((0,i._)([],(0,i.a)(t),!1),[o],!1):(0,i._)([],(0,i.a)(t),!1)}),[]),this.controllerId=t}},850:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(200),s=n(933),r=n(859),o=n(8),a=function(e){function t(t,n){var a,c,u,l,d=this;d=e.call(this,t,n)||this;var h=n.customization;return d.buttons=(0,i.p)((0,i.p)((0,i.p)({},new r.B(n)),new s.B(n)),{more:{backgroundColor:(0,i.Q)((0,i.ap)(null===(a=null==h?void 0:h.color)||void 0===a?void 0:a.moreBtnBackground),"#0045A5"),textColor:(0,i.Q)((0,i.ap)(null===(c=null==h?void 0:h.color)||void 0===c?void 0:c.moreBtnText),"#FAFAFA")},save:{backgroundColor:(0,i.ap)(null===(u=null==h?void 0:h.color)||void 0===u?void 0:u.saveBtnBackground),textColor:(0,i.ap)(null===(l=null==h?void 0:h.color)||void 0===l?void 0:l.saveBtnText)}}),d.firstLayer=(0,i.p)((0,i.p)((0,i.p)({},new o.F(n)),new s.F(n)),{closeOption:n.firstLayer.closeOption||null,hideButtonDeny:(0,i.aq)(n.firstLayer.hideButtonDeny,!n.btnDenyIsVisible),hideToggles:!1,isCategoryTogglesEnabled:n.firstLayer.isCategoryTogglesEnabled,isLanguageSelectorEnabled:!(0,i.aq)(n.firstLayer.hideLanguageSwitch,!n.showLanguageDropdown),showShortDescriptionOnDesktop:!0===n.firstLayer.useShortMessage,showShortDescriptionOnMobile:n.bannerMobileDescriptionIsActive,variant:(0,i.Q)(n.firstLayer.variant,"BANNER")}),d.secondLayer=(0,i.p)((0,i.p)({},new o.S(n)),{dpsDisplayFormat:n.dpsDisplayFormat||i.ar.ALL,hideButtonDeny:(0,i.aq)(n.secondLayer.hideButtonDeny,!n.btnDenyIsVisible),hideToggles:!1,hideTogglesForServices:(0,i.Q)(n.secondLayer.hideTogglesForServices,!1),isLanguageSelectorEnabled:!(0,i.aq)(n.secondLayer.hideLanguageSwitch,!n.showLanguageDropdown),side:n.secondLayer.side||"LEFT",variant:n.secondLayer.variant||"CENTER"}),d}return(0,i.f)(t,e),t}(s.C)},933:(e,t,n)=>{"use strict";n.d(t,{B:()=>s,C:()=>o,F:()=>a});var i=n(200),s=function(e){var t=e.customization;this.alignment=(null==t?void 0:t.buttonAlignment)||i.as.HORIZONTAL,this.borderRadius=(0,i.at)((0,i.Q)(null==t?void 0:t.borderRadiusButton,"4px")),this.secondLayer=e.moreInfoButtonUrl.length>0?e.moreInfoButtonUrl:null},r="#ffffff",o=function(e,t){var n,s,o,a,c,u,l,d,h,p,g,f,v,S,E,m,y,I=t.customization;this.customCss=(null===(n=t.features)||void 0===n?void 0:n.customCss)&&t.useUnsafeCustomCss&&null!=t.stylesCss?t.stylesCss:null,this.enablePrivacyButton=e.privacyButtonIsVisible,this.font={family:(0,i.Q)(null===(s=null==I?void 0:I.font)||void 0===s?void 0:s.family,"BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Oxygen-Sans, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, Helvetica, Arial, sans-serif"),size:(0,i.Q)(null===(o=null==I?void 0:I.font)||void 0===o?void 0:o.size,14)},this.layer={backgroundColor:(0,i.Q)((0,i.ap)(null===(a=null==I?void 0:I.color)||void 0===a?void 0:a.layerBackground),"#ffffff"),borderRadius:(0,i.at)((0,i.Q)(null==I?void 0:I.borderRadiusLayer,"8px"))},this.links={fontColor:(0,i.Q)((0,i.ap)(null===(c=null==I?void 0:I.color)||void 0===c?void 0:c.linkFont),"#303030"),iconColor:(0,i.Q)((0,i.ap)(null===(u=null==I?void 0:I.color)||void 0===u?void 0:u.linkIcon),"#595959")},this.logo={altTag:(0,i.Q)(null==I?void 0:I.logoAltTag,null),position:(0,i.au)(t.firstLayer.logoPosition),url:(0,i.Q)(null==I?void 0:I.logoUrl,null)},this.overlay={backgroundColor:(0,i.Q)((0,i.ap)(null===(l=null==I?void 0:I.color)||void 0===l?void 0:l.overlay),"#333"),opacity:(0,i.Q)(null==I?void 0:I.overlayOpacity,.7)},this.poweredBy=t.enablePoweredBy?{partnerUrl:t.partnerPoweredByUrl||null,url:(0,i.av)()}:null,this.privacyButtonUrls=e.privacyButtonUrls,this.primaryColor=(0,i.Q)((0,i.ap)(null===(d=null==I?void 0:I.color)||void 0===d?void 0:d.primary),"#0045A5"),this.accentColor=(0,i.Q)((0,i.ap)(null===(h=null==I?void 0:I.color)||void 0===h?void 0:h.tabsBorderColor),"#DDDDDD"),this.showCookieInformation=t.showCookieInformation,this.textColor=(0,i.Q)((0,i.ap)(null===(p=null==I?void 0:I.color)||void 0===p?void 0:p.text),"#303030"),this.theme=1,this.toggle={active:{backgroundColor:(0,i.Q)((0,i.ap)(null===(g=null==I?void 0:I.color)||void 0===g?void 0:g.toggleActiveBackground)||(0,i.ap)(null===(f=null==I?void 0:I.color)||void 0===f?void 0:f.primary),"#336AB7"),iconColor:(0,i.Q)((0,i.ap)(null===(v=null==I?void 0:I.color)||void 0===v?void 0:v.toggleActiveIcon),r)},disabled:{backgroundColor:(0,i.Q)((0,i.ap)(null===(S=null==I?void 0:I.color)||void 0===S?void 0:S.toggleDisabledBackground),"#dedede"),iconColor:(0,i.Q)((0,i.ap)(null===(E=null==I?void 0:I.color)||void 0===E?void 0:E.toggleDisabledIcon),r)},inactive:{backgroundColor:(0,i.Q)((0,i.ap)(null===(m=null==I?void 0:I.color)||void 0===m?void 0:m.toggleInactiveBackground),"#595959"),iconColor:(0,i.Q)((0,i.ap)(null===(y=null==I?void 0:I.color)||void 0===y?void 0:y.toggleInactiveIcon),r)}},this.useBackgroundShadow=(0,i.Q)(null==I?void 0:I.useBackgroundShadow,!0)},a=function(e){this.secondLayerTrigger=(0,i.Q)(e.firstLayer.secondLayerTrigger,i.aw.LINK)}},25:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(200),s=function(e,t){var n,s,r,o,a,c,u,l;this.customCss=null,this.hideDataProcessingServices=(0,i.Q)(t.hideDataProcessingServices,!1),this.defaultView=(0,i.Q)(t.defaultView,i.ao.CAT),this.backgroundColor=(0,i.Q)((0,i.ap)((null===(s=null===(n=e.customization)||void 0===n?void 0:n.color)||void 0===s?void 0:s.privacyButtonBackground)||(null===(o=null===(r=e.customization)||void 0===r?void 0:r.color)||void 0===o?void 0:o.primary)),null),this.desktopSize=(0,i.Q)(null===(a=e.customization)||void 0===a?void 0:a.privacyButtonSizeDesktop,null),this.iconColor=(0,i.Q)((0,i.ap)(null===(u=null===(c=e.customization)||void 0===c?void 0:c.color)||void 0===u?void 0:u.privacyButtonIcon),null),this.mobileSize=(0,i.Q)(null===(l=e.customization)||void 0===l?void 0:l.privacyButtonSizeMobile,null),this.iconUrl=(0,i.Q)(e.buttonPrivacyOpenIconUrl,null),this.position=function(e){switch(e){case"tl":case"tr":case"bl":case"br":return e;default:return"bl"}}(e.buttonDisplayLocation)}},8:(e,t,n)=>{"use strict";n.d(t,{F:()=>s,S:()=>r});var i=n(200),s=function(e){this.isOverlayEnabled=(0,i.ax)(e)},r=function(e){var t,n;this.defaultView=(0,i.Q)(e.secondLayer.defaultView,i.ao.CAT),this.hideDataProcessingServices=(0,i.Q)(e.secondLayer.hideDataProcessingServices,!1),this.isOverlayEnabled=(0,i.ay)(e),this.showCategoriesTab=(0,i.Q)(e.secondLayer.tabsCategoriesIsEnabled,!0),this.showServicesTab=(0,i.Q)(e.secondLayer.tabsServicesIsEnabled,!0),this.tabColor=(0,i.Q)((0,i.ap)(null===(n=null===(t=e.customization)||void 0===t?void 0:t.color)||void 0===n?void 0:n.secondLayerTab),null)}},107:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(200),s=function(){function e(){this.apiInstance=i.A.getInstance()}return e.prototype.getTargets=function(e){var t=this;return e.reduce((function(e,n){if("mark"!==n.entryType&&"measure"!==n.entryType&&"paint"!==n.entryType&&!n.name.startsWith("data:")&&!["visible"].includes(n.name)&&!/^https:\/\/([a-z0-9.]+).usercentrics\.eu/.test(n.name)){var s=n.name,r=t.extractSubdomain(s);if(-1===e.indexOf(r))return(0,i._)((0,i._)([],(0,i.a)(e),!1),[r],!1)}return e}),[])},e.prototype.initTagLogger=function(){var e=this;window.addEventListener("beforeunload",(function(){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e.updateLog()}))}))},e.prototype.extractSubdomain=function(e){var t,n=e.split("/");return e.indexOf("://")>-1?(t="".concat(n[2]),n[3]&&(t+="/".concat(n[3]))):(t="".concat(n[0]),n[1]&&(t+="/".concat(n[1]))),"".concat(t.split("?")[0])},e.prototype.updateLog=function(){if(Object.prototype.hasOwnProperty.call(window,"performance")&&"function"==typeof performance.getEntries){var e=window.performance.getEntries();this.apiInstance.updateTagLoggerData(this.getTargets(e))}else console.log("UC Warning: tag logger functionality is not supported by your browser.")},e}()},757:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ee});var i,s,r=n(200),o=n(989);function c(e,t){return Object.keys(t).forEach((function(n){"default"===n||"__esModule"===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return a,t[n]}})})),e}function u(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var l,d,h={},p={};u(p,"TCFCommand",(function(){return l})),(d=l||(l={})).PING="ping",d.GET_TC_DATA="getTCData",d.GET_IN_APP_TC_DATA="getInAppTCData",d.GET_VENDOR_LIST="getVendorList",d.ADD_EVENT_LISTENER="addEventListener",d.REMOVE_EVENT_LISTENER="removeEventListener",c(h,p),c(h,{});var g={},f={};u(f,"InAppTCData",(function(){return V}));var v={};u(v,"TCData",(function(){return P})),u({},"CmpApiModel",(function(){return L}));var S,E,m={},y={};u(y,"CmpStatus",(function(){return S})),(E=S||(S={})).STUB="stub",E.LOADING="loading",E.LOADED="loaded",E.ERROR="error";var I,C,T={};u(T,"DisplayStatus",(function(){return I})),(C=I||(I={})).VISIBLE="visible",C.HIDDEN="hidden",C.DISABLED="disabled";var A,b,_={};u(_,"EventStatus",(function(){return A})),(b=A||(A={})).TC_LOADED="tcloaded",b.CMP_UI_SHOWN="cmpuishown",b.USER_ACTION_COMPLETE="useractioncomplete",c(m,y),c(m,T),c(m,_);var w=function(){function e(t,n,i,s){(0,r.u)(this,e),this.success=!0,Object.assign(this,{callback:t,listenerId:i,param:n,next:s});try{this.respond()}catch(e){this.invokeCallback(null)}}return(0,r.w)(e,[{key:"invokeCallback",value:function(e){var t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)}}]),e}(),O=function(){(0,r.r)(t,w);var e=(0,r.t)(t);function t(){return(0,r.u)(this,t),e.apply(this,arguments)}return(0,r.w)(t,[{key:"respond",value:function(){this.throwIfParamInvalid(),this.invokeCallback(new P(this.param,this.listenerId))}},{key:"throwIfParamInvalid",value:function(){if(!(void 0===this.param||Array.isArray(this.param)&&this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")}}]),t}(),N=function(){function e(){(0,r.u)(this,e),this.eventQueue=new Map,this.queueNumber=0}return(0,r.w)(e,[{key:"add",value:function(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}},{key:"remove",value:function(e){return this.eventQueue.delete(e)}},{key:"exec",value:function(){this.eventQueue.forEach((function(e,t){new O(e.callback,e.param,t,e.next)}))}},{key:"clear",value:function(){this.queueNumber=0,this.eventQueue.clear()}},{key:"size",get:function(){return this.eventQueue.size}}]),e}(),L=function(){function e(){(0,r.u)(this,e)}return(0,r.w)(e,null,[{key:"reset",value:function(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.enableAdvertiserConsentMode=!1,this.addtlConsent="",this.cmpStatus=S.LOADING,this.disabled=!1,this.displayStatus=I.HIDDEN,this.eventQueue.clear()}}]),e}();(i=L).apiVersion="2",i.eventQueue=new N,i.cmpStatus=S.LOADING,i.disabled=!1,i.displayStatus=I.HIDDEN,i.enableAdvertiserConsentMode=!1,i.addtlConsent="";var D={};u(D,"Response",(function(){return R}));var R=(0,r.w)((function e(){(0,r.u)(this,e),this.cmpId=L.cmpId,this.cmpVersion=L.cmpVersion,this.gdprApplies=L.gdprApplies,this.tcfPolicyVersion=L.tcfPolicyVersion})),P=function(){(0,r.r)(t,R);var e=(0,r.t)(t);function t(n,i){var s;if((0,r.u)(this,t),(s=e.call(this)).eventStatus=L.eventStatus,s.cmpStatus=L.cmpStatus,s.listenerId=i,L.gdprApplies){var o=L.tcModel;s.tcString=L.tcString,s.addtlConsent=o.addtlConsent,s.enableAdvertiserConsentMode=o.enableAdvertiserConsentMode,s.isServiceSpecific=o.isServiceSpecific,s.useNonStandardTexts=o.useNonStandardTexts,s.purposeOneTreatment=o.purposeOneTreatment,s.publisherCC=o.publisherCountryCode,s.outOfBand={allowedVendors:s.createVectorField(o.vendorsAllowed,n),disclosedVendors:s.createVectorField(o.vendorsDisclosed,n)},s.purpose={consents:s.createVectorField(o.purposeConsents),legitimateInterests:s.createVectorField(o.purposeLegitimateInterests)},s.vendor={consents:s.createVectorField(o.vendorConsents,n),legitimateInterests:s.createVectorField(o.vendorLegitimateInterests,n)},s.specialFeatureOptins=s.createVectorField(o.specialFeatureOptins),s.publisher={consents:s.createVectorField(o.publisherConsents),legitimateInterests:s.createVectorField(o.publisherLegitimateInterests),customPurpose:{consents:s.createVectorField(o.publisherCustomConsents),legitimateInterests:s.createVectorField(o.publisherCustomLegitimateInterests)},restrictions:s.createRestrictions(o.publisherRestrictions)}}return s}return(0,r.w)(t,[{key:"createRestrictions",value:function(e){var t={};if(e.numRestrictions>0)for(var n=e.getMaxVendorId(),i=function(){var n=s.toString();e.getRestrictions(s).forEach((function(e){var i=e.purposeId.toString();t[i]||(t[i]={}),t[i][n]=e.restrictionType}))},s=1;s<=n;s++)i();return t}},{key:"createVectorField",value:function(e,t){return t?t.reduce((function(t,n){return t[String(n)]=e.has(Number(n)),t}),{}):(0,r.x)(e).reduce((function(e,t){return e[t[0].toString(10)]=t[1],e}),{})}}]),t}(),V=function(){(0,r.r)(t,P);var e=(0,r.t)(t);function t(n){var i;return(0,r.u)(this,t),delete(i=e.call(this,n)).outOfBand,i}return(0,r.w)(t,[{key:"createVectorField",value:function(e){return(0,r.x)(e).reduce((function(e,t){return e+(t[1]?"1":"0")}),"")}},{key:"createRestrictions",value:function(e){var t={};if(e.numRestrictions>0){var n=e.getMaxVendorId();e.getRestrictions().forEach((function(e){t[e.purposeId.toString()]="_".repeat(n)}));for(var i=function(n){var i=n+1;e.getRestrictions(i).forEach((function(e){var i=e.restrictionType.toString(),s=e.purposeId.toString(),r=t[s].substr(0,n),o=t[s].substr(n+1);t[s]=r+i+o}))},s=0;s<n;s++)i(s)}return t}}]),t}(),k={};u(k,"Ping",(function(){return U}));var U=function(){(0,r.r)(t,R);var e=(0,r.t)(t);function t(){var n;return(0,r.u)(this,t),(n=e.call(this)).cmpLoaded=!0,n.cmpStatus=L.cmpStatus,n.displayStatus=L.displayStatus,n.apiVersion=String(L.apiVersion),L.tcModel&&L.tcModel.vendorListVersion&&(n.gvlVersion=+L.tcModel.vendorListVersion),n}return(0,r.w)(t)}();c(g,f),c(g,k),c(g,D),c(g,v),u({},"CmpApi",(function(){return Z}));var x,M,F,G,B,$,H=function(){(0,r.r)(t,w);var e=(0,r.t)(t);function t(){return(0,r.u)(this,t),e.apply(this,arguments)}return(0,r.w)(t,[{key:"respond",value:function(){this.invokeCallback(new U)}}]),t}(),j=function(){(0,r.r)(t,O);var e=(0,r.t)(t);function t(){return(0,r.u)(this,t),e.apply(this,arguments)}return(0,r.w)(t,[{key:"respond",value:function(){this.throwIfParamInvalid(),this.invokeCallback(new V(this.param))}}]),t}(),q=function(){(0,r.r)(t,w);var e=(0,r.t)(t);function t(){return(0,r.u)(this,t),e.apply(this,arguments)}return(0,r.w)(t,[{key:"respond",value:function(){var e,t=this,n=L.tcModel,i=n.vendorListVersion;void 0===this.param&&(this.param=i),(e=this.param===i&&n.gvl?n.gvl:new r.$(this.param)).readyPromise.then((function(){t.invokeCallback(e.getJson())}))}}]),t}(),Y=function(){(0,r.r)(t,O);var e=(0,r.t)(t);function t(){return(0,r.u)(this,t),e.apply(this,arguments)}return(0,r.w)(t,[{key:"respond",value:function(){this.listenerId=L.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),(0,r.y)((0,r.z)(t.prototype),"respond",this).call(this)}}]),t}(),W=function(){(0,r.r)(t,w);var e=(0,r.t)(t);function t(){return(0,r.u)(this,t),e.apply(this,arguments)}return(0,r.w)(t,[{key:"respond",value:function(){this.invokeCallback(L.eventQueue.remove(this.param))}}]),t}(),J=(0,r.w)((function e(){(0,r.u)(this,e)}));s=J,x=l.PING,M=l.GET_TC_DATA,F=l.GET_IN_APP_TC_DATA,G=l.GET_VENDOR_LIST,B=l.ADD_EVENT_LISTENER,$=l.REMOVE_EVENT_LISTENER,s[x]=H,s[M]=O,s[F]=j,s[G]=q,s[B]=Y,s[$]=W;var z=function(){(0,r.r)(t,R);var e=(0,r.t)(t);function t(){var n;(0,r.u)(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(n=e.call.apply(e,[this].concat(s))).cmpStatus=S.ERROR,n}return(0,r.w)(t)}(),Q=function(){function e(){(0,r.u)(this,e)}return(0,r.w)(e,null,[{key:"has",value:function(e){return"string"==typeof e&&(e=Number(e)),this.set_.has(e)}}]),e}();Q.set_=new Set([0,2,void 0,null]);var K="__tcfapi",X=function(){function e(t){if((0,r.u)(this,e),t){var n=l.ADD_EVENT_LISTENER;if(null!=t&&t[n])throw new Error("Built-In Custom Commmand for ".concat(n," not allowed: Use ").concat(l.GET_TC_DATA," instead"));if(n=l.REMOVE_EVENT_LISTENER,null!=t&&t[n])throw new Error("Built-In Custom Commmand for ".concat(n," not allowed"));null!=t&&t[l.GET_TC_DATA]&&(t[l.ADD_EVENT_LISTENER]=t[l.GET_TC_DATA],t[l.REMOVE_EVENT_LISTENER]=t[l.GET_TC_DATA]),this.customCommands=t}try{this.callQueue=window[K]()||[]}catch(e){this.callQueue=[]}finally{window[K]=this.apiCall.bind(this),this.purgeQueuedCalls()}}return(0,r.w)(e,[{key:"apiCall",value:function(e,t,n){for(var i,s=arguments.length,r=new Array(s>3?s-3:0),o=3;o<s;o++)r[o-3]=arguments[o];if("string"!=typeof e)n(null,!1);else if(Q.has(t)){if("function"!=typeof n)throw new Error("invalid callback function");L.disabled?n(new z,!1):this.isCustomCommand(e)||this.isBuiltInCommand(e)?this.isCustomCommand(e)&&!this.isBuiltInCommand(e)?(i=this.customCommands)[e].apply(i,[n].concat(r)):e===l.PING?this.isCustomCommand(e)?new J[e](this.customCommands[e],r[0],null,n):new J[e](n,r[0]):void 0===L.tcModel?this.callQueue.push([e,t,n].concat(r)):this.isCustomCommand(e)&&this.isBuiltInCommand(e)?new J[e](this.customCommands[e],r[0],null,n):new J[e](n,r[0]):n(null,!1)}else n(null,!1)}},{key:"purgeQueuedCalls",value:function(){var e=this.callQueue;this.callQueue=[],e.forEach((function(e){var t;(t=window)[K].apply(t,(0,r.x)(e))}))}},{key:"isCustomCommand",value:function(e){return this.customCommands&&"function"==typeof this.customCommands[e]}},{key:"isBuiltInCommand",value:function(e){return void 0!==J[e]}}]),e}(),Z=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0;(0,r.u)(this,e),this.numUpdates=0,this.throwIfInvalidInt(t,"cmpId",2),this.throwIfInvalidInt(n,"cmpVersion",0),L.cmpId=t,L.cmpVersion=n,L.tcfPolicyVersion=4,this.isServiceSpecific=!!i,this.callResponder=new X(s)}return(0,r.w)(e,[{key:"throwIfInvalidInt",value:function(e,t,n){if(!("number"==typeof e&&Number.isInteger(e)&&e>=n))throw new Error("Invalid ".concat(t,": ").concat(e))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(L.disabled)throw new Error("CmpApi Disabled");L.cmpStatus=S.LOADED,t?(L.displayStatus=I.VISIBLE,L.eventStatus=A.CMP_UI_SHOWN):void 0===L.tcModel?(L.displayStatus=I.DISABLED,L.eventStatus=A.TC_LOADED):(L.displayStatus=I.HIDDEN,L.eventStatus=A.USER_ACTION_COMPLETE),L.gdprApplies=null!==e,L.gdprApplies?(""===e?(L.tcModel=new r.B,L.tcModel.cmpId=L.cmpId,L.tcModel.cmpVersion=L.cmpVersion):L.tcModel=r.H.decode(e),L.tcModel.addtlConsent=n||"",L.tcModel.enableAdvertiserConsentMode=L.enableAdvertiserConsentMode,L.tcModel.isServiceSpecific=this.isServiceSpecific,L.tcfPolicyVersion=Number(L.tcModel.policyVersion),L.tcString=e):L.tcModel=null,0===this.numUpdates?this.callResponder.purgeQueuedCalls():L.eventQueue.exec(),this.numUpdates++}},{key:"disable",value:function(){L.disabled=!0,L.cmpStatus=S.ERROR}}]),e}(),ee=function(e){function t(t,n,i,s,o,a,c,u){var l=e.call(this,i,o)||this;l.gcmEnabled=!1,l.policyVersion=5,l.locationInstance=r.I.getInstance(),l.botInstance=r.J.getInstance(),l.previousStorage=null,l.selectedVendorsIncludeNonDisclosed=!1,l.cmpApi={},l.tcModel=null,l.tcfData=null,l.vendors=[];var d=t.tcf2,h=d.acmV2Enabled,p=d.advertiserConsentModeEnabled,g=d.atpPurposes,f=d.changedPurposes,v=d.cmpId,S=d.cmpVersion,E=d.consensuDomain,m=d.consensuScriptPath,y=d.dataRetentionPeriodLabel,I=d.disabledSpecialFeatures,C=d.firstLayerHideToggles,T=d.gdprApplies,A=d.hideLegitimateInterestToggles,b=d.publisherCountryCode,_=d.purposeOneTreatment,w=d.secondLayerHideToggles,O=d.selectedStacks,N=d.selectedVendorIds,L=d.selectedATPIds,D=d.tcfv2HistoryDisabled,R=d.vendorIdsOutsideEUList,P=d.version,V=t.googleConsentMode;return l.acmData={isEnabled:!0===h,vendorIds:h&&L||[],vendorsPurposes:h&&g?(0,r.K)(g):[]},l.advertiserConsentModeEnabled=p,l.gcmEnabled=!0===V,l.changedPurposes=(0,r.M)(f),l.cmpId=v||5,l.cmpVersion=S||(0,r.N)(),l.policyVersion="2.0"===P||"2.1"===P?2:5,l.consensuScriptPath=(0,r.O)(m),l.consensuSubdomain=(0,r.P)(E),l.dataRetentionLabel=y,l.disabledSpecialFeatures=I||[],l.gdprApplies=(0,r.Q)(T,!1),l.hideLegitimateInterestToggles=A,l.isAnalyticsEnabled=!0===t.consentAnalytics,l.isApiV2Enabled=!0===t.consentAPIv2,l.isConsentXDeviceEnabled=!0===t.consentXDevice,l.publisherCountryCode=b||"DE",l.purposeOneTreatment=(0,r.Q)(_,!1),l.resurfaceOptions=(0,r.R)(n),l.stackIds=O||[],l.tcfv2HistoryDisabled=D,l.useGranularChoice=(0,r.T)(C,w),l.vendorIds=N||[],l.vendorIdsOutsideEUList=R||[],l.selectedLanguage=(0,r.U)(a),l.enableDeprecatedV1ConsentSaving=u,l.cmpApi=new Z(l.cmpId,l.cmpVersion,!0),l.dataTransferSettings=s,l.excludeAcceptAllVendors=c,l}return(0,r.f)(t,e),t.prototype.updateControllerId=function(e){this.dataTransferSettings.controllerId=e},t.prototype.acceptAllDisclosed=function(e){var t,n;return(0,r.j)(this,void 0,void 0,(function(){var i,s,o,a=this;return(0,r.k)(this,(function(c){switch(c.label){case 0:return(i=this.tcModel)?(this.acmData.isEnabled&&this.acmData.vendors&&(this.acmData.vendors=this.acmData.vendors.map((function(e){return(0,r.p)((0,r.p)({},e),{consent:{status:!0}})}))),s=[],o=[],this.getVendors().forEach((function(e){var t=e.id,n=e.legitimateInterestPurposes,r=e.purposes,c=e.specialPurposes,u=-1===a.excludeAcceptAllVendors.indexOf(t);r.length?(u&&i.vendorConsents.set(t),s=s.concat(r.map((function(e){return e.id})))):u&&i.vendorConsents.unset(t),n.length||c.length&&0===n.length&&0===r.length?(u&&i.vendorLegitimateInterests.set(t),o=o.concat(n.map((function(e){return e.id})))):u&&i.vendorLegitimateInterests.unset(t)})),i.purposeConsents.set((0,r.V)(s)),i.purposeLegitimateInterests.set((0,r.V)(o)),this.hideLegitimateInterestToggles&&(i.unsetAllVendorLegitimateInterests(),i.unsetAllPurposeLegitimateInterests()),i.specialFeatureOptins.set((0,r.X)(null===(n=null===(t=this.tcModel)||void 0===t?void 0:t.gvl)||void 0===n?void 0:n.stacks,this.getVendors(),this.disabledSpecialFeatures,this.stackIds)),this.tcModel=i,[4,this.updateTCString(e)]):[2];case 1:return c.sent(),[2]}}))}))},t.prototype.areAllPurposesAccepted=function(){var e,t;return(0,r.Y)(this.tcModel,null===(e=this.tcModel)||void 0===e?void 0:e.gvl.stacks,null===(t=this.tcModel)||void 0===t?void 0:t.gvl.purposes,this.vendors,this.disabledSpecialFeatures,this.stackIds,this.purposeOneTreatment,this.useGranularChoice,this.hideLegitimateInterestToggles).every((function(e){var t=!0,n=!0;return e.showConsentToggle&&null!==e.consent&&(t=e.consent),e.showLegitimateInterestToggle&&null!==e.legitimateInterestConsent&&(n=e.legitimateInterestConsent),t&&n}))},t.prototype.areAllVendorsAccepted=function(){return this.getVendors().every((function(e){var t=!0,n=!0;return e.showConsentToggle&&null!==e.consent&&(t=e.consent),e.showLegitimateInterestConsentToggle&&null!==e.legitimateInterestConsent&&(n=e.legitimateInterestConsent),t&&n}))},t.prototype.changeLanguage=function(e,t){var n;return(0,r.j)(this,void 0,void 0,(function(){var i,s,o=this;return(0,r.k)(this,(function(a){switch(a.label){case 0:return i=(0,r.U)(e),[4,this.resetGVLWithLanguage("en"===i?"".concat(i,"-v2"):i)];case 1:return a.sent(),t&&(this.dataRetentionLabel=t.dataRetentionPeriodLabel,t.acmV2Enabled&&t.atpPurposes&&(this.acmData.vendorsPurposes=(0,r.K)(t.atpPurposes),s=null===(n=this.acmData.vendors)||void 0===n?void 0:n.map((function(e){return(0,r.p)((0,r.p)({},e),{purposes:o.acmData.vendorsPurposes})})),this.acmData.vendors=s)),this.tcModel&&this.tcModel.gvl.narrowVendorsTo(this.vendorIds),this.resetTcfData(),[2]}}))}))},t.prototype.denyAllDisclosed=function(e){return(0,r.j)(this,void 0,void 0,(function(){var t;return(0,r.k)(this,(function(n){switch(n.label){case 0:return this.tcModel?(this.acmData.isEnabled&&this.acmData.vendors&&(this.acmData.vendors=this.acmData.vendors.map((function(e){return(0,r.p)((0,r.p)({},e),{consent:{status:!1}})}))),this.tcModel.unsetAllVendorConsents(),this.tcModel.unsetAllVendorLegitimateInterests(),t=(0,r.Z)(this.tcModel.gvl.stacks,this.getVendors(),this.disabledSpecialFeatures,this.stackIds,this.purposeOneTreatment),this.tcModel.purposeConsents.unset(t),this.tcModel.purposeLegitimateInterests.unset(t),this.tcModel.specialFeatureOptins.unset((0,r.X)(this.tcModel.gvl.stacks,this.getVendors(),this.disabledSpecialFeatures,this.stackIds)),[4,this.updateTCString(e)]):[2];case 1:return n.sent(),[2]}}))}))},t.prototype.getSelectedVendorsIncludeNonDisclosed=function(){return this.selectedVendorsIncludeNonDisclosed},t.prototype.getTcModel=function(){return this.tcModel},t.prototype.getTCFData=function(){var e,t,n,i,s,o,a,c,u;return this.tcfData||(this.tcfData={acmVendors:this.getAcmVendors(),features:(0,r.a0)(this.getVendors(),null===(t=null===(e=this.tcModel)||void 0===e?void 0:e.gvl)||void 0===t?void 0:t.features),purposes:(0,r.Y)(this.tcModel,null===(n=this.tcModel)||void 0===n?void 0:n.gvl.stacks,null===(i=this.tcModel)||void 0===i?void 0:i.gvl.purposes,this.getVendors(),this.disabledSpecialFeatures,this.stackIds,this.purposeOneTreatment,this.useGranularChoice,this.hideLegitimateInterestToggles),specialFeatures:(0,r.a1)(this.tcModel,null===(s=this.tcModel)||void 0===s?void 0:s.gvl,this.getVendors(),this.disabledSpecialFeatures,this.stackIds,this.useGranularChoice),specialPurposes:(0,r.a2)(null===(a=null===(o=this.tcModel)||void 0===o?void 0:o.gvl)||void 0===a?void 0:a.specialPurposes,this.getVendors()),stacks:(0,r.a3)(null===(u=null===(c=this.tcModel)||void 0===c?void 0:c.gvl)||void 0===u?void 0:u.stacks,this.disabledSpecialFeatures,this.stackIds),vendors:this.getVendors()}),this.tcfData},t.prototype.getGdprApplies=function(){return(0,r.j)(this,void 0,void 0,(function(){return(0,r.k)(this,(function(e){switch(e.label){case 0:return this.gdprApplies?[4,this.locationInstance.getIsUserInEU()]:[2,!0];case 1:return[2,e.sent()]}}))}))},t.prototype.getACString=function(){var e;if(this.acmData.isEnabled&&(null===(e=this.acmData.vendors)||void 0===e?void 0:e.length)){var t=this.acmData.vendors.reduce((function(e,t){var n=e.consentedAcmVendorIds,i=e.disclosedAcmVendorIds;return t.consent.status?n.push(t.id):i.push(t.id),{consentedAcmVendorIds:n,disclosedAcmVendorIds:i}}),{consentedAcmVendorIds:[],disclosedAcmVendorIds:[]}),n=t.consentedAcmVendorIds,i=t.disclosedAcmVendorIds;return"2~".concat(n.join("."),"~dv.").concat(i.join("."))}return""},t.prototype.getTCString=function(e){return this.tcModel?r.H.encode(this.tcModel,e):""},t.prototype.getTCFDisclosedVendorsSegmentString=function(){return this.getTCString({segments:[r.a4.VENDORS_DISCLOSED]})},t.prototype.init=function(e){return(0,r.j)(this,void 0,void 0,(function(){var t,n;return(0,r.k)(this,(function(i){switch(i.label){case 0:return this.previousStorage=r.c.fetchTCFData(),t=r.c.fetchTCString()||"",n=r.c.fetchACString()||"",[4,this.initTCModel({acString:n,tcString:t},e)];case 1:return i.sent(),this.botInstance.isRobot()&&this.acceptAllDisclosed(1),[2]}}))}))},t.prototype.setUIAsClosed=function(){return(0,r.j)(this,void 0,void 0,(function(){return(0,r.k)(this,(function(e){return[2,this.cmpApiUpdate(r.c.fetchTCString(),!1,r.c.fetchACString())]}))}))},t.prototype.setUIAsOpen=function(){return(0,r.j)(this,void 0,void 0,(function(){return(0,r.k)(this,(function(e){return[2,this.cmpApiUpdate(r.c.fetchTCString(),!0,r.c.fetchACString())]}))}))},t.prototype.shouldResurfaceUI=function(){var e=this.resurfaceOptions;return 4===this.policyVersion&&e.onATPListChanged&&(0,r.a5)(this.previousStorage,this.getAcmVendors())||e.onIABLegalBasisChanged&&(0,r.a6)(this.previousStorage,this.tcModel)||e.onVendorAdded&&(0,r.a7)(this.previousStorage,this.getVendors())||e.onPurposeChanged&&(0,r.a8)(this.previousStorage,this.getVendors())||e.onPeriodEnded&&(0,r.a9)(this.previousStorage)},t.prototype.updateChoices=function(e,t){return(0,r.j)(this,void 0,void 0,(function(){return(0,r.k)(this,(function(n){switch(n.label){case 0:return e.purposes?[4,this.savePurposes(e.purposes)]:[3,2];case 1:n.sent(),n.label=2;case 2:return e.specialFeatures?[4,this.saveSpecialFeatures(e.specialFeatures)]:[3,4];case 3:n.sent(),n.label=4;case 4:return e.vendors?[4,this.saveVendors(e.vendors)]:[3,6];case 5:n.sent(),n.label=6;case 6:return this.tcModel&&this.hideLegitimateInterestToggles&&(this.tcModel.unsetAllVendorLegitimateInterests(),this.tcModel.unsetAllPurposeLegitimateInterests()),e.purposes||e.specialFeatures||e.vendors?[4,this.updateTCString(t)]:[3,8];case 7:n.sent(),n.label=8;case 8:return[2]}}))}))},t.prototype.resetTcf=function(){this.cmpApi={},this.selectedVendorsIncludeNonDisclosed=!1,this.tcModel={},this.tcfData=null,this.vendors=[]},t.prototype.applyPurposeRestrictions=function(e,t){var n=this;e.forEach((function(e){var i,s=new r.aa(e,t);null===(i=n.tcModel)||void 0===i||i.publisherRestrictions.restrictPurposeToLegalBasis(s)}))},t.prototype.cmpApiUpdate=function(e,t,n){return void 0===n&&(n=""),(0,r.j)(this,void 0,void 0,(function(){var i;return(0,r.k)(this,(function(s){switch(s.label){case 0:return null==(i=r.G.getInstance())||i.setSectionString(e,"tcfeuv2"),[4,this.getGdprApplies()];case 1:return s.sent()?this.cmpApi.update(e,t,n):this.cmpApi.update(null),[2]}}))}))},t.prototype.getVendors=function(){return(0,r.q)(this.vendors)||this.setVendors(),this.vendors},t.prototype.initTCModel=function(e,t){var n,i,s=e.tcString,o=e.acString;return(0,r.j)(this,void 0,void 0,(function(){var e,a,c,u,l,d,h,p,g,f,v,S,E,m,y,I,C,T,A,b,_,w=this;return(0,r.k)(this,(function(O){switch(O.label){case 0:if(!this.acmData.isEnabled||!this.acmData.vendorIds.length||this.acmData.vendors)return[3,2];if(e=[],o)try{e=o.split("~")[1].split(".").map((function(e){return parseInt(e,10)}))}catch(e){}return[4,r.A.getInstance().fetchAcmVendors().then((function(t){var n=[];w.acmData.vendorIds.forEach((function(i){if(t.providers[i]){var s=(0,r.a)(t.providers[i],2),o=s[0],a=s[1];n.push({consent:{status:e.some((function(e){return e===i}))},id:i,name:o,privacyPolicyUrl:a,purposes:w.acmData.vendorsPurposes})}})),w.acmData.vendors=n}))];case 1:O.sent(),O.label=2;case 2:return this.isPolicyVersion2()?(r.$.baseUrl=t?r.ad:r.ae,r.$.languageFilename=r.af,r.$.latestFilename=r.ag):(r.$.baseUrl=t?r.ah:r.ai,r.$.languageFilename=r.aj,r.$.latestFilename=r.ak),[4,r.A.getInstance().fetchVendorsList("".concat(r.$.baseUrl).concat(r.$.latestFilename),this.changedPurposes.notAllowedPurposes)];case 3:if(a=O.sent(),c=new r.$(a),this.tcModel=new r.B(c),this.tcModel.cmpId=this.cmpId,this.tcModel.cmpVersion=this.cmpVersion,this.tcModel.isServiceSpecific=!0,this.tcModel.publisherCountryCode=this.publisherCountryCode,this.tcModel.purposeOneTreatment=this.purposeOneTreatment,this.gcmEnabled&&(u=void 0===this.advertiserConsentModeEnabled||this.advertiserConsentModeEnabled,l=void 0!==window.advertiserConsentMode?window.advertiserConsentMode:u,this.setEnableAdvertiserConsentMode(l)),this.acmData.isEnabled&&this.setAddtlConsent(o||""),s)try{if(d=this.tcModel.gvl,h=this.tcModel.publisherRestrictions,p=r.H.decode(s,this.tcModel),parseInt(p.policyVersion.toString(),10)>2){for(this.tcModel=p,this.isPolicyVersion2()||this.tcModel.purposeLegitimateInterests.unset([1,3,4,5,6]),g=this.tcModel.purposeConsents.values(),f=this.tcModel.purposeConsents.size,E=0;E<=f-1;E+=1)m=g.next().value,d.purposes[m]||null===(n=this.tcModel)||void 0===n||n.purposeConsents.unset(m);for(v=this.tcModel.purposeLegitimateInterests.values(),S=this.tcModel.purposeLegitimateInterests.size,E=0;E<=S-1;E+=1)m=v.next().value,d.purposes[m]||null===(i=this.tcModel)||void 0===i||i.purposeLegitimateInterests.unset(m);this.tcModel=Object.assign(this.tcModel,{gvl:d,publisherRestrictions:h}),null==(y=r.G.getInstance())||y.setSectionString(s,"tcfeuv2")}}catch(e){console.warn(r.ac.INIT_TCF_ERROR,e)}if(null===this.tcModel)throw new Error(r.ac.TC_MODEL_UNDEFINED);if(!this.selectedLanguage)throw new Error(r.ac.SELECTED_LANGUAGE_UNDEFINED);return[4,this.tcModel.gvl.readyPromise.catch((function(e){console.warn(r.ac.RESET_GVL_FAILURE,e)}))];case 4:return O.sent(),this.tcModel.gvl.narrowVendorsTo(this.vendorIds),I=(0,r._)([],(0,r.a)(this.tcModel.gvl.vendorIds),!1),C=(0,r.U)(this.selectedLanguage),[4,this.resetGVLWithLanguage("en"===C?"".concat(C,"-v2"):C)];case 5:return O.sent(),T=this.changedPurposes,A=T.purposes,b=T.legitimateInterestPurposes,_=T.notAllowedPurposes,this.applyPurposeRestrictions(A,r.ab.REQUIRE_CONSENT),this.applyPurposeRestrictions(b,r.ab.REQUIRE_LI),this.applyPurposeRestrictions(_,r.ab.NOT_ALLOWED),this.setSelectedVendorsIncludeNonDisclosed(I),[2]}}))}))},t.prototype.setEnableAdvertiserConsentMode=function(e){this.tcModel&&(this.tcModel.enableAdvertiserConsentMode=e),L.enableAdvertiserConsentMode=e},t.prototype.setAddtlConsent=function(e){this.tcModel&&(this.tcModel.addtlConsent=e),L.addtlConsent=e},t.prototype.resetGVLWithLanguage=function(e){var t,n;return(0,r.j)(this,void 0,void 0,(function(){var i;return(0,r.k)(this,(function(s){return i=(0,r.U)(e),[2,null===(n=null===(t=this.tcModel)||void 0===t?void 0:t.gvl)||void 0===n?void 0:n.changeLanguage(i).catch((function(e){console.warn(r.ac.RESET_GVL_FAILURE,e)}))]}))}))},t.prototype.resetTcfData=function(){this.setVendors(),this.tcfData=null},t.prototype.setSelectedVendorsIncludeNonDisclosed=function(e){var t=r.c.fetchTCFVendorsDisclosedObject();e.some((function(e){return!(0,r.al)(e,t)}))&&(this.selectedVendorsIncludeNonDisclosed=!0)},t.prototype.savePurposes=function(e){return(0,r.j)(this,void 0,void 0,(function(){var t;return(0,r.k)(this,(function(n){return(t=this.tcModel)?(e.forEach((function(e){e.consent?t.purposeConsents.set(e.id):t.purposeConsents.unset(e.id),e.legitimateInterestConsent?t.purposeLegitimateInterests.set(e.id):t.purposeLegitimateInterests.unset(e.id)})),[2]):[2]}))}))},t.prototype.saveSpecialFeatures=function(e){return(0,r.j)(this,void 0,void 0,(function(){var t;return(0,r.k)(this,(function(n){return(t=this.tcModel)?(e.forEach((function(e){e.consent?t.specialFeatureOptins.set(e.id):t.specialFeatureOptins.unset(e.id)})),[2]):[2]}))}))},t.prototype.saveVendors=function(e){return(0,r.j)(this,void 0,void 0,(function(){var t;return(0,r.k)(this,(function(n){return(t=this.tcModel)?(e.forEach((function(e){e.consent?t.vendorConsents.set(e.id):t.vendorConsents.unset(e.id),e.legitimateInterestConsent?t.vendorLegitimateInterests.set(e.id):t.vendorLegitimateInterests.unset(e.id)})),[2]):[2]}))}))},t.prototype.setVendors=function(){this.vendors=(0,r.am)(this.tcModel,this.disabledSpecialFeatures,this.useGranularChoice,this.hideLegitimateInterestToggles,this.purposeOneTreatment,this.vendorIdsOutsideEUList,this.dataRetentionLabel)},t.prototype.getTcfData=function(){return{acString:this.getACString(),tcString:this.getTCString(),timestamp:Date.now(),vendors:(0,r.an)(this.getVendors())}},t.prototype.injectTCString=function(e){return(0,r.j)(this,void 0,void 0,(function(){var t,n;return(0,r.k)(this,(function(i){switch(i.label){case 0:return t=r.H.decode(e),this.isPolicyVersion2()||t.purposeLegitimateInterests.unset([1,3,4,5,6]),this.tcModel&&t.lastUpdated>=this.tcModel.lastUpdated?(n=this.getTcfData(),r.c.saveTCFData((0,r.p)((0,r.p)({},n),{tcString:e})),[4,this.saveTCFData(n)]):[3,2];case 1:return i.sent(),[2,!0];case 2:return[2,!1]}}))}))},t.prototype.isPolicyVersion2=function(){return 2===this.policyVersion},t.prototype.saveTCFData=function(e){return(0,r.j)(this,void 0,void 0,(function(){return(0,r.k)(this,(function(t){return[2,r.A.getInstance().saveTCFConsents(this.dataTransferSettings,e,"onTcfStringChange","explicit",this.isApiV2Enabled?{isAnalyticsEnabled:this.isAnalyticsEnabled,isConsentAPIv2Enabled:this.isConsentXDeviceEnabled}:null,this.enableDeprecatedV1ConsentSaving)]}))}))},t.prototype.updateTCString=function(e){return(0,r.j)(this,void 0,void 0,(function(){var t;return(0,r.k)(this,(function(n){switch(n.label){case 0:return this.tcModel&&(this.isPolicyVersion2()||this.tcModel.purposeLegitimateInterests.unset([1,3,4,5,6]),this.tcModel.consentScreen=e,this.tcModel.updated()),t=this.getTcfData(),r.c.saveTCFData(t),[4,this.cmpApiUpdate(t.tcString,!1,t.acString)];case 1:return n.sent(),this.resetTcfData(),this.botInstance.isRobot()?[3,3]:[4,this.saveTCFData(t)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.getVendorsCount=function(){return(this.getVendors().length||0)+this.getAcmVendorsCount()},t.prototype.getAcmVendors=function(){return this.acmData.vendors||[]},t.prototype.getAcmVendorsCount=function(){return this.getAcmVendors().length||0},t}(o.default)},685:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(200),s=n(933),r=n(859),o=function(e){function t(t,n){var o,a,c,u,l,d=this;d=e.call(this,t,n)||this;var h=n.customization;return d.buttons=(0,i.p)((0,i.p)((0,i.p)({},new r.B(n)),new s.B(n)),{save:{backgroundColor:(0,i.ap)(null===(o=null==h?void 0:h.color)||void 0===o?void 0:o.saveBtnBackground),textColor:(0,i.ap)(null===(a=null==h?void 0:h.color)||void 0===a?void 0:a.saveBtnText)}}),d.firstLayer=(0,i.p)((0,i.p)({},new s.F(n)),{hideButtonDeny:(0,i.aq)(n.tcf2.firstLayerHideButtonDeny,!n.tcf2.buttonsDenyAllIsEnabled),hideCustomizationButton:!0===(null===(c=n.tcf2)||void 0===c?void 0:c.enforceAcceptAll),hideNonIabPurposes:n.tcf2.hideNonIabOnFirstLayer,hideToggles:n.tcf2.firstLayerHideToggles||!0===n.tcf2.enforceAcceptAll,isOverlayEnabled:(0,i.ax)(n),showDescriptions:n.tcf2.firstLayerShowDescriptions}),d.secondLayer={dpsDisplayFormat:n.dpsDisplayFormat||i.ar.ALL,hideButtonDeny:(0,i.aq)(n.tcf2.secondLayerHideButtonDeny,!n.tcf2.buttonsDenyAllIsEnabled),hideLegitimateInterestToggles:n.tcf2.hideLegitimateInterestToggles,hideToggles:n.tcf2.secondLayerHideToggles||!0===n.tcf2.enforceAcceptAll,isOverlayEnabled:(0,i.ay)(n),showToggleAllVendors:n.tcf2.vendorToggleAll,tabColor:(0,i.Q)((0,i.ap)(null===(l=null===(u=n.customization)||void 0===u?void 0:u.color)||void 0===l?void 0:l.secondLayerTab),null)},d}return(0,i.f)(t,e),t}(s.C)},200:(e,t,n)=>{"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,s){var r=t&&t.prototype instanceof p?t:p,o=Object.create(r.prototype),a=new _(s||[]);return i(o,"_invoke",{value:C(e,n,a)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h={};function p(){}function g(){}function f(){}var v={};u(v,o,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(w([])));E&&E!==t&&n.call(E,o)&&(v=E);var m=f.prototype=p.prototype=Object.create(v);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function s(i,r,o,a){var c=d(e[i],e,r);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){s("next",e,o,a)}),(function(e){s("throw",e,o,a)})):t.resolve(l).then((function(e){u.value=e,o(u)}),(function(e){return s("throw",e,o,a)}))}a(c.arg)}var r;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){s(e,n,t,i)}))}return r=r?r.then(i,i):i()}})}function C(e,t,n){var i="suspendedStart";return function(s,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===s)throw r;return{value:void 0,done:!0}}for(n.method=s,n.arg=r;;){var o=n.delegate;if(o){var a=T(o,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=d(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}function T(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var s=d(i,e.iterator,t.arg);if("throw"===s.type)return t.method="throw",t.arg=s.arg,t.delegate=null,h;var r=s.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function w(e){if(e||""===e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}throw new TypeError(typeof e+" is not iterable")}return g.prototype=f,i(m,"constructor",{value:f,configurable:!0}),i(f,"constructor",{value:g,configurable:!0}),g.displayName=u(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,c,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},y(I.prototype),u(I.prototype,a,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,i,s,r){void 0===r&&(r=Promise);var o=new I(l(t,n,i,s),r);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(m),u(m,c,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=w,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var r=this.tryEntries[s],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var a=n.call(r,"catchLoc"),c=n.call(r,"finallyLoc");if(a&&c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i];if(s.tryLoc<=this.prev&&n.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var r=s;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),b(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var s=i.arg;b(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t,n,i,s,r,o){try{var a=e[r](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(i,s)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(i,s){var r=e.apply(t,n);function o(e){a(r,i,s,o,c,"next",e)}function c(e){a(r,i,s,o,c,"throw",e)}o(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_(i.key),i)}}function d(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function S(e,t,n){return S=v()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var s=new(Function.bind.apply(e,i));return n&&f(s,n.prototype),s},S.apply(null,arguments)}function E(e){var t="function"==typeof Map?new Map:void 0;return E=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return S(e,arguments,g(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),f(i,e)},E(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){var t=v();return function(){var n,i=g(e);if(t){var s=g(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}(this,n)}}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(i){var s=Object.getOwnPropertyDescriptor(i,t);return s.get?s.get.call(arguments.length<3?e:n):s.value}},I.apply(this,arguments)}function C(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=T(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,s=function(){};return{s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}function _(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}n.d(t,{$:()=>ho,A:()=>Wt,B:()=>po,C:()=>ie,D:()=>se,E:()=>Ve,F:()=>re,G:()=>Es,H:()=>yo,I:()=>Gt,J:()=>Zt,K:()=>Ao,L:()=>ke,M:()=>To,N:()=>Te,O:()=>bo,P:()=>_o,Q:()=>_e,R:()=>Ro,S:()=>fs,T:()=>Oo,U:()=>jo,V:()=>Le,W:()=>ae,X:()=>Po,Y:()=>Do,Z:()=>Lo,_:()=>Q,a:()=>z,a0:()=>wo,a1:()=>Vo,a2:()=>ko,a3:()=>Uo,a4:()=>cr,a5:()=>Go,a6:()=>Fo,a7:()=>Bo,a8:()=>$o,a9:()=>Mo,aD:()=>mo,aS:()=>vo,aa:()=>nr,ab:()=>Xs,ac:()=>ce,ad:()=>ln,ae:()=>cn,af:()=>hn,ag:()=>gn,ah:()=>dn,ai:()=>un,aj:()=>pn,ak:()=>fn,al:()=>No,am:()=>Co,an:()=>Ho,ao:()=>Pe,ap:()=>ze,aq:()=>Je,ar:()=>$,as:()=>B,at:()=>Ze,au:()=>et,av:()=>st,aw:()=>F,ax:()=>Ke,ay:()=>Xe,az:()=>na,b:()=>oe,c:()=>ye,d:()=>gs,e:()=>So,f:()=>O,g:()=>fe,h:()=>j,i:()=>yn,j:()=>W,k:()=>J,l:()=>Mn,m:()=>Yt,n:()=>Nn,o:()=>Cn,p:()=>Y,q:()=>Ae,r:()=>p,s:()=>Dt,t:()=>y,u:()=>u,v:()=>xt,w:()=>d,x:()=>C,y:()=>I,z:()=>g});var w=function(e,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},w(e,t)};function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var N,L,D,R,P,V,k,U,x,M,F,G,B,$,H,j,q,Y=function(){return Y=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Y.apply(this,arguments)};function W(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))}function J(e,t){var n,i,s,r,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(o=0)),o;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function z(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,s,r=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(e){s={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Q(e,t,n){if(n||2===arguments.length)for(var i,s=0,r=t.length;s<r;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function K(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,s){!function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}(i,s,(t=e[n](t)).done,t.value)}))}}}"function"==typeof SuppressedError&&SuppressedError,function(e){e.CONSENT_RESPONSE="consent-response",e.CONSENT_UI="consent-ui"}(N||(N={})),function(e){e.ACCEPT="accept",e.REJECT="reject",e.DISMISS="dismiss",e.FULLSCREEN="enter-fullscreen",e.READY="ready"}(L||(L={})),function(e){e[e.TCF_V2=2]="TCF_V2",e[e.CCPA=3]="CCPA"}(D||(D={})),function(e){e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE"}(R||(R={})),function(e){e[e.DATA_LAYER=0]="DATA_LAYER",e[e.WINDOW_EVENT=1]="WINDOW_EVENT"}(P||(P={})),function(e){e[e.MAJOR=0]="MAJOR",e[e.MINOR=1]="MINOR",e[e.PATCH=2]="PATCH"}(V||(V={})),function(e){e.CALL_INIT="Usercentrics: You have to call the init method before!",e.DATA_LOCAL="Usercentrics: disableServerConsents and controllerId should not be present at the same time in the InitOptions!",e.UNKNOWN_VARIANT="Usercentrics: Unknown variant",e.NOT_CCPA="Usercentrics: CCPA was not initialized",e.NOT_DEFAULT="Usercentrics: GDPR was not initialized",e.NOT_TCF="Usercentrics: TCF was not initialized"}(k||(k={})),function(e){e.BANNER="BANNER",e.WALL="WALL"}(U||(U={})),function(e){e.CENTER="CENTER",e.SIDE="SIDE"}(x||(x={})),function(e){e[e.DARK=0]="DARK",e[e.LIGHT=1]="LIGHT"}(M||(M={})),function(e){e.LINK="LINK",e.BUTTON="BUTTON",e.MORE_LINK_BUTTON="MORE_LINK_BUTTON"}(F||(F={})),function(e){e.LEFT="LEFT",e.RIGHT="RIGHT"}(G||(G={})),function(e){e.HORIZONTAL="HORIZONTAL",e.VERTICAL="VERTICAL"}(B||(B={})),function(e){e.ALL="ALL",e.SHORT="SHORT"}($||($={})),function(e){e.CROSS_DEVICE_DATA_NOT_AVAILABLE="Usercentrics: Cross Device Consents data is not available",e.CROSS_DEVICE_TCF_DATA_NOT_AVAILABLE="Usercentrics: Cross Device TCF data is not available",e.CROSS_DEVICE_FEATURE_DISABLED="Usercentrics: The `Cross-Device Consent Sharing` feature is not enabled. Please contact the support team in order to enable this feature for your configuration"}(H||(H={})),function(e){e.CROSS_DOMAIN_DATA_NOT_AVAILABLE="Usercentrics: Cross Domain Consents data is not available",e.CROSS_DOMAIN_TCF_DATA_NOT_AVAILABLE="Usercentrics: Cross Domain TCF data is not available",e.CROSS_DOMAIN_FEATURE_NOT_AVAILABLE="Usercentrics: Cross Domain Consent Sharing is not available.",e.CROSS_DOMAIN_LANGUAGE_NOT_AVAILABLE="Usercentrics: Cross Domain Consent language is not available",e.CROSS_DOMAIN_SET_DATA_FAILURE="Usercentrics: Unable to set Cross Domain data",e.CROSS_DOMAIN_SET_TCF_DATA_FAILURE="Usercentrics: Unable to set Cross Domain TCF data",e.CROSS_DOMAIN_IFRAME_ERROR="Usercentrics: Iframe error",e.CROSS_DOMAIN_IFRAME_NOT_FOUND="Usercentrics: Cross Domain iFrame not found",e.CROSS_DOMAIN_IFRAME_LOAD_ERROR="Usercentrics: IFrame did not load"}(j||(j={})),function(e){e.CLEAR="clear",e.GET_CROSS_DOMAIN_LANGUAGE="getCrossDomainLanguage",e.GET_CROSS_DOMAIN_SESSION_DATA="getCrossDomainSessionData",e.GET_CROSS_DOMAIN_TCF_DATA="getCrossDomainTcfData",e.GET_CROSS_DOMAIN_CCPA_DATA="getCrossDomainCcpaData",e.GET_TC_STRING="getTCString",e.PING="ping",e.SET_CROSS_DOMAIN_DATA="setCrossDomainData",e.SET_CROSS_DOMAIN_TCF_DATA="setCrossDomainTcfData",e.SET_CROSS_DOMAIN_CCPA_DATA="setCrossDomainCcpaData",e.SET_TC_STRING="setTCString"}(q||(q={}));var X,Z,ee="ucMobileSdk",te=["*.usercentrics-sandbox.eu","*.usercentrics.eu"],ne="4.38.0",ie=1,se="1---",re="__uspapiLocator",oe=/^[1][nNyY-][nNyY-][nNyY-]$/,ae="__uspapi";!function(e){e.CCPA="uc_usprivacy",e.CCPA_DATA="uc_ccpa",e.CONSENTS_BUFFER="uc_consents_buffer",e.CONSENTS_V2_BUFFER="uc_consents_v2_buffer",e.GCM_DATA="uc_gcm",e.LEGACY_SETTINGS="ucSettings",e.SERVICES="uc_services",e.SETTINGS="uc_settings",e.TCF="uc_tcf",e.USER_INTERACTION="uc_user_interaction",e.AB_TEST_VARIANT="uc_ab_variant"}(X||(X={})),function(e){e.USER_COUNTRY="uc_user_country"}(Z||(Z={}));var ce,ue,le,de,he="uc-cross-domain-bridge",pe="".concat("https://app.usercentrics.eu","/browser-sdk/").concat(ne,"/cross-domain-bridge.html"),ge="".concat("https://app.eu.usercentrics.eu","/browser-sdk/").concat(ne,"/cross-domain-bridge.html"),fe=function(){function e(){}return e.setDomainBridgeUri=function(t){var n="";t&&(t.crossDomainConsentSharingIFrame?n=t.crossDomainConsentSharingIFrame:t.app&&(n="".concat(t.app,"/browser-sdk/").concat(ne,"/cross-domain-bridge.html")));var i=""!==n?n:pe,s=ge;e.domainBridgeUri=e.useEuCdn?s:i},e.getDomainBridgeUri=function(){return e.domainBridgeUri},e.init=function(t,n){return W(this,void 0,void 0,(function(){return J(this,(function(i){return e.setDomainBridgeUri(n),e.setUseEuCdn((null==t?void 0:t.useEuCdn)||!1),e.setDomainBridgeUri(n),[2,this.initIFrame(e.getDomainBridgeUri(),he)]}))}))},e.initIFrame=function(t,n){return W(this,void 0,void 0,(function(){var i=this;return J(this,(function(s){return[2,new Promise((function(s,r){var o=e.createIFrame(t,n);o.onload=function(){return W(i,void 0,void 0,(function(){var i;return J(this,(function(a){return i=setTimeout((function(){o={},r(new Error(j.CROSS_DOMAIN_IFRAME_LOAD_ERROR))}),1e3),e.queryIFrame(t,n,q.PING).then((function(){clearTimeout(i),s(!0)})).catch((function(e){clearTimeout(i),r(e)})),[2]}))}))},o.onerror=function(){return W(i,void 0,void 0,(function(){return J(this,(function(e){return r(new Error(j.CROSS_DOMAIN_IFRAME_ERROR)),[2]}))}))},e.appendIFrame(o)}))]}))}))},e.setIsCrossDomainAvailable=function(t){e.crossDomainAvailable=t},e.isCookieBridgeAvailable=function(){return e.cookieBridgeAvailable},e.setIsCookieBridgeAvailable=function(t){e.cookieBridgeAvailable=t},e.isCrossDomainAvailable=function(){return e.crossDomainAvailable},e.getCrossDomainId=function(){return e.crossDomainId},e.setCrossDomainId=function(t){e.crossDomainId="".concat("uc_cross_domain_data","_").concat(t)},e.setCookieBridgeDomain=function(e,t){this.cookieBridgeDomain="".concat(e).concat(t)},e.setUseEuCdn=function(t){e.useEuCdn=t},e.createIFrame=function(t,n){e.removeIFrame(n);var i=document.createElement("iframe");return i.style.display="none",i.id=n,i.src=t,i},e.removeIFrame=function(e){var t=document.getElementById(e);t&&t.parentNode&&t.parentNode.removeChild(t)},e.queryIFrame=function(e,t,n,i,s){return W(this,void 0,void 0,(function(){var r;return J(this,(function(o){if(!(r=document.getElementById(t))||!r.id)throw new Error(j.CROSS_DOMAIN_IFRAME_NOT_FOUND);return[2,new Promise((function(t,o){var a=JSON.stringify({crossDomainId:s,method:n,payload:i}),c=new MessageChannel;c.port1.onmessage=function(e){var n=JSON.parse(e.data),i=n.success,s=n.data;i?t(s):o(e)},r&&r.contentWindow&&r.contentWindow.postMessage(a,e,[c.port2])}))]}))}))},e.appendIFrame=function(e){try{document.body?document.body.appendChild(e):document.addEventListener("DOMContentLoaded",(function(){document.body.appendChild(e)}))}catch(e){return new Error(j.CROSS_DOMAIN_IFRAME_ERROR)}return null},e.query=function(t,n){return W(this,void 0,void 0,(function(){return J(this,(function(i){return[2,e.queryIFrame(e.getDomainBridgeUri(),he,t,n,e.crossDomainId)]}))}))},e.getCrossDomainLanguage=function(){return e.query(q.GET_CROSS_DOMAIN_LANGUAGE)},e.setCrossDomainData=function(t){return W(this,void 0,void 0,(function(){return J(this,(function(n){return[2,e.query(q.SET_CROSS_DOMAIN_DATA,(i=t,{consents:i.services.map((function(e){return e.history.map((function(t){return{action:t.action,consentId:"",settingsVersion:t.versions.settings,status:t.status,templateId:e.id,timestamp:"".concat(t.timestamp),updatedBy:t.type}}))})).reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return parseInt(e.timestamp,10)-parseInt(t.timestamp,10)})),controllerId:i.controllerId,language:i.language}))];var i}))}))},e.setCrossDomainCcpaData=function(t){return W(this,void 0,void 0,(function(){return J(this,(function(n){return[2,e.query(q.SET_CROSS_DOMAIN_CCPA_DATA,t)]}))}))},e.getCrossDomainCcpaData=function(){return W(this,void 0,void 0,(function(){return J(this,(function(t){return[2,e.query(q.GET_CROSS_DOMAIN_CCPA_DATA)]}))}))},e.getCrossDomainSessionData=function(){return W(this,void 0,void 0,(function(){return J(this,(function(t){return[2,e.query(q.GET_CROSS_DOMAIN_SESSION_DATA)]}))}))},e.getCrossDomainTcfData=function(){return W(this,void 0,void 0,(function(){return J(this,(function(t){return[2,e.query(q.GET_CROSS_DOMAIN_TCF_DATA)]}))}))},e.setCrossDomainTcfData=function(t){return W(this,void 0,void 0,(function(){return J(this,(function(n){return[2,e.query(q.SET_CROSS_DOMAIN_TCF_DATA,t)]}))}))},e.clearCrossDomainStorage=function(){return W(this,void 0,void 0,(function(){return J(this,(function(t){return[2,e.query(q.CLEAR)]}))}))},e.crossDomainId="",e.cookieBridgeDomain="",e.domainBridgeUri=pe,e.useEuCdn=!1,e.cookieBridgeAvailable=!1,e.crossDomainAvailable=!1,e}(),ve=function(){function e(){this.length=0,this.data={}}return e.prototype.updateLength=function(){this.length=Object.keys(this.data).length},e.prototype.key=function(e){var t=Object.keys(this.data)[e];return void 0===o(t)?null:t},e.prototype.getItem=function(e){return void 0!==this.data[e]?this.data[e]:null},e.prototype.setItem=function(e,t){this.data[e]=String(t),this.updateLength()},e.prototype.removeItem=function(e){delete this.data[e],this.updateLength()},e.prototype.clear=function(){this.data={},this.updateLength()},e}();!function(e){e.COOKIE_BRIDGE_NOT_AVAILABLE="Usercentrics: Cookie bridge is not available.",e.COOKIE_BRIDGE_OPTIONS_NOT_SET="Usercentrics: Cookie bridge options are not set",e.GET_GLOBAL_TC_STRING_FAILURE="Usercentrics: Unable to get the Global TC string",e.INIT_TCF_ERROR="Usercentrics: Unable to init TCF",e.RESET_GVL_FAILURE="Usercentrics: Unable to reset Global Vendor List",e.SET_GLOBAL_TC_STRING_FAILURE="Usercentrics: Unable to set the Global TC string",e.VENDOR_REMOVED="Usercentrics: The following vendor is not part of the official vendors list anymore: ",e.TC_MODEL_UNDEFINED="Usercentrics: tcModel can not be null.",e.SELECTED_LANGUAGE_UNDEFINED="Usercentrics: Selected language can not be undefined"}(ce||(ce={})),function(e){e.LEGITIMATE_INTEREST="legIntPurposes",e.PURPOSES="purposes"}(ue||(ue={})),function(e){e[e.ID=0]="ID",e[e.LEGITIMATE_INTEREST=1]="LEGITIMATE_INTEREST",e[e.PURPOSES=2]="PURPOSES",e[e.SPECIAL_PURPOSES=3]="SPECIAL_PURPOSES"}(le||(le={})),function(e){e[e.FIRST_LAYER=1]="FIRST_LAYER",e[e.SECOND_LAYER=2]="SECOND_LAYER"}(de||(de={}));var Se=function(e){switch(e){case"onAcceptAllBtnClick":case"onSpecialFunctionAcceptAllConsentTrigger":return"onAcceptAllServices";case"onDenyAllAnchorClick":case"onDenyAllBtnClick":return"onDenyAllServices";case"onNonEURegion":return"onNonEURegion";case"onInitialPageLoad":case"onCountdownFinished":default:return"onInitialPageLoad";case"onToggleCategory":case"onToggleConsent":case"onToggleSelectAll":return"onEssentialChange";case"onWindowFunctionUpdateConsent":case"bySettingsUpdate":case"onSaveBtnClick":return"onUpdateServices"}},Ee=function(e){switch(e){case"update":case"implicit":default:return"implicit";case"explicit":return"explicit"}},me="RAMDOM_KEY_LOCAL_STORAGE",ye=function(){function e(){this.localStorage=null,this.sessionStorage=null,this.storeServiceIdToNameMapping=!1}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.localStorage=null,e.instance.sessionStorage=null},e.prototype.setStoreServiceIdToNameMapping=function(e){this.storeServiceIdToNameMapping=e},e.prototype.getStoreServiceIdToNameMapping=function(){return this.storeServiceIdToNameMapping},e.prototype.init=function(){try{localStorage.setItem(me,me),localStorage.removeItem(me),this.localStorage=localStorage}catch(e){this.localStorage=new ve}try{sessionStorage.setItem(me,me),sessionStorage.removeItem(me),this.sessionStorage=sessionStorage}catch(e){this.sessionStorage=new ve}},e.appendToConsentsBuffer=function(t){var n,i=e.fetchConsentsBuffer(),s=(new Date).valueOf();i.push({consents:t,timestamp:s}),null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.CONSENTS_BUFFER,JSON.stringify(i))},e.appendToConsentsV2Buffer=function(t){var n,i=e.fetchConsentsV2Buffer(),s=(new Date).valueOf();i.push({consents:t,timestamp:s}),null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.CONSENTS_V2_BUFFER,JSON.stringify(i))},e.clearOnNewSettingsId=function(t){t!==e.fetchSettingsId()&&e.clear()},e.findBufferItem=function(t){return e.fetchConsentsBuffer().slice().find((function(e){return JSON.stringify(e.consents)===JSON.stringify(t)}))},e.findV2BufferItem=function(t){return e.fetchConsentsV2Buffer().slice().find((function(e){return JSON.stringify(e.consents)===JSON.stringify(t)}))},e.removeConsentsBufferItem=function(t){var n,i,s=e.fetchConsentsBuffer(),r=s.length+0;(s=s.filter((function(e){return JSON.stringify(e)!==JSON.stringify(t)}))).length&&s.length!==r?null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.CONSENTS_BUFFER,JSON.stringify(s)):null===(i=e.getInstance().localStorage)||void 0===i||i.removeItem(X.CONSENTS_BUFFER)},e.removeConsentsV2BufferItem=function(t){var n,i,s=e.fetchConsentsV2Buffer(),r=s.length+0;(s=s.filter((function(e){return JSON.stringify(e)!==JSON.stringify(t)}))).length&&s.length!==r?null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.CONSENTS_V2_BUFFER,JSON.stringify(s)):null===(i=e.getInstance().localStorage)||void 0===i||i.removeItem(X.CONSENTS_V2_BUFFER)},e.getCcpaString=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.CCPA);return n&&oe.test(n)?n:se},e.getCcpaData=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.CCPA_DATA);return n?JSON.parse(n):null},e.fetchConsentsBuffer=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.CONSENTS_BUFFER);return n?JSON.parse(n):[]},e.fetchConsentsV2Buffer=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.CONSENTS_V2_BUFFER);return n?JSON.parse(n):[]},e.fetchControllerId=function(){var t=e.fetchSettings();return t?t.controllerId:""},e.fetchLanguage=function(){var t=e.fetchSettings();return t?t.language:""},e.fetchServices=function(){var t=e.fetchSettings();return t?t.services:[]},e.fetchLegacySettings=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.LEGACY_SETTINGS);return n?JSON.parse(n):null},e.fetchSettings=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.SETTINGS);return n?JSON.parse(n):{}},e.fetchSettingsId=function(){var t=e.fetchSettings();return t?t.id:""},e.fetchSettingsVersion=function(){var t=e.fetchSettings();return t?t.version:""},e.fetchTCFData=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.TCF),i=n?JSON.parse(n):{acString:"",tcString:"",timestamp:Date.now(),vendors:[]};return i.vendors||(i.vendors=[]),i},e.fetchTCFVendorsDisclosedObject=function(t){var n,i=e.fetchTCFData(),s=i.acString,r=i.tcString,o=i.vendors,a=i.vendorsDisclosed;if(!o&&!a)return{};if((a||!a&&!o.length&&r)&&t){var c=Object.keys(t).map(Number);n=(a||c).filter((function(e){return t[e]})).map((function(e){var n=t[e];return[n.id,n.legIntPurposes,n.purposes,n.specialPurposes]})),e.saveTCFData({acString:s,tcString:r,timestamp:Date.now(),vendors:n})}else n=o;return n.reduce((function(e,t){var n;return Y(Y({},e),((n={})[t[le.ID]]=!0,n))}),{})},e.fetchTCString=function(){return e.fetchTCFData().tcString||""},e.fetchACString=function(){return e.fetchTCFData().acString||""},e.fetchUserActionPerformed=function(){var t;return"true"===(null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.USER_INTERACTION))},e.fetchUserCountryResponse=function(){var t;try{return JSON.parse((null===(t=e.getInstance().sessionStorage)||void 0===t?void 0:t.getItem(Z.USER_COUNTRY))||"null")}catch(e){return null}},e.setUserCountryResponse=function(t){var n;null===(n=e.getInstance().sessionStorage)||void 0===n||n.setItem(Z.USER_COUNTRY,JSON.stringify(t))},e.mapServices=function(e){return e.map((function(e){return{history:e.consent.history,id:e.id,processorId:e.processorId,status:e.consent.status}}))},e.mapSettings=function(t,n){return{controllerId:t.controllerId,id:t.id,language:t.selectedLanguage,services:e.mapServices(n),version:t.version}},e.migrateLegacySettings=function(t){if(!e.settingsExist()){var n,i,s=e.fetchLegacySettings();if(e.clearLegacySettings(),null==s?void 0:s[t]){var r=(n=s[t])&&Ae(n.ucConsents.consents)?((i={})[X.SETTINGS]={controllerId:n.ucConsents.consents[0].controllerId,id:n.usercentrics.settings.settingsId,language:n.usercentrics.settings.language,services:n.ucConsents.consents.map((function(e){return{history:e.history.map((function(e){return{action:Se(e.action),language:e.language,status:e.consentStatus,timestamp:e.updatedAt,type:Ee(e.updatedBy),versions:{application:e.appVersion,service:e.consentTemplateVersion,settings:e.settingsVersion}}})),id:e.templateId,processorId:e.processorId,status:e.consentStatus}})),version:n.usercentrics.settings.version},i[X.USER_INTERACTION]=n.usercentrics.firstUserInteraction.stateSaved,i):null;r&&(e.saveSettings(r[X.SETTINGS]),r[X.USER_INTERACTION]&&e.setUserActionPerformed(!0))}}},e.saveSettings=function(t,n){var i,s;if(null===(i=e.getInstance().localStorage)||void 0===i||i.setItem(X.SETTINGS,JSON.stringify(t)),e.getInstance().getStoreServiceIdToNameMapping()&&n&&n.length){var r=n.reduce((function(e,t){return e[t.id]=t.name,e}),{});null===(s=e.getInstance().localStorage)||void 0===s||s.setItem(X.SERVICES,JSON.stringify(r))}fe.isCrossDomainAvailable()&&fe.setCrossDomainData(t).catch((function(){console.warn(j.CROSS_DOMAIN_SET_DATA_FAILURE)}))},e.saveTCFData=function(t){var n;null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.TCF,JSON.stringify(t)),fe.isCrossDomainAvailable()&&fe.setCrossDomainTcfData(t).catch((function(){console.warn(j.CROSS_DOMAIN_SET_TCF_DATA_FAILURE)}))},e.fetchGcmData=function(){var t,n=null===(t=e.getInstance().localStorage)||void 0===t?void 0:t.getItem(X.GCM_DATA);return n?JSON.parse(n):null},e.saveGcmData=function(t){var n;null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.GCM_DATA,JSON.stringify(t))},e.saveTCString=function(t){var n=e.fetchTCFData();this.saveTCFData(Y(Y({},n),{tcString:t}))},e.setCcpaTimeStamp=function(t){var n,i=t||{ccpaString:this.getCcpaString()||"",timestamp:(new Date).getTime()};null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.CCPA_DATA,JSON.stringify(i))},e.getCcpaTimeStamp=function(){var e=this.getCcpaData();return e&&e.timestamp?e.timestamp:(new Date).getTime()},e.setCcpaString=function(t){var n;null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.CCPA,t),this.setCcpaTimeStamp()},e.settingsExist=function(){return be(e.fetchSettings())},e.setUserActionPerformed=function(t){var n;null===(n=e.getInstance().localStorage)||void 0===n||n.setItem(X.USER_INTERACTION,JSON.stringify(t))},e.clearCcpa=function(){var t;this.clearCcpaData(),null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(X.CCPA)},e.clearCcpaData=function(){var t;null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(X.CCPA_DATA)},e.clearTcf=function(){var t;null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(X.TCF)},e.clearGcm=function(){var t;null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(X.GCM_DATA)},e.clear=function(){var t,n;e.clearCcpa(),e.clearTcf(),e.clearGcm(),null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(X.SETTINGS),null===(n=e.getInstance().localStorage)||void 0===n||n.removeItem(X.USER_INTERACTION)},e.clearAll=function(){return W(this,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return this.clear(),fe.isCrossDomainAvailable()?[4,fe.clearCrossDomainStorage()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.fetchAbTestVariant=function(t){var n,i,s=(null===(n=e.getInstance().localStorage)||void 0===n?void 0:n.getItem(X.AB_TEST_VARIANT))||"";if(t.includes(s))return s;var r=t[Math.floor(Math.random()*t.length)];return null===(i=e.getInstance().localStorage)||void 0===i||i.setItem(X.AB_TEST_VARIANT,r),r},e.clearLegacySettings=function(){var t;null===(t=e.getInstance().localStorage)||void 0===t||t.removeItem(X.LEGACY_SETTINGS)},e}(),Ie=function(e,t){return-1!==e.indexOf(t)},Ce=function(){return"SDK-".concat(ne)},Te=function(){return parseInt("3",10)},Ae=function(e){return Array.isArray(e)&&e.length>0},be=function(e){return"object"===o(e)&&null!==e&&Object.keys(e).length>0},_e=function(e,t){if(void 0===t)throw new Error("altElement of nullishOperation can not be undefined");return null!=e?e:t},we=function(e,t,n,i,s,r){return{applicationVersion:Ce(),consent:{action:n,status:t.consent.status,type:i},service:{categorySlug:s||"",id:t.id,name:t.name,processorId:t.processorId,version:t.version},settings:{controllerId:e.controllerId,id:e.id,language:e.selectedLanguage,referrerControllerId:_e(null==r?void 0:r.referrerControllerId,""),version:e.version},timestamp:_e(null==r?void 0:r.timestamp,(new Date).valueOf())}},Oe=function(e){var t=e.dataTransferSettings,n=e.services,i=void 0===n?[]:n,s=e.consentAction,r=e.consentString,o=e.isCcpa,a=e.isTcf,c=e.isAnalyticsEnabled,u=e.isConsentXDeviceEnabled,l=i.map((function(e){return{consentStatus:e.consent.status,consentTemplateId:e.id,consentTemplateVersion:e.version}})),d="",h="",p="";if(a){var g=ye.fetchTCFData(),f=g.acString,v=g.tcString,S=g.timestamp,E=g.vendors,m=g.vendorsDisclosed;h=_e(h?null==r?void 0:r.TCF2:v,""),p=JSON.stringify({timestamp:S,vendors:E,vendorsDisclosed:m}),f&&(d=f)}else o&&(h=_e(null==r?void 0:r.CCPA,""));return Y(Y(Y(Y(Y({action:s,analytics:_e(c,!1),appVersion:Ce().replace("SDK-","")},p&&{consentMeta:p}),{consents:l}),h&&{consentString:h}),d&&{acString:d}),{controllerId:t.controllerId,language:t.selectedLanguage,settingsId:t.id,settingsVersion:t.version,xdevice:_e(u,!1)})},Ne=function(e,t){return e.reduce((function(e,n){var i=t[n];if(!(null==i?void 0:i.name))return e;var s=i.name;return Q(Q([],z(e),!1),[{id:n,name:s}],!1)}),[])};function Le(e){return Q([],z(new Set(e)),!1)}var De,Re,Pe,Ve,ke,Ue,xe,Me,Fe,Ge,Be=function(e){return e.filter((function(e){return["onAcceptAllServices","onDenyAllServices","onUpdateServices"].indexOf(e.action)>-1})).sort((function(e,t){return t.timestamp-e.timestamp}))},$e=function(e){return e&&"object"===o(e)},He=function e(t,n,i){void 0===i&&(i=!1);var s=Y({},n);if(!$e(s))throw new Error("Source param should be an object");return $e(t)?(Object.keys(t).forEach((function(n){var r,o,a,c,u,l=t[n],d=s[n];void 0!==d&&(s=Array.isArray(l)&&Array.isArray(d)?Y(Y({},s),i?((r={})[n]=(u=l.concat(d)).filter((function(e,t){return u.indexOf(e)===t})),r):((o={})[n]=l,o)):$e(l)&&$e(d)?Y(Y({},s),((a={})[n]=e(Y({},l),d),a)):Y(Y({},s),((c={})[n]=l,c)))})),s):s},je=function(e,t,n,i){return void 0===n&&(n=2e4),void 0===i&&(i=5),new Promise((function(s,r){var o=setInterval((function(){e()&&(clearTimeout(a),clearInterval(o),s())}),i),a=setTimeout((function(){clearTimeout(a),clearInterval(o),r(new Error(t))}),n)}))},qe=function(e,t){for(var n=e.split("."),i=t.split("."),s=Math.min(n.length,i.length),r=0;r<s;r+=1){var o=Number(n[r])||0,a=Number(i[r])||0;if(o!==a)return o>a?1:-1}return i.length-n.length};!function(e){e[e.COOKIE=0]="COOKIE",e[e.WEB=1]="WEB",e[e.APP=2]="APP"}(De||(De={})),function(e){e.LEFT="LEFT",e.CENTER="CENTER",e.RIGHT="RIGHT"}(Re||(Re={})),function(e){e.CAT="CAT",e.SRV="SRV"}(Pe||(Pe={})),function(e){e.AVAILABLE_LANGUAGES_NOT_FOUND="Unable to find available languages using given settingsId and version.",e.FETCH_ACM_VENDORS="Something went wrong while fetching the atp vendors.",e.FETCH_AVAILABLE_LANGUAGES="Something went wrong while fetching the available languages.",e.FETCH_DATA_PROCESSING_SERVICES="Something went wrong while fetching the data processing services.",e.FETCH_LEGAL_BASIS="Something went wrong while fetching the legal data translations.",e.FETCH_SETTINGS="Something went wrong while fetching the settings.",e.FETCH_USER_CONSENTS="Something went wrong while fetching the user's consents.",e.FETCH_USER_COUNTRY="Something went wrong while fetching the user's country.",e.FETCH_USER_TCF_DATA="Something went wrong while fetching the user's tcf data.",e.GENERATE_DATA_PROCESSING_SERVICES="Something went wrong while generating the data processing services.",e.RULESET_NOT_FOUND="Config Map not found!",e.TAGLOGGER="Tag logger API is being called just before browser unload, some browsers like firefox cancel the api call and throw the error.",e.SAVE_CONSENTS="Something went wrong while saving user consents.",e.SAVE_CONSENTS_RETRY="Number of retries exceeded for saving user consents.",e.SETTINGS_NOT_FOUND="Unable to find settings using given settingsId and version.",e.CUSTOM_REFERRER_NOT_VALID="A custom referrer was passed to setTrackingPixel but it is not a valid URL. Origin and pathname will be passed instead."}(Ve||(Ve={})),function(e){e.US_CA_ONLY="US_CA_ONLY",e.US="US"}(ke||(ke={})),function(e){e[e.FIRST_LAYER=1]="FIRST_LAYER",e[e.SECOND_LAYER=3]="SECOND_LAYER"}(Ue||(Ue={})),function(e){e[e.DATA_LAYER=1]="DATA_LAYER",e[e.WINDOW_EVENT=4]="WINDOW_EVENT"}(xe||(xe={})),function(e){e.DATA_COLLECTED_LIST="dataCollectedList",e.DATA_PURPOSES_LIST="dataPurposesList",e.DATA_RECIPIENTS_LIST="dataRecipientsList",e.TECHNOLOGY_USED="technologyUsed"}(Me||(Me={})),function(e){e.MAJOR="major",e.MINOR="minor",e.PATCH="patch"}(Fe||(Fe={})),function(e){e.ICON="ICON",e.LINK="LINK"}(Ge||(Ge={}));var Ye,We={acceptAllButton:"Accept All",ccpaButton:"Agree to CCPA",ccpaMoreInformation:"More Information",closeButton:"Close Second Layer",collapse:"Collapse",cookiePolicyButton:"Open Cookie Policy",copyControllerId:"Copy Controller ID",denyAllButton:"Deny all",expand:"Expand",fullscreenButton:"Enter full screen",imprintButton:"Open Imprint",languageSelector:"Select language",privacyButton:"Open",privacyPolicyButton:"Open Privacy Policy",saveButton:"Save",serviceInCategoryDetails:"View Service details",servicesInCategory:"List of Services in this category",tabButton:"Tab",usercentricsCard:"Card",usercentricsCMPButtons:"Footer including buttons",usercentricsCMPContent:"Content",usercentricsCMPHeader:"Header including language selection and external links",usercentricsCMPUI:"Consent Management Platform Interface",usercentricsList:"List",vendorConsentToggle:"Consent",vendorDetailedStorageInformation:"Detailed Storage Information",vendorLegIntToggle:"Legitimate Interest"},Je=function(e,t){return"boolean"==typeof e?e:t},ze=function(e){if(!e)return null;var t=e.startsWith("#")?e:"#".concat(e);return Qe(t)?t:"#0045A5"},Qe=function(e){return!(""===e||!e)&&/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(e)},Ke=function(e){if(null!=e.firstLayer.isOverlayEnabled)return e.firstLayer.isOverlayEnabled;var t=e.backgroundOverlay.find((function(e){var t;return(null===(t=e.target)||void 0===t?void 0:t[0])===Ue.FIRST_LAYER}));return!!t&&(null==t?void 0:t.darken)>0},Xe=function(e){if(null!=e.secondLayer.isOverlayEnabled)return e.secondLayer.isOverlayEnabled;var t=e.backgroundOverlay.find((function(e){var t;return(null===(t=e.target)||void 0===t?void 0:t[0])===Ue.SECOND_LAYER}));return!!t&&(null==t?void 0:t.darken)>0},Ze=function(e){return"number"==typeof e||"string"==typeof e&&!e.includes("px")?"".concat(e,"px"):e},et=function(e){switch(e){case Re.CENTER:return"center";case Re.RIGHT:return"right";case Re.LEFT:default:return"left"}},tt={description:"",id:"",legalBasis:[],name:""},nt=function(e,t){return e.reduce((function(e,n){var i=t.find((function(e){return e.id===n.id}));return i?Q(Q([],z(e),!1),[{categorySlug:n.categorySlug,consent:n.consent,id:n.id,language:n.language,name:i.name,processorId:n.processorId,version:n.version}],!1):Q([],z(e),!1)}),[])},it=function e(t,n){return t.map((function(t){var i=n.find((function(e){return e.id===t.id}));return Y(Y(Y({},t),i||tt),{description:t.description||(null==i?void 0:i.description)||tt.description,id:t.id,subServices:e(t.subServices,n)})}))},st=function(){return"https://www.usercentrics.com/consent-management-platform-powered-by-usercentrics/"},rt=function(e){return null!=e&&null!=e.region},ot=function(e){return null!=e&&null!=e.changedPurposes},at=function(e){var t;return null!=e&&null!=(null===(t=e.buttons)||void 0===t?void 0:t.optOutNotice)},ct=function(e){return null!=e&&null!=e.vendor},ut=function(e){var t;return null!=e&&null!=(null===(t=e.buttons)||void 0===t?void 0:t.showSecondLayer)},lt=function(e){return null!=e&&(at(e)||ut(e)||ct(e))},dt=function(e){var t,n;return null!=e&&null!=(null===(t=e.firstLayer)||void 0===t?void 0:t.showShortDescriptionOnMobile)&&null==(null===(n=e.firstLayer)||void 0===n?void 0:n.isCategoryTogglesEnabled)},ht=function(e){var t;return null!=e&&null!=(null===(t=e.firstLayer)||void 0===t?void 0:t.hideNonIabPurposes)},pt=function(e){var t;return null!=e&&null!=(null===(t=e.firstLayer)||void 0===t?void 0:t.isCategoryTogglesEnabled)},gt=function(){function e(){this.ampEnabled=!1}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.ampEnabled=!1},e.prototype.isAmpEnabled=function(){return this.ampEnabled},e.prototype.setIsAmpEnabled=function(e){this.ampEnabled=e},e}(),ft="latest",vt={EU_URI:{AGGREGATOR:"https://aggregator.eu.usercentrics.eu/aggregate/",CDN:"https://config.eu.usercentrics.eu",FETCH_CONSENTS:"https://consents.eu.usercentrics.eu/consentsHistory",FETCH_CONSENTS_V2:"https://consent-rt-ret.service.consent.eu1.usercentrics.eu",FETCH_TCF_DATA:"https://consents.eu.usercentrics.eu/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://consents.eu.usercentrics.eu/consentState",GRAPHQL:"https://api.eu.usercentrics.eu/graphql",SAVE_CONSENTS_V2:"https://consent-api.service.consent.eu1.usercentrics.eu/consent",TRACK_EVENT:"https://uct.eu.usercentrics.eu/uct",TRACK_SESSION:"https://app.eu.usercentrics.eu/session/1px.png"},FOLDER:{RULESET:"ruleSet",SETTINGS:"settings",TEMPLATES:"consent-templates",TRANSLATIONS:"translations"},URI:{AGGREGATOR:"https://aggregator.service.usercentrics.eu/aggregate/",CDN:"https://api.usercentrics.eu",FETCH_CONSENTS:"https://consents.usercentrics.eu/consentsHistory",FETCH_CONSENTS_V2:"https://consent-rt-ret.service.consent.usercentrics.eu",FETCH_TCF_DATA:"https://consents.usercentrics.eu/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://consents.usercentrics.eu/consentState",GRAPHQL:"https://graphql.usercentrics.eu/graphql",RULESET:"https://api.usercentrics.eu",SAVE_CONSENTS_V2:"https://consent-api.service.consent.usercentrics.eu/consent",TRACK_EVENT:"https://uct.service.usercentrics.eu/uct",TRACK_SESSION:"https://app.usercentrics.eu/session/1px.png"}},St={EU_URI:{AGGREGATOR:"https://aggregator.service.usercentrics-sandbox.eu/aggregate/",CDN:"https://api.usercentrics-sandbox.eu",FETCH_CONSENTS:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistory",FETCH_CONSENTS_V2:"https://consent-rt-ret.service.consent.eu1.usercentrics-staging.eu",FETCH_TCF_DATA:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentState",GRAPHQL:"https://api-v2-sandbox-consent-dot-usercentrics-playground.nw.r.appspot.com/",SAVE_CONSENTS_V2:"https://consent-api.service.consent.eu1.usercentrics-staging.eu/consent",TRACK_EVENT:"https://uct.eu.usercentrics.eu/uct",TRACK_SESSION:"https://app.usercentrics-sandbox.eu/session/1px.png"},FOLDER:{RULESET:"ruleSet",SETTINGS:"settings",TEMPLATES:"consent-templates",TRANSLATIONS:"translations"},URI:{AGGREGATOR:"https://aggregator.service.usercentrics-sandbox.eu/aggregate/",CDN:"https://api.usercentrics-sandbox.eu",FETCH_CONSENTS:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistory",FETCH_CONSENTS_V2:"https://consent-rt-ret.service.consent.usercentrics-staging.eu",FETCH_TCF_DATA:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentState",GRAPHQL:"https://api-v2-sandbox-consent-dot-usercentrics-playground.nw.r.appspot.com/",RULESET:"https://api.usercentrics-sandbox.eu",SAVE_CONSENTS_V2:"https://consent-api.service.consent.usercentrics-staging.eu/consent",TRACK_EVENT:"https://uct.service.usercentrics.eu/uct",TRACK_SESSION:"https://app.usercentrics-sandbox.eu/session/1px.png"}},Et=["onEssentialChange","onInitialPageLoad","onNonEURegion"],mt=["onSessionRestored","onMobileSessionRestore"],yt=function(e,t,n){return W(void 0,void 0,void 0,(function(){return J(this,(function(i){return[2,Ct(e,t,null,n)]}))}))},It=function(e,t,n,i){return W(void 0,void 0,void 0,(function(){return J(this,(function(s){return[2,Ct(e,n,t,i)]}))}))},Ct=function(e,t,n,i){return W(void 0,void 0,void 0,(function(){var s,r;return J(this,(function(o){return s={"content-type":"application/json"},r=Y(Y({},i),{headers:s,method:n?"POST":"GET"}),n&&(r.body=JSON.stringify(n)),(null==i?void 0:i.headers)&&(r.headers=Y(Y({},s),i.headers)),[2,fetch(e,r).then((function(e){return W(void 0,void 0,void 0,(function(){return J(this,(function(n){if(e.ok)return[2,At(e)];throw Tt(t,e.status)}))}))}))]}))}))},Tt=function(e,t){return{errorMessage:e,statusCode:t}},At=function(e){return W(void 0,void 0,void 0,(function(){return J(this,(function(t){switch(t.label){case 0:return[4,bt(e)];case 1:return[2,{data:t.sent(),location:e.headers.get("x-client-geo-location"),statusCode:e.status}]}}))}))},bt=function(e){return W(void 0,void 0,void 0,(function(){var t,n;return J(this,(function(i){switch(i.label){case 0:return[4,e.text()];case 1:return t=i.sent(),[2,(n=""===t?{}:JSON.parse(t)).data||n]}}))}))};!function(e){e[e.RESOURCE_NOT_FOUND=403]="RESOURCE_NOT_FOUND"}(Ye||(Ye={}));var _t,wt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Ot={exports:{}},Nt={exports:{}};Nt.exports=(_t=_t||function(e){var t;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(t=globalThis.crypto),!t&&"undefined"!=typeof window&&window.msCrypto&&(t=window.msCrypto),!t&&void 0!==wt&&wt.crypto&&(t=wt.crypto),!t)try{t=n(730)}catch(e){}var i=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},o=r.lib={},a=o.Base={extend:function(e){var t=s(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=o.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,s=e.sigBytes;if(this.clamp(),i%4)for(var r=0;r<s;r++){var o=n[r>>>2]>>>24-r%4*8&255;t[i+r>>>2]|=o<<24-(i+r)%4*8}else for(var a=0;a<s;a+=4)t[i+a>>>2]=n[a>>>2];return this.sigBytes+=s,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new c.init(t,e)}}),u=r.enc={},l=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],s=0;s<n;s++){var r=t[s>>>2]>>>24-s%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new c.init(n,t/2)}},d=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],s=0;s<n;s++){var r=t[s>>>2]>>>24-s%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new c.init(n,t)}},h=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=o.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,i=this._data,s=i.words,r=i.sigBytes,o=this.blockSize,a=r/(4*o),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,l=e.min(4*u,r);if(u){for(var d=0;d<u;d+=o)this._doProcessBlock(s,d);n=s.splice(0,u),i.sigBytes-=l}return new c.init(n,l)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});o.Hasher=p.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}});var g=r.algo={};return r}(Math),_t),Ot.exports=function(e){return function(t){var n=e,i=n.lib,s=i.WordArray,r=i.Hasher,o=n.algo,a=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),i=2;i<=n;i++)if(!(e%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,s=0;s<64;)e(i)&&(s<8&&(a[s]=n(t.pow(i,.5))),c[s]=n(t.pow(i,1/3)),s++),i++}();var u=[],l=o.SHA256=r.extend({_doReset:function(){this._hash=new s.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],s=n[1],r=n[2],o=n[3],a=n[4],l=n[5],d=n[6],h=n[7],p=0;p<64;p++){if(p<16)u[p]=0|e[t+p];else{var g=u[p-15],f=(g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3,v=u[p-2],S=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;u[p]=f+u[p-7]+S+u[p-16]}var E=i&s^i&r^s&r,m=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),y=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&d)+c[p]+u[p];h=d,d=l,l=a,a=o+y|0,o=r,r=s,s=i,i=y+(m+E)|0}n[0]=n[0]+i|0,n[1]=n[1]+s|0,n[2]=n[2]+r|0,n[3]=n[3]+o|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+d|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,s=8*e.sigBytes;return n[s>>>5]|=128<<24-s%32,n[14+(s+64>>>9<<4)]=t.floor(i/4294967296),n[15+(s+64>>>9<<4)]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=r._createHelper(l),n.HmacSHA256=r._createHmacHelper(l)}(Math),e.SHA256}(Nt.exports);var Lt,Dt=Ot.exports,Rt=new Uint8Array(16);function Pt(){if(!Lt&&!(Lt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lt(Rt)}for(var Vt=[],kt=0;kt<256;++kt)Vt.push((kt+256).toString(16).slice(1));var Ut={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function xt(e,t,n){if(Ut.randomUUID&&!t&&!e)return Ut.randomUUID();var i=(e=e||{}).random||(e.rng||Pt)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=i[s];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Vt[e[t+0]]+Vt[e[t+1]]+Vt[e[t+2]]+Vt[e[t+3]]+"-"+Vt[e[t+4]]+Vt[e[t+5]]+"-"+Vt[e[t+6]]+Vt[e[t+7]]+"-"+Vt[e[t+8]]+Vt[e[t+9]]+"-"+Vt[e[t+10]]+Vt[e[t+11]]+Vt[e[t+12]]+Vt[e[t+13]]+Vt[e[t+14]]+Vt[e[t+15]]).toLowerCase()}(i)}var Mt=function(){function e(){this.needsSessionRestore=!1,this.controllerId=""}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.controllerId=""},Object.defineProperty(e.prototype,"value",{get:function(){return this.controllerId},set:function(e){this.controllerId=e},enumerable:!1,configurable:!0}),e.prototype.setControllerIdByResolvedSettingsId=function(e,t){var n=t.find((function(t){var n=t.settingsId;return e===n}));n&&(this.value=n.controllerId)},e.prototype.setNeedSessionRestore=function(){this.needsSessionRestore=""!==this.controllerId},e.prototype.init=function(){if(""===this.controllerId){var e=this.getStorageControllerId();this.controllerId=e||this.generateControllerId()}},e.prototype.generateControllerId=function(){return"".concat(Dt(xt()))},e.prototype.getStorageControllerId=function(){return ye.fetchControllerId()},e}(),Ft=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","IS","LI","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK"],Gt=function(){function e(){this.userCountryData={},this.convertUserCountryString=function(e){var t=null==e?void 0:e.split(","),n=t&&t[0]?t[0]:"DE";return{countryCode:n,countryName:n||"Germany (default)",regionCode:t&&t[1]&&t[1].length>=3?t[1].substring(2):""}}}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.userCountryData={}},e.prototype.setUserCountryData=function(e){this.userCountryData=e},e.prototype.getUserCountryData=function(){return W(this,void 0,void 0,(function(){return J(this,(function(e){return[2,this.userCountryData]}))}))},e.prototype.getIsUserInCalifornia=function(){return W(this,void 0,void 0,(function(){return J(this,(function(e){return[2,this.getIsUserInUS("CA")]}))}))},e.prototype.getIsUserInEU=function(){return W(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return[4,this.getUserCountryData()];case 1:return e=t.sent(),[2,Ie(Ft,e.code.toUpperCase())]}}))}))},e.prototype.getIsUserInUS=function(e){return W(this,void 0,void 0,(function(){var t;return J(this,(function(n){switch(n.label){case 0:return[4,this.getUserCountryData()];case 1:return[2,"US"===(t=n.sent()).code&&(!e||t.regionCode===e)]}}))}))},e.prototype.resolveLocation=function(t){return W(this,void 0,void 0,(function(){var n,i;return J(this,(function(s){switch(s.label){case 0:return n=this.convertUserCountryString(t),[4,e.getInstance().getUserCountryData()];case 1:return i=s.sent(),be(i)||(ye.setUserCountryResponse(n),this.setUserCountryData({code:n.countryCode,name:n.countryName,regionCode:n.regionCode})),[2]}}))}))},e.mapUserCountryData=function(e){return{countryCode:e.code,countryName:e.name,regionCode:e.regionCode}},e}(),Bt={numOfAttempts:7,onFirstFail:function(){},onFirstRetriedSuccess:function(){},startingDelay:100,timeMultiple:2};function $t(e,t){return void 0===t&&(t={}),W(this,void 0,void 0,(function(){var n;return J(this,(function(i){switch(i.label){case 0:return n=function(e){var t=Y(Y({},Bt),e);return t.numOfAttempts<1&&(t.numOfAttempts=1),t}(t),[4,new jt(e,n).execute()];case 1:return[2,i.sent()]}}))}))}var Ht,jt=function(){function e(e,t){this.request=e,this.options=t,this.attemptNumber=0}return e.prototype.execute=function(){return W(this,void 0,void 0,(function(){var e,t;return J(this,(function(n){switch(n.label){case 0:if(this.attemptLimitReached)return[3,7];n.label=1;case 1:return n.trys.push([1,5,,6]),this.attemptNumber?[4,this.wait(this.delay)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[4,this.request()];case 4:return e=n.sent(),this.attemptNumber&&this.options.onFirstRetriedSuccess(),[2,e];case 5:if(t=n.sent(),this.attemptNumber||this.options.onFirstFail(),this.attemptNumber+=1,this.attemptLimitReached)throw t;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}}))}))},Object.defineProperty(e.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!1,configurable:!0}),e.prototype.wait=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Object.defineProperty(e.prototype,"delay",{get:function(){var e=this.options.startingDelay,t=this.options.timeMultiple,n=this.attemptNumber;return e*Math.pow(t,n)},enumerable:!1,configurable:!0}),e}(),qt=function(e,t){return{id:e,version:t}},Yt=function(e){if(!e)return[];var t,n,i=e.reduce((function(e,t){return Q(Q([],z(e),!1),[qt(t.templateId,t.version)],!1)}),[]);return function(e){return e.sort((function(e,t){return e.id>t.id?1:-1}))}((t=function(e,t){return e.id===t.id&&e.version===t.version},n=[],i.forEach((function(e){-1===n.findIndex((function(n){return t(e,n)}))&&n.push(e)})),n))},Wt=function(){function e(){this.API=vt,this.abTestVariant="",this.controllerIdInstance=Mt.getInstance(),this.jsonCacheBustingString="",this.jsonFileLanguage="",this.jsonFileVersion=ft,this.settingsId="",this.rulesetId="",this.useEuCdn=!1,this.disableServerConsents=!1,this.aggregatedServicesCache=null,this.translationsCache=null}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.jsonCacheBustingString="",e.instance.jsonFileLanguage="",e.instance.jsonFileVersion=ft,e.instance.settingsId="",e.instance.disableServerConsents=!1},e.prototype.resetAggregatedServicesCache=function(){this.aggregatedServicesCache=null},e.prototype.resetTranslationsCache=function(){this.translationsCache=null},e.prototype.getAbTestVariant=function(){return this.abTestVariant},e.prototype.getJsonFileLanguage=function(){return this.jsonFileLanguage},e.prototype.getJsonFileVersion=function(){return this.jsonFileVersion},e.prototype.getSettingsId=function(){return this.settingsId},e.prototype.getRulesetId=function(){return this.rulesetId},e.prototype.getDisableServerConsents=function(){return this.disableServerConsents},e.prototype.setJsonCacheBustingString=function(e){this.jsonCacheBustingString=e},e.prototype.setJsonFileLanguage=function(e){this.jsonFileLanguage=e},e.prototype.setJsonFileVersion=function(e){this.jsonFileVersion=e},e.prototype.setDisableServerConsents=function(e){this.disableServerConsents=e},e.prototype.setDomains=function(e,t){this.API=e?St:t?{EU_URI:{AGGREGATOR:vt.EU_URI.AGGREGATOR,CDN:vt.EU_URI.CDN,FETCH_CONSENTS:vt.EU_URI.FETCH_CONSENTS,FETCH_CONSENTS_V2:vt.EU_URI.FETCH_CONSENTS_V2,FETCH_TCF_DATA:vt.EU_URI.FETCH_TCF_DATA,FETCH_TCF_DATA_V2:vt.EU_URI.FETCH_TCF_DATA_V2,GRAPHQL:vt.EU_URI.GRAPHQL,SAVE_CONSENTS_V2:vt.EU_URI.SAVE_CONSENTS_V2,TRACK_EVENT:vt.EU_URI.TRACK_EVENT,TRACK_SESSION:vt.EU_URI.TRACK_SESSION},FOLDER:{RULESET:"ruleSet",SETTINGS:"settings",TEMPLATES:"consent-templates",TRANSLATIONS:"translations"},URI:Y(Y({AGGREGATOR:""!==t.aggregator?"".concat(t.aggregator,"/aggregate/"):vt.URI.AGGREGATOR,CDN:""!==t.cdn?t.cdn:vt.URI.CDN,RULESET:vt.URI.RULESET},""!==t.consents?{FETCH_CONSENTS:"".concat(t.consents,"/consentsHistory"),FETCH_CONSENTS_V2:"".concat(t.consents),FETCH_TCF_DATA:"".concat(t.consents,"/consentsHistoryTCF"),FETCH_TCF_DATA_V2:"".concat(t.consents,"/consentState")}:{FETCH_CONSENTS:vt.URI.FETCH_CONSENTS,FETCH_CONSENTS_V2:vt.URI.FETCH_CONSENTS_V2,FETCH_TCF_DATA:vt.URI.FETCH_TCF_DATA,FETCH_TCF_DATA_V2:vt.URI.FETCH_TCF_DATA_V2}),{GRAPHQL:""!==t.graphql?"".concat(t.graphql,"/graphql"):vt.URI.GRAPHQL,SAVE_CONSENTS_V2:""!==t.consentsV2?"".concat(t.consentsV2,"/consent"):vt.URI.SAVE_CONSENTS_V2,TRACK_EVENT:""!==t.trackingEvent?"".concat(t.trackingEvent,"/uct"):vt.URI.TRACK_EVENT,TRACK_SESSION:""!==t.app?"".concat(t.app,"/session/1px.png"):vt.URI.TRACK_SESSION})}:vt},e.prototype.setSettingsId=function(e){this.settingsId=e},e.prototype.setRulesetId=function(e){this.rulesetId=e},e.prototype.setEuMode=function(e){this.useEuCdn=e},e.prototype.isEuMode=function(){return this.useEuCdn},e.prototype.getAggregatorUri=function(){return this.isEuMode()?this.API.EU_URI.AGGREGATOR:this.API.URI.AGGREGATOR},e.prototype.getCdnUri=function(){return this.isEuMode()?this.API.EU_URI.CDN:this.API.URI.CDN},e.prototype.getGraphQLUri=function(){return this.isEuMode()?this.API.EU_URI.GRAPHQL:this.API.URI.GRAPHQL},e.prototype.getTcfDataV2Uri=function(){return this.isEuMode()?this.API.EU_URI.FETCH_TCF_DATA_V2:this.API.URI.FETCH_TCF_DATA_V2},e.prototype.fetchAggregatedServices=function(e,t){return void 0===t&&(t=!0),W(this,void 0,void 0,(function(){var n,i;return J(this,(function(s){switch(s.label){case 0:return this.aggregatedServicesCache&&t?[2,this.aggregatedServicesCache]:(n="".concat(this.getAggregatorUri()).concat(this.jsonFileLanguage,"?templates=").concat(e.map((function(e){return"".concat(e.id,"@").concat(e.version)})).join(",")),[4,yt(n,Ve.GENERATE_DATA_PROCESSING_SERVICES)]);case 1:return i=s.sent(),t&&(this.aggregatedServicesCache=i.data.templates),[2,i.data.templates]}}))}))},e.prototype.fetchRuleset=function(){var e;return W(this,void 0,void 0,(function(){var t,n,i,s;return J(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this.createRulesetUrl(),[4,yt(t,Ve.RULESET_NOT_FOUND)];case 1:return n=r.sent(),i=null===(e=n.location)||void 0===e?void 0:e.split(","),[2,{defaultRule:n.data.defaultRule,description:n.data.description,location:{code:i?i[0]:"",name:n.location||"",regionCode:i&&i[1]?i[1]:""},rules:n.data.rules}];case 2:throw(s=r.sent()).statusCode&&s.statusCode===Ye.RESOURCE_NOT_FOUND&&(s.errorMessage=Ve.RULESET_NOT_FOUND),s;case 3:return[2]}}))}))},e.prototype.fetchAvailableLanguages=function(){return W(this,void 0,void 0,(function(){var e,t,n;return J(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e=this.createAvailableLanguagesUrl(),[4,yt(e,Ve.FETCH_AVAILABLE_LANGUAGES)];case 1:return t=i.sent(),[4,Gt.getInstance().resolveLocation(t.location)];case 2:return i.sent(),[2,t.data.languagesAvailable];case 3:throw(n=i.sent()).statusCode&&n.statusCode===Ye.RESOURCE_NOT_FOUND&&(n.errorMessage=Ve.AVAILABLE_LANGUAGES_NOT_FOUND),n;case 4:return[2]}}))}))},e.prototype.fetchTranslations=function(){return W(this,void 0,void 0,(function(){var e,t,n;return J(this,(function(i){switch(i.label){case 0:if(this.translationsCache)return[2,this.translationsCache];i.label=1;case 1:return i.trys.push([1,3,,4]),e=this.createLanguagesUrl(),[4,yt(e,Ve.FETCH_LEGAL_BASIS)];case 2:return t=i.sent(),this.translationsCache=t.data,[2,t.data];case 3:return(n=i.sent()).statusCode&&n.statusCode===Ye.RESOURCE_NOT_FOUND&&(n.errorMessage=Ve.FETCH_LEGAL_BASIS),[2,null];case 4:return[2]}}))}))},e.prototype.mergeAbVariant=function(e){return W(this,void 0,void 0,(function(){var t,n,i;return J(this,(function(s){switch(s.label){case 0:if(t=JSON.parse(e.data.variants.experiments),"UC"===e.data.variants.activateWith)return n=Object.keys(t),this.abTestVariant=ye.fetchAbTestVariant(n),[2,He(t[this.abTestVariant],e.data)];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,je((function(){return!!window.UC_AB_VARIANT}),"window.UC_AB_VARIANT is not defined",2e3)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),console.warn(i),[3,4];case 4:return window.UC_AB_VARIANT&&t&&t[window.UC_AB_VARIANT]?(this.abTestVariant=window.UC_AB_VARIANT,[2,He(t[window.UC_AB_VARIANT],e.data)]):[2,e.data]}}))}))},e.prototype.fetchAcmVendors=function(){return W(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return e=this.createAcmVendorsJsonUrl(),[4,yt(e,Ve.FETCH_ACM_VENDORS)];case 1:return[2,t.sent().data]}}))}))},e.prototype.fetchSettingsJson=function(){return W(this,void 0,void 0,(function(){var e,t,n;return J(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),e=this.createSettingsJsonUrl(),[4,yt(e,Ve.FETCH_SETTINGS)];case 1:return t=i.sent(),["ccpa","firstLayer","secondLayer"].forEach((function(e){t.data[e]||(t.data[e]={})})),t.data.tcf2&&(t.data.tcf2.selectedVendorIds=(t.data.tcf2.selectedVendorIds||[]).sort((function(e,t){return e-t}))),t.data.consentTemplates&&(t.data.consentTemplates=t.data.consentTemplates.reduce((function(e,t){return t.isDeactivated||e.push(t),e}),[])),t.data.variants&&t.data.variants.enabled&&function(e){try{JSON.parse(e)}catch(t){return console.warn("Invalid JSON string from ".concat("A/B Testing",': "').concat(e,'"')),!1}return!0}(t.data.variants.experiments)?[4,this.mergeAbVariant(t)]:[3,3];case 2:return[2,i.sent()];case 3:return[2,t.data];case 4:throw(n=i.sent()).statusCode&&n.statusCode===Ye.RESOURCE_NOT_FOUND&&(n.errorMessage=Ve.SETTINGS_NOT_FOUND),n;case 5:return[2]}}))}))},e.prototype.fetchUserConsents=function(){return W(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return this.getDisableServerConsents()?[3,2]:(e=this.createFetchUserConsentsUrl(),[4,yt(e,Ve.FETCH_USER_CONSENTS)]);case 1:return[2,t.sent().data.reverse()];case 2:return[2,[]]}}))}))},e.prototype.fetchUserConsentsV2=function(e,t){return W(this,void 0,void 0,(function(){var n,i,s,r,o,a,c,u;return J(this,(function(l){switch(l.label){case 0:return n=function(e){return Q(Q([],z(Et),!1),z(mt),!1).includes(e)?"implicit":"explicit"},this.getDisableServerConsents()?[3,2]:(i=this.createFetchUserConsentsV2Url(),[4,yt(i,Ve.FETCH_USER_CONSENTS)]);case 1:return s=l.sent(),r=s.data,o=null,a=null,e&&(c=JSON.parse(r.consentMeta),o={acString:r.acString||"",tcString:r.consentString,timestamp:c.timestamp,vendors:c.vendors,vendorsDisclosed:c.vendorsDisclosed}),t&&(a={ccpaString:r.consentString,timestamp:r.timestamp||Date.now()}),u=r.consents.reduce((function(e,t){return Q(Q([],z(e),!1),[{action:r.action,consentId:"",settingsVersion:r.settingsVersion,status:t.consentStatus,templateId:t.consentTemplateId,timestamp:r.timestamp||Date.now(),updatedBy:n(r.action)}],!1)}),[]),[2,Y(Y({consents:u},a&&{ccpa:a}),o&&{tcf:o})];case 2:return[2,null]}}))}))},e.prototype.fetchUserTcfData=function(){return W(this,void 0,void 0,(function(){var e,t,n,i,s;return J(this,(function(r){switch(r.label){case 0:return this.getDisableServerConsents()?[3,2]:(e=this.createFetchUserTcfDataUrl(),[4,yt(e,Ve.FETCH_USER_TCF_DATA)]);case 1:return t=r.sent(),n=t.data,i=n.tcString,s=n.meta,[2,Y({tcString:i},JSON.parse(s)||{})];case 2:return[2,null]}}))}))},e.prototype.fetchUserTcfDataV2=function(){return W(this,void 0,void 0,(function(){var e,t,n,i,s;return J(this,(function(r){switch(r.label){case 0:return e=this.createFetchUserTcfDataV2Url(),[4,yt(e,Ve.FETCH_USER_TCF_DATA)];case 1:if((t=r.sent()).data&&t.data.tcf2)return n=t.data.tcf2,i=n.tcString,s=n.meta,[2,Y({tcString:i},JSON.parse(s)||{})];throw new Error(Ve.FETCH_USER_TCF_DATA)}}))}))},e.prototype.fetchVendorsList=function(e,t){return W(this,void 0,void 0,(function(){return J(this,(function(n){return[2,fetch(e).then((function(e){return e.json()})).then((function(e){return(null==t?void 0:t.length)&&(e.purposes=Object.entries(e.purposes).reduce((function(e,n){var i,s=z(n,2),r=s[0],o=s[1];return Y(Y({},e),-1===t.indexOf(parseInt(r,10))&&((i={})[r]=o,i))}),{}),e.vendors=Object.entries(e.vendors).reduce((function(e,n){var i,s=z(n,2),r=s[0],o=s[1];return Y(Y({},e),((i={})[r]=Y(Y({},o),{flexiblePurposes:o.flexiblePurposes.filter((function(e){return-1===t.indexOf(e)})),legIntPurposes:o.legIntPurposes.filter((function(e){return-1===t.indexOf(e)})),purposes:o.purposes.filter((function(e){return-1===t.indexOf(e)}))}),i))}),{})),e}))]}))}))},e.prototype.saveTCFConsents=function(e,t,n,i,s,r){return W(this,void 0,void 0,(function(){var o,a,c,u,l,d,h;return J(this,(function(p){switch(p.label){case 0:return o={consent:{status:!0},id:"tcf2",name:"tcf2",processorId:"abcd",version:"1.0.0"},a=t.tcString,c=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n}(t,["tcString"]),u=[],r&&(l=we(e,o,n,i),d={consentMeta:{TCF2:JSON.stringify(c)},consentString:{TCF2:a},dataTransferObjects:[l]},u.push(this.saveConsentsV1_DEPRECATED(d))),s&&(h=Oe({consentAction:n,consentString:{TCF2:a},dataTransferSettings:e,isAnalyticsEnabled:!0===s.isAnalyticsEnabled,isCcpa:!1,isConsentXDeviceEnabled:!0===s.isConsentAPIv2Enabled,isTcf:!0}),u.push(this.saveConsents(h))),[4,Promise.all(u)];case 1:return p.sent(),[2]}}))}))},e.prototype.saveConsentsV1_DEPRECATED=function(e){return W(this,void 0,void 0,(function(){var t,n,i,s=this;return J(this,(function(r){switch(r.label){case 0:if(this.getDisableServerConsents())return[3,4];t=Jt(),n=zt(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,$t((function(){return It(s.getGraphQLUri(),n,Ve.SAVE_CONSENTS,t)}),{onFirstFail:function(){return ye.appendToConsentsBuffer(e)},onFirstRetriedSuccess:function(){var t=ye.findBufferItem(e);t&&ye.removeConsentsBufferItem(t)}})];case 2:return r.sent(),[3,4];case 3:return(i=r.sent())instanceof Error&&console.error("".concat(Ve.SAVE_CONSENTS_RETRY,": ").concat(i.message)),console.error(Ve.SAVE_CONSENTS_RETRY),[3,4];case 4:return[2]}}))}))},e.prototype.saveConsents=function(e){return W(this,void 0,void 0,(function(){var t,n,i,s;return J(this,(function(r){switch(r.label){case 0:if(this.getDisableServerConsents())return[3,4];t=this.createSaveConsentsV2Url(),n=e,i=Jt(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,$t((function(){return It(t,n,Ve.SAVE_CONSENTS,i)}),{onFirstFail:function(){return ye.appendToConsentsV2Buffer(e)},onFirstRetriedSuccess:function(){var t=ye.findV2BufferItem(e);t&&ye.removeConsentsV2BufferItem(t)}})];case 2:return r.sent(),[3,4];case 3:return(s=r.sent())instanceof Error&&console.error("".concat(Ve.SAVE_CONSENTS_RETRY,": ").concat(s.message)),console.error(Ve.SAVE_CONSENTS_RETRY),[3,4];case 4:return[2]}}))}))},e.prototype.sendConsents=function(e,t){return It(this.getGraphQLUri(),e,Ve.SAVE_CONSENTS,t)},e.prototype.sendConsentsV2=function(e,t){return It(this.createSaveConsentsV2Url(),e,Ve.SAVE_CONSENTS,t)},e.prototype.saveConsentsFromBuffer=function(){var e,t,n,i;return W(this,void 0,void 0,(function(){var s,r,o,a,c,u,l=this;return J(this,(function(d){switch(d.label){case 0:if(this.getDisableServerConsents())return[3,13];if(s=ye.fetchConsentsBuffer(),!Array.isArray(s)||!s.length)return[3,13];d.label=1;case 1:d.trys.push([1,7,8,13]),r=function(){var e,t,n,s;return J(this,(function(r){switch(r.label){case 0:i=c.value,o=!1,r.label=1;case 1:r.trys.push([1,,6,7]),e=i,t=Jt(),n=zt(e.consents),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,$t((function(){return l.sendConsents(n,t)}))];case 3:return r.sent(),ye.removeConsentsBufferItem(e),[3,5];case 4:return(s=r.sent())instanceof Error&&console.error("".concat(Ve.SAVE_CONSENTS_RETRY,": ").concat(s.message)),console.error(Ve.SAVE_CONSENTS_RETRY),[3,5];case 5:return[3,7];case 6:return o=!0,[7];case 7:return[2]}}))},o=!0,a=K(s),d.label=2;case 2:return[4,a.next()];case 3:return c=d.sent(),(e=c.done)?[3,6]:[5,r()];case 4:d.sent(),d.label=5;case 5:return[3,2];case 6:return[3,13];case 7:return u=d.sent(),t={error:u},[3,13];case 8:return d.trys.push([8,,11,12]),o||e||!(n=a.return)?[3,10]:[4,n.call(a)];case 9:d.sent(),d.label=10;case 10:return[3,12];case 11:if(t)throw t.error;return[7];case 12:return[7];case 13:return[2]}}))}))},e.prototype.saveConsentsV2FromBuffer=function(){var e,t,n,i;return W(this,void 0,void 0,(function(){var s,r,o,a,c,u,l=this;return J(this,(function(d){switch(d.label){case 0:if(this.getDisableServerConsents())return[3,13];if(s=ye.fetchConsentsV2Buffer(),!Array.isArray(s)||!s.length)return[3,13];d.label=1;case 1:d.trys.push([1,7,8,13]),r=function(){var e,t,n,s;return J(this,(function(r){switch(r.label){case 0:i=c.value,o=!1,r.label=1;case 1:r.trys.push([1,,6,7]),e=i,t=Jt(),n=e.consents,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,$t((function(){return l.sendConsentsV2(n,t)}))];case 3:return r.sent(),ye.removeConsentsV2BufferItem(e),[3,5];case 4:return(s=r.sent())instanceof Error&&console.error("".concat(Ve.SAVE_CONSENTS_RETRY,": ").concat(s.message)),console.error(Ve.SAVE_CONSENTS_RETRY),[3,5];case 5:return[3,7];case 6:return o=!0,[7];case 7:return[2]}}))},o=!0,a=K(s),d.label=2;case 2:return[4,a.next()];case 3:return c=d.sent(),(e=c.done)?[3,6]:[5,r()];case 4:d.sent(),d.label=5;case 5:return[3,2];case 6:return[3,13];case 7:return u=d.sent(),t={error:u},[3,13];case 8:return d.trys.push([8,,11,12]),o||e||!(n=a.return)?[3,10]:[4,n.call(a)];case 9:d.sent(),d.label=10;case 10:return[3,12];case 11:if(t)throw t.error;return[7];case 12:return[7];case 13:return[2]}}))}))},e.prototype.setTrackingPixel=function(e){var t,n="".concat(document.location.origin).concat(document.location.pathname);e.referrer?function(e){try{return Boolean(new URL(e))}catch(e){return!1}}(e.referrer)?t=e.referrer:(console.warn(Ve.CUSTOM_REFERRER_NOT_VALID),t=n):t=n;var i=(new Date).getTime(),s=encodeURIComponent(t),r="".concat(this.isEuMode()?this.API.EU_URI.TRACK_EVENT:this.API.URI.TRACK_EVENT,"?v=").concat(1,"&sid=").concat(this.settingsId,"&t=").concat(e.eventType,"&abv=").concat(e.abTestVariant,"&r=").concat(s,"&cb=").concat(i);(new Image).src=r},e.prototype.updateTagLoggerData=function(e){var t=this.settingsId,n=window.location.href,i=Qt({settingsId:t,source:n,targets:e});this.saveTagLoggerData(i)},e.prototype.addJsonCacheBustingString=function(e){return this.jsonCacheBustingString?"".concat(e,"?c=").concat(this.jsonCacheBustingString):e},e.prototype.createAvailableLanguagesUrl=function(){return this.addJsonCacheBustingString("".concat(this.getCdnUri(),"/").concat(this.API.FOLDER.SETTINGS,"/").concat(this.settingsId,"/").concat(this.jsonFileVersion,"/languages.json"))},e.prototype.createLanguagesUrl=function(){return this.addJsonCacheBustingString("".concat(this.getCdnUri(),"/").concat(this.API.FOLDER.TRANSLATIONS,"/translations-").concat(this.jsonFileLanguage,".json"))},e.prototype.getSettingsUrl=function(){return"".concat(this.getCdnUri(),"/").concat(this.API.FOLDER.SETTINGS,"/").concat(this.settingsId,"/").concat(this.jsonFileVersion)},e.prototype.createSettingsJsonUrl=function(){return this.addJsonCacheBustingString("".concat(this.getSettingsUrl(),"/").concat(this.jsonFileLanguage,".json"))},e.prototype.createAcmVendorsJsonUrl=function(){return this.addJsonCacheBustingString("".concat(this.getCdnUri(),"/tcfac/acp.json"))},e.prototype.createSessionTrackingUrl=function(){return"".concat(this.isEuMode()?this.API.EU_URI.TRACK_SESSION:this.API.URI.TRACK_SESSION,"?settingsId=").concat(this.settingsId)},e.prototype.createFetchUserConsentsUrl=function(){return"".concat(this.isEuMode()?this.API.EU_URI.FETCH_CONSENTS:this.API.URI.FETCH_CONSENTS,"?controllerId=").concat(this.controllerIdInstance.value)},e.prototype.createFetchUserConsentsV2Url=function(){return"".concat(this.isEuMode()?this.API.EU_URI.FETCH_CONSENTS_V2:this.API.URI.FETCH_CONSENTS_V2,"?settingsId=").concat(this.getSettingsId(),"&controllerId=").concat(this.controllerIdInstance.value)},e.prototype.createFetchUserTcfDataUrl=function(){return"".concat(this.API.URI.FETCH_TCF_DATA,"?controllerId=").concat(this.controllerIdInstance.value)},e.prototype.createFetchUserTcfDataV2Url=function(){return"".concat(this.getTcfDataV2Uri(),"?controllerId=").concat(this.controllerIdInstance.value,"&tcf2=true&settingsId=").concat(this.settingsId)},e.prototype.createRulesetUrl=function(){return"".concat(this.API.URI.RULESET,"/").concat(this.API.FOLDER.RULESET,"/").concat(this.rulesetId,".json")},e.prototype.createSaveConsentsV2Url=function(){return"".concat(this.isEuMode()?this.API.EU_URI.SAVE_CONSENTS_V2:this.API.URI.SAVE_CONSENTS_V2,"/uw/").concat(3)},e.prototype.saveTagLoggerData=function(e){try{It(this.getGraphQLUri(),e,"",Y(Y({},Jt()),{keepalive:!0}))}catch(e){console.warn(Ve.TAGLOGGER,e)}},e}(),Jt=function(){return{credentials:"omit",headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","X-Request-ID":xt()},mode:"cors"}},zt=function(e){var t=e.dataTransferObjects,n=e.consentMeta,i=e.consentString;return{query:"mutation saveConsents($consents: [NewCreateConsentInput], $consentMeta: ConsentMeta, $consentString: ConsentString)\n      {\n        saveConsents(consents: $consents, consentMeta: $consentMeta, consentString: $consentString) { data { consentId } }\n      }",variables:{consentMeta:n,consents:Kt(t),consentString:i}}},Qt=function(e){return{operationName:"saveTagLoggerData",query:"mutation saveTagLoggerData($settingsId: String, $source: String, $targets: [String])\n        {\n          saveTagLoggerData(settingsId: $settingsId, source: $source, targets: $targets)\n        }",variables:{settingsId:e.settingsId,source:e.source,targets:e.targets}}},Kt=function(e){return e.map((function(e){return{action:e.consent.action,appVersion:e.applicationVersion,consentStatus:e.consent.status?"1":"0",consentTemplateId:e.service.id,consentTemplateVersion:e.service.version,controllerId:e.settings.controllerId,language:e.settings.language,processorId:e.service.processorId,referrerControllerId:e.settings.referrerControllerId,settingsId:e.settings.id,settingsVersion:e.settings.version,updatedBy:e.consent.type}}))};!function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.NOT_SET=2]="NOT_SET"}(Ht||(Ht={}));var Xt,Zt=function(){function e(){this.isBotEnabled=!1,this.isBot=Ht.NOT_SET}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.isBot=Ht.NOT_SET},e.prototype.isRobot=function(){if(this.isBot===Ht.NOT_SET)if(this.isBotEnabled){var e=window.navigator.userAgent,t=new RegExp("bingbot/|BingPreview/|DuckDuckBot/|Google Page Speed Insights|Google PP|Google Search Console|Google Web Preview|Googlebot/|Googlebot-Image/|Googlebot-Mobile/|Googlebot-News|Googlebot-Video/|Google-SearchByImage|Google-Structured-Data-Testing-Tool|Chrome-Lighthouse|YahooSeeker|YahooCacheSystem|Yahoo! Site Explorer Feed Validator|Yahoo! Slurp|Slurp/","i");this.isBot=t.test(e)?Ht.YES:Ht.NO}else this.isBot=Ht.NO;return this.isBot===Ht.YES},e}(),en="UC_SDK_EVENT",tn=["LykAT-gy","UekC8ye4S","9V8bg4D63","ByzZ5EsOsZX","S1_9Vsuj-Q","dqFgQeZH","twMyStLkn","B1Hk_zoTX","pxiRY9112","dyHOCwp5Y","DHS2sEi4b"],nn=["HkocEodjb7","87JYasXPF"],sn=function(){function e(){this.dataLayerNames=[],this.windowEventNames=[],this.dataLayer=new Map,this.blockDataLayerPush=!1}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.setBlockDataLayerPush=function(e){this.blockDataLayerPush=e},e.prototype.shouldBlockDataLayerPush=function(){return this.blockDataLayerPush},e.resetInstance=function(){e.instance.dataLayerNames=[],e.instance.windowEventNames=[],e.instance.dataLayer=new Map},e.prototype.init=function(e){var t=this;e.forEach((function(e){e.type===P.DATA_LAYER?t.dataLayerNames=_e(e.names,[]):e.type===P.WINDOW_EVENT&&(t.windowEventNames=_e(e.names,[]))})),this.windowEventNames.includes(en)||this.windowEventNames.push(en)},e.prototype.setDataLayer=function(e,t){this.dataLayer.set(t,e)},e.prototype.getDataLayer=function(){return this.dataLayer},e.prototype.dispatch=function(e,t,n){Ae(e)&&(this.pushEventsToDataLayer(e,t,n),this.dispatchWindowEvents(e,n))},e.prototype.isValidDataLayer=function(e){return window[e]&&(Array.isArray(window[e])||Object.prototype.hasOwnProperty.call(window[e],"push"))},e.prototype.pushEventsToDataLayer=function(e,t,n){var i=this;Ae(this.dataLayerNames)&&this.dataLayerNames.forEach((function(s){if(window[s]=_e(window[s],[]),!i.isValidDataLayer(s))throw Error("DataLayer: ".concat(s," is not of a valid type!"));if(t&&"dataLayer"===s){var r=!1,o=!1,a=!1,c=!1,u=!1;on("set","developer_id.dOThhZD",!0),e.forEach((function(e){var t=e.service.id,n=e.consent,i=n.status,s=n.type,o=n.action;nn.includes(t)&&("explicit"===s||"implicit"===s&&"onNonEURegion"===o)&&(r=r||i,u=!0),tn.includes(t)&&("explicit"===s||"implicit"===s&&"onNonEURegion"===o)&&(c=!0,u=!0,i||(a=!0))})),c&&!a&&(o=!0);var l={adsDataRedaction:!o};if(u){l=Y(Y({},l),{adPersonalization:o?"granted":"denied",adStorage:o?"granted":"denied",adUserData:o?"granted":"denied",analyticsStorage:r?"granted":"denied"}),on("consent","update",{ad_personalization:l.adPersonalization,ad_storage:l.adStorage,ad_user_data:l.adUserData,analytics_storage:l.analyticsStorage}),ye.saveGcmData(l);var d=new window.CustomEvent("UC_GCM_UPDATE",{detail:l});window.dispatchEvent(d)}on("set","ads_data_redaction",l.adsDataRedaction)}window[s].push(rn(e,n)),i.setDataLayer(window[s],s),i.shouldBlockDataLayerPush()||"explicit"===e[0].consent.type&&e.forEach((function(e){e.consent.status||window[s].push({event:"".concat(e.service.name," EXPLICIT_DENY")})}))}))},e.prototype.dispatchWindowEvents=function(e,t){if(Ae(this.windowEventNames)){var n=rn(e,t);this.windowEventNames.forEach((function(e){var t=new window.CustomEvent(e,{detail:n});window.dispatchEvent(t)}))}},e}(),rn=function(e,t){var n={action:null!=t?t:e[0].consent.action,event:"consent_status",type:e[0].consent.type,ucCategory:{}};return e.forEach((function(e){var t,i,s,r=(null===(i=e.service.categorySlug)||void 0===i?void 0:i.length)&&Object.prototype.hasOwnProperty.call(n.ucCategory,e.service.categorySlug);n=Y(Y({},n),((t={})[e.service.name]=e.consent.status,t)),(null===(s=e.service.categorySlug)||void 0===s?void 0:s.length)&&(n.ucCategory[e.service.categorySlug]=r&&n.ucCategory[e.service.categorySlug]!==e.consent.status?null:e.consent.status)})),n},on=function(){window.dataLayer.push(arguments)},an="en",cn="https://api.usercentrics.eu/tcf2/",un="https://api.usercentrics.eu/gvl/v3/",ln="https://config.eu.usercentrics.eu/tcf2/",dn="https://config.eu.usercentrics.eu/gvl/v3/",hn="[LANG].json",pn="[LANG].json",gn="en-v2.json",fn="en.json";!function(e){e.TEXT_JAVASCRIPT="text/javascript",e.TEXT_PLAIN="text/plain"}(Xt||(Xt={}));var vn,Sn="data-usercentrics",En=function(){function e(){}return e.enableScriptsForServicesWithConsent=function(t){var n=e.getDisabledScripts();Array.prototype.forEach.call(n,(function(n){e.disabledScriptHasConsent(t,n)&&e.enableScript(n)}))},e.getDisabledScripts=function(){return document.querySelectorAll("script[".concat(Sn,'][type="').concat(Xt.TEXT_PLAIN,'"]'))},e.disabledScriptHasConsent=function(e,t){return e.some((function(e){return e.name===t.getAttribute(Sn)}))},e.enableScript=function(t){var n,i,s;i=t.src?e.createSrcScriptTag(t):e.createInlineScriptTag(t),(s=(n=t).parentNode)&&s.replaceChild(i,n)},e.createSrcScriptTag=function(t){var n=e.cloneScriptTag(t);return n.removeAttribute(Sn),n.type=Xt.TEXT_JAVASCRIPT,n},e.createInlineScriptTag=function(t){var n=e.cloneScriptTag(t);n.removeAttribute(Sn);var i=document.createTextNode(t.text);return n.appendChild(i),n.type=Xt.TEXT_JAVASCRIPT,n},e.cloneScriptTag=function(e){var t=document.createElement("script");return Array.from(e.attributes).forEach((function(e){t.setAttribute(e.name,e.value)})),t},e}(),mn=function(e,t,n){var i,s;this.anyDomain=e.anyDomain||"any domain (ex. first party cookie)",this.cookieRefresh=(null==t?void 0:t.COOKIE_REFRESH)||(null===(i=null==n?void 0:n.labels)||void 0===i?void 0:i.COOKIE_REFRESH)||"Cookie Refresh",this.cookieStorage=(null==t?void 0:t.COOKIE_STORAGE)||(null===(s=null==n?void 0:n.labels)||void 0===s?void 0:s.COOKIE_STORAGE)||"Cookie Storage",this.day=e.day,this.days=e.days,this.description=e.storageInformationDescription||"Below you can see the longest potential duration for storage on a device, as set when using the cookie method of storage and if there are any other methods used.",this.domain=e.domain||"Domain",this.duration=e.duration||"Duration",this.error=e.informationLoadingNotPossible||"Sorry; we could not load the required information.",this.hour=e.hour,this.hours=e.hours,this.identifier=e.identifier||"Identifier",this.loading=e.loadingStorageInformation||"Loading storage information",this.maximumAge=e.maximumAgeCookieStorage||"Maximum age of cookie storage",this.minute=e.minute,this.minutes=e.minutes,this.month=e.month,this.months=e.months,this.multipleDomains=e.multipleDomains||"multiple subdomains may exist",this.name=e.name||"Name",this.no=e.no||"no",this.nonCookieStorage=e.nonCookieStorage||"Non-cookie storage",this.purposes=e.purposes||"Purposes",this.second=e.second||"second",this.seconds=e.seconds||"seconds",this.session=e.session||"Session",this.storedInformation=e.storedInformation||"Stored Information",this.storedInformationDescription=e.storedInformationDescription||"This service uses different means of storing information on a user’s device as listed below.",this.title=e.storageInformation||"Storage Information",this.titleDetailed=e.detailedStorageInformation||"Detailed Storage Information",this.tryAgain=e.tryAgain||"Try again?",this.type=e.type||"Type",this.year=e.year,this.years=e.years,this.yes=e.yes||"yes"},yn=function(e,t){var n=e.defaultConsentStatus;return{history:[],status:!!(null==t?void 0:t.isEssential)||n}},In=function(e,t){return(null==e?void 0:e.description)||(null==t?void 0:t.descriptionOfService)||(null==t?void 0:t.description)||""},Cn=function(e,t,n){var i,s=null==n?void 0:n.find((function(t){return e.templateId===t.templateId&&e.version===t.version})),r=(null==t?void 0:t.legalBasis)&&e.legalBasisList?e.legalBasisList.reduce((function(e,n){return(null==t?void 0:t.legalBasis[n])?Q(Q([],z(e),!1),[null==t?void 0:t.legalBasis[n]],!1):e}),[]):[];this.description=In(e,s),this.id=e.templateId,this.legalBasis=s&&!e.disableLegalBasis?function(e,t){var n=e.legalBasisList,i=e.legalGround;return t.length>0?t:function(e,t){return Ae(e)?e:[t]}(n,i)}(s,r):[],this.name=(null===(i=e._meta)||void 0===i?void 0:i.name)||(null==s?void 0:s.dataProcessor)||(null==s?void 0:s.dataProcessors[0])||""},Tn=function(e){function t(t,n,i,s){var r,o,a,c,u,l,d,h=this;h=e.call(this)||this;var p=t.labels;if(h.ariaLabels=(null==i?void 0:i.labelsAria)||We,h.categories=n.categories.map((function(e){return{description:e.description,label:e.label,slug:e.categorySlug}})),h.cookieInformation=new mn(p,null,i),h.general={back:(null===(r=null==i?void 0:i.labels)||void 0===r?void 0:r.BACK)||"Back",consentGiven:p.accepted,consentNotGiven:p.denied,consentType:p.consentType,controllerId:(null===(o=null==i?void 0:i.labels)||void 0===o?void 0:o.CID_TITLE)||"Controller ID",copied:p.copied,copy:p.copy,date:p.date,decision:p.decision,details:(null===(a=null==i?void 0:i.labels)||void 0===a?void 0:a.DETAILS)||"Details",explicit:p.explicit,gpcSignalHonored:(null===(c=null==i?void 0:i.labels)||void 0===c?void 0:c.GPC_SIGNAL_HONORED)||p.gpcSignalHonored||"The GPC signal is honored",implicit:p.implicit,implicitNo:p.noImplicit,implicitYes:p.yesImplicit,privacyButton:p.btnChipName,showLess:p.readLess,showMore:p.btnBannerReadMore||p.showMore,subservice:(null===(u=null==i?void 0:i.labels)||void 0===u?void 0:u.SUB_SERVICE)||"Subservice",subservices:(null===(l=null==i?void 0:i.labels)||void 0===l?void 0:l.SUB_SERVICES)||"Subservices",subservicesDescription:(null===(d=null==i?void 0:i.labels)||void 0===d?void 0:d.SUB_SERVICES_DESCRIPTION)||"Below you can find all the services that are subordinate to this service. The current consent status of this service applies to all subservices."},h.links={cookiePolicy:{ariaLabel:We.cookiePolicyButton,label:_e(p.cookiePolicyLinkText,""),url:t.cookiePolicyUrl},imprint:{ariaLabel:We.imprintButton,label:p.imprintLinkText||null,url:t.imprintUrl},privacyPolicy:{ariaLabel:We.privacyPolicyButton,label:p.privacyPolicyLinkText,url:t.privacyPolicyUrl}},t.integrations&&t.integrations.mine){var g={mine:{ariaLabel:"",label:t.integrations.mine[0].privacyCenterLabel,url:t.integrations.mine[0].privacyCenterUrl}};h.integrationLinks=Y(Y({},h.integrationLinks),g)}return h.poweredBy={label:"Powered by",partnerUrlLabel:_e(p.partnerPoweredByLinkText,null),urlLabel:"Usercentrics Consent Management"},h.service={dataCollected:{description:p.dataCollectedInfo,title:p.dataCollectedList},dataDistribution:{processingLocationDescription:p.locationofProcessingInfo,processingLocationTitle:p.locationOfProcessing,thirdPartyCountriesDescription:p.transferToThirdCountriesInfo,thirdPartyCountriesTitle:p.transferToThirdCountries},dataProtectionOfficer:{description:p.dataProtectionOfficerInfo,title:p.dataProtectionOfficer},dataPurposes:{description:p.dataPurposesInfo,title:p.dataPurposes},dataRecipients:{description:p.dataRecipientsListInfo,title:p.dataRecipientsList},descriptionTitle:p.descriptionOfService,history:{description:null,title:p.history},legalBasis:{description:p.legalBasisInfo,title:p.legalBasisList},processingCompanyTitle:p.processingCompany,retentionPeriod:{description:p.retentionPeriodInfo,title:p.retentionPeriod},technologiesUsed:{description:p.technologiesUsedInfo,title:p.technologiesUsed},urls:{cookiePolicyTitle:p.cookiePolicyInfo,optOutTitle:p.optOut,privacyPolicyTitle:p.policyOf}},h.services=n.consentTemplates.reduce((function(e,t){var n=new Cn(t,i,s);return Q(Q([],z(e),!1),[n],!1)}),[]),h}return O(t,e),t}((function(){this.ariaLabels=We})),An=function(e){function t(t,n,i,s){var r=e.call(this,t,n,i,s)||this;return r.buttons={optOutNotice:t.ccpa.optOutNoticeLabel||"Do not sell my personal information",save:t.ccpa.btnSave||"okay",showSecondLayer:t.ccpa.btnMoreInfo||t.labels.btnMore},r.firstLayer={description:{default:t.ccpa.firstLayerDescription||"",short:t.ccpa.firstLayerMobileDescription||"",shortDesktop:t.ccpa.firstLayerShortMessage||"",shortMobile:t.ccpa.firstLayerMobileDescription||""},title:t.ccpa.firstLayerTitle||""},r.secondLayer={categoryTab:t.secondLayer.tabsCategoriesLabel,description:t.ccpa.secondLayerDescription||"",serviceTab:t.secondLayer.tabsServicesLabel,title:t.ccpa.secondLayerTitle||""},r}return O(t,e),t}(Tn),bn=function(e,t){var n;this.acceptAllImplicitlyOutsideEU=e.displayOnlyForEU,this.consentAnalytics=_e(e.consentAnalytics,!1),this.consentAPIv2=_e(e.consentAPIv2,!1),this.consentXDevice=_e(e.consentXDevice,!1),this.consentSharingIFrameIsActive=e.consentSharingIFrameIsActive,this.dataExchangeSettings=e.dataExchangeOnPage.reduce((function(e,t){return t.type===xe.DATA_LAYER?e.push({names:t.names,type:P.DATA_LAYER}):t.type===xe.WINDOW_EVENT&&e.push({names:t.names,type:P.WINDOW_EVENT}),e}),[]),this.googleConsentMode=e.googleConsentMode,this.id=e.settingsId,this.isCcpaEnabled=(null===(n=e.ccpa)||void 0===n?void 0:n.isActive)||!1,this.isEmbeddingsEnabled=!0,this.isTagLoggerActive=e.tagLoggerIsActive,this.isTcfEnabled=e.tcf2Enabled||!1,this.language={available:e.languagesAvailable,selected:t},this.reshowBanner=_e(e.reshowBanner,-1),this.renewConsentsTimestamp=_e(e.renewConsentsTimestamp,null),this.showFirstLayerOnVersionChange=e.showInitialViewForVersionChange.map((function(e){switch(e){case Fe.MAJOR:return V.MAJOR;case Fe.MINOR:return V.MINOR;case Fe.PATCH:default:return V.PATCH}})),this.version=e.version},_n=function(e){function t(t,n,i,s){var r,o,a,c=this;return(c=e.call(this,t,n,i,s)||this).buttons={acceptAll:t.labels.btnAcceptAll,cnilDeny:(null===(r=null==i?void 0:i.labels)||void 0===r?void 0:r.CNIL_DENY_LINK_TEXT)||"Continuer sans accepter",denyAll:t.labels.btnDeny,save:t.labels.btnSave,showSecondLayer:t.labels.btnMore},c.firstLayer={description:{default:t.bannerMessage||"",short:t.bannerMobileDescription||"",shortDesktop:t.firstLayer.shortMessage||"",shortMobile:t.bannerMobileDescription||""},title:_e(t.labels.firstLayerTitle,"Privacy Settings")},c.secondLayer={acceptButtonLabel:t.secondLayer.acceptButtonText,categoryTab:t.secondLayer.tabsCategoriesLabel,dataTransferFilter:{all:(null===(o=null==i?void 0:i.labels)||void 0===o?void 0:o.ALL)||"All",thirdCountry:(null===(a=null==i?void 0:i.labels)||void 0===a?void 0:a.THIRD_COUNTRY_TRANSFER)||"Data Transfer to Third Countries"},denyButtonLabel:t.secondLayer.denyButtonText,description:t.labels.titleCorner,serviceTab:t.secondLayer.tabsServicesLabel,title:t.labels.headerCorner},c}return O(t,e),t}(Tn),wn=function(e,t,n){this.privacyButton=_e(null==n?void 0:n.labelsAria.privacyButton,""),this.services=e.consentTemplates.reduce((function(e,i){var s=new Cn(i,n,t);return Q(Q([],z(e),!1),[s],!1)}),[])},On=function(){function e(){this.needsSessionRestore=!1,this.apiInstance=Wt.getInstance(),this.locationInstance=Gt.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){delete e.instance.noShow},e.prototype.unsetNoShow=function(){delete this.noShow},e.prototype.getIsUsingNoShow=function(){return void 0!==this.noShow},e.prototype.getNoShow=function(){return!0===this.noShow},e.prototype.setNoShow=function(e){this.noShow=e},e.prototype.resolveSettingsId=function(){return W(this,void 0,void 0,(function(){var e,t,n,i,s,r,o,a;return J(this,(function(c){switch(c.label){case 0:return[4,this.apiInstance.fetchRuleset()];case 1:return e=c.sent(),n="",i=e.location,s=e.rules,r=e.defaultRule,o=r.settingsId,a=r.noShow,i&&i.code&&(t=i.regionCode&&s.find((function(e){var t;return null===(t=e.locations)||void 0===t?void 0:t.includes(i.regionCode)}))||s.find((function(e){var t;return null===(t=e.locations)||void 0===t?void 0:t.includes(i.code)})),this.locationInstance.setUserCountryData(i),ye.setUserCountryResponse(Gt.mapUserCountryData(i))),this.unsetNoShow(),t?(n=t.settingsId,void 0!==t.noShow&&this.setNoShow(!0===t.noShow)):(n=o,this.setNoShow(!0===a)),[2,{name:"Resolved Settings Id",noShow:this.getNoShow(),settingsId:n}]}}))}))},e}(),Nn=function(e){this.cookieMaxAgeSeconds=null,this.cookieRefresh=null,this.dataCollected=[],this.dataDistribution=null,this.dataProtectionOfficer=null,this.dataPurposes=[],this.dataRecipients=[],this.deviceStorage=null,this.deviceStorageDisclosureUrl=null,this.language=null,this.processingCompany=null,this.retentionPeriodDescription=null,this.technologiesUsed=[],this.urls=null,this.usesCookies=null,this.usesNonCookieAccess=null,this.cookieMaxAgeSeconds=_e(null==e?void 0:e.cookieMaxAgeSeconds,null),this.cookieRefresh=_e(null==e?void 0:e.cookieRefresh,null),this.dataCollected=e?Ln(e,Me.DATA_COLLECTED_LIST):[],this.dataDistribution=e?Rn(e):null,this.dataProtectionOfficer=_e(null==e?void 0:e.dataProtectionOfficer,null),this.dataPurposes=e?Dn(e):[],this.dataRecipients=e?Ln(e,Me.DATA_RECIPIENTS_LIST):[],this.description=In(null,e),this.deviceStorage=_e(null==e?void 0:e.deviceStorage,null),this.deviceStorageDisclosureUrl=_e(null==e?void 0:e.deviceStorageDisclosureUrl,null),this.language=e?Pn(e):null,this.processingCompany=e?Vn(e):null,this.retentionPeriodDescription=e?kn(e):null,this.technologiesUsed=e?Ln(e,Me.TECHNOLOGY_USED):[],this.usesCookies=_e(null==e?void 0:e.usesCookies,null),this.usesNonCookieAccess=_e(null==e?void 0:e.usesNonCookieAccess,null),this.urls=e?Un(e):null},Ln=function(e,t){var n;return Ae(e[t])?e[t]:(null===(n=e[t])||void 0===n?void 0:n.length)>0?[e[t]]:[]},Dn=function(e){var t=Ln(e,Me.DATA_PURPOSES_LIST);return Ae(t)?t:e.dataPurposes},Rn=function(e){return{processingLocation:e.locationOfProcessing,thirdPartyCountries:e.thirdCountryTransfer?e.thirdCountryTransfer.split(","):[]}},Pn=function(e){return{available:e.languagesAvailable,selected:e.language}},Vn=function(e){return{address:e.addressOfProcessingCompany,dataProtectionOfficer:e.dataProtectionOfficer,name:e.nameOfProcessingCompany||e.processingCompany}},kn=function(e){var t;return e.retentionPeriodDescription||(null===(t=e.retentionPeriodList)||void 0===t?void 0:t[0])||""},Un=function(e){return{cookiePolicy:e.cookiePolicyURL,dataProcessingAgreement:e.linkToDpa,optOut:e.optOutUrl,privacyPolicy:e.privacyPolicyURL||e.policyOfProcessorUrl}},xn=function(e){function t(t,n,i,s,r){var o,a,c,u=this;u=e.call(this,t,n,s,r)||this;var l=t.labels,d=t.tcf2;return u.cookieInformation.purposes=d.labelsPurposes,u.buttons={acceptAll:d.buttonsAcceptAllLabel,denyAll:d.buttonsDenyAllLabel,manageSettings:d.linksManageSettingsLabel,save:d.buttonsSaveLabel,showVendorTab:d.linksVendorListLinkLabel},u.firstLayer={description:{additionalInfo:d.firstLayerAdditionalInfo||null,dataSharedOutsideEUText:d.showDataSharedOutsideEUText&&d.dataSharedOutsideEUText?d.dataSharedOutsideEUText:null,default:d.firstLayerDescription.replace("%VENDOR_COUNT%",i.toString()),resurfaceNote:d.firstLayerNoteResurface||null},disclaimer:{serviceScope:d.firstLayerNoteService},title:d.firstLayerTitle},u.secondLayer={dataSharedOutsideEU:{text:(null===(o=null==s?void 0:s.labels)||void 0===o?void 0:o.VENDORS_OUTSIDE_EU)||null,title:l.transferToThirdCountries},dataTransferFilter:{all:(null===(a=null==s?void 0:s.labels)||void 0===a?void 0:a.ALL)||"All",thirdCountry:(null===(c=null==s?void 0:s.labels)||void 0===c?void 0:c.THIRD_COUNTRY_TRANSFER)||"Data Transfer to Third Countries"},description:d.secondLayerDescription,purposesTab:d.tabsPurposeLabel,title:d.secondLayerTitle,vendorsTab:d.tabsVendorsLabel},u.titles={acmVendors:d.atpListTitle,examples:d.examplesLabel||"Examples",features:d.labelsFeatures,iabVendors:d.labelsIabVendors,nonIabPurposes:d.labelsNonIabPurposes,nonIabVendors:d.labelsNonIabVendors,purposes:d.labelsPurposes},u.toggles={consent:t.tcf2.togglesConsentToggleLabel,legitimateInterest:t.tcf2.togglesLegIntToggleLabel,specialFeaturesToggle:{offLabel:t.tcf2.togglesSpecialFeaturesToggleOff,onLabel:t.tcf2.togglesSpecialFeaturesToggleOn}},u.vendor={dataCategories:d.categoriesOfDataLabel,dataRetention:d.dataRetentionPeriodLabel,dataRetentionUnit:l.days,features:d.vendorFeatures,legitimateInterest:d.vendorLegitimateInterestPurposes,legitimateInterestClaim:d.legitimateInterestLabel,privacyPolicy:l.privacyPolicyLinkText,purposes:d.vendorPurpose,specialFeatures:d.vendorSpecialFeatures,specialPurposes:d.vendorSpecialPurposes,toggleAll:d.labelsActivateAllVendors},u.acmVendor={privacyPolicy:d.atpAdditionalInfo},u}return O(t,e),t}(Tn),Mn=function(){function e(){this.aggregatedServices=[],this.allLegacyServicesHaveName=!1,this.isVariantLoaded=!1,this.isAggregatorLoaded=!1,this.language="",this.translations=null,this.botInstance=Zt.getInstance(),this.locationInstance=Gt.getInstance(),this.rulesetInstance=On.getInstance(),this.apiInstance=Wt.getInstance(),this._core=null,this._coreJson=null,this._data=null,this._dpsJson=null,this._labels=null,this._legacySettings=null,this._ui=null,this.controllerIdInstance=Mt.getInstance(),this.acceptAllImplicitlyOnInit=null,this.denyAllExplicitlyOnInit=null}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.allLegacyServicesHaveName=!1,e.instance.core=null,e.instance.data=null,e.instance.labels=null,e.instance.legacySettings=null,e.instance.ui=null,e.instance.dpsJson=null,e.instance.coreJson=null},Object.defineProperty(e.prototype,"core",{get:function(){return this._core},set:function(e){this._core=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coreJson",{get:function(){return this._coreJson},set:function(e){this._coreJson=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dpsJson",{get:function(){return this._dpsJson},set:function(e){this._dpsJson=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labels",{get:function(){return this._labels},set:function(e){this._labels=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"legacySettings",{get:function(){return this._legacySettings},set:function(e){this._legacySettings=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ui",{get:function(){return this._ui},set:function(e){this._ui=e},enumerable:!1,configurable:!0}),e.prototype.init=function(e,t,n){return W(this,void 0,void 0,(function(){return J(this,(function(i){return this.language=n,this.core=new bn(e,n),this.coreJson=e,this.dpsJson=t,this.isAggregatorLoaded=!1,this.allLegacyServicesHaveName=this.checkIfServiceNameExists(t.consentTemplates),this.isAggregatorLoaded=!1,[2]}))}))},e.prototype.initData=function(e,t,i,s,r,o,a){return void 0===t&&(t=[]),void 0===i&&(i=!0),void 0===s&&(s=!1),void 0===r&&(r=[]),void 0===o&&(o=!1),void 0===a&&(a=!1),W(this,void 0,void 0,(function(){var c,u,l,d,h,p,g=this;return J(this,(function(f){switch(f.label){case 0:if(u=(c=this).coreJson,l=c.dpsJson,d=c.legacySettings,!u||!l)return[2];switch(h=this.controllerIdInstance.value,p=(null==t?void 0:t.length)?t:this.aggregatedServices,e){case 0:return[3,1];case 2:return[3,3];case 1:return[3,5]}return[3,7];case 1:return[4,Promise.resolve().then(n.bind(n,69)).then((function(e){var t=new(0,e.default)(u,l,h,o);g.data=t}))];case 2:return f.sent(),[3,8];case 3:return d?[4,Promise.resolve().then(n.bind(n,757)).then((function(e){var t=e.default;return W(g,void 0,void 0,(function(){var e,n;return J(this,(function(o){switch(o.label){case 0:return(e=this.getDataTransferSettings())&&u.tcf2?(n=new t(d,u.tcf2,l,e,h,this.language,r,a),this.data=n,i?[4,n.init(s)]:[3,2]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}}))}))}))]:[2];case 4:return f.sent(),[3,8];case 5:return[4,Promise.resolve().then(n.bind(n,989)).then((function(e){var t=new(0,e.default)(l,h,p);g.data=t}))];case 6:return f.sent(),[3,8];case 7:console.error("Usercentrics: Unknown variant"),f.label=8;case 8:return this.isVariantLoaded=!0,[2]}}))}))},e.prototype.checkIfServiceNameExists=function(e){return e.every((function(e){var t;return null!=(null===(t=e._meta)||void 0===t?void 0:t.name)}))},e.prototype.initLabels=function(e,t,n){var i=this,s=i.coreJson,r=i.dpsJson,o=i.legacySettings,a=(null==n?void 0:n.length)?n:this.aggregatedServices;if(r&&this.core)if(o)switch(e){case 0:var c=new An(o,r,t,a);this.labels=c;break;case 1:var u=new _n(o,r,t,a);this.labels=u;break;case 2:var l=new xn(o,r,this.getThirdPartyCount(),t,a);this.labels=l;break;default:console.error("Usercentrics: Unknown variant")}else{var d=new wn(r,a,t),h=s?{label:"Powered by",partnerUrlLabel:_e(s.labels.partnerPoweredByLinkText,null),urlLabel:"Usercentrics Consent Management"}:void 0;this.labels=Y(Y({},d),{poweredBy:h})}else console.error("Usercentrics: You have to call the init method before!")},e.prototype.initUI=function(e,t){return W(this,void 0,void 0,(function(){var i,s,r,o=this;return J(this,(function(a){switch(a.label){case 0:return s=(i=this).coreJson,r=i.legacySettings,s?2!==e?[3,2]:[4,Promise.resolve().then(n.bind(n,25)).then((function(e){var t,n=e.default,i=Pe.CAT,a=!1;r&&(i=r.secondLayer.defaultView,a=r.secondLayer.hideDataProcessingServices);var c=new n(s,{defaultView:i,hideDataProcessingServices:a}),u=s.enablePoweredBy?{partnerUrl:s.partnerPoweredByUrl||null,url:"https://www.usercentrics.com/consent-management-platform-powered-by-usercentrics/"}:null;o.ui=Y(Y({},c),{customCss:(null===(t=null==r?void 0:r.features)||void 0===t?void 0:t.customCss)&&r.useUnsafeCustomCss&&null!=r.stylesCss?r.stylesCss:null,poweredBy:u})}))]:[2];case 1:return a.sent(),[2];case 2:if(!r)return[2];switch(t){case 0:return[3,3];case 1:return[3,5];case 2:return[3,7]}return[3,9];case 3:return[4,Promise.resolve().then(n.bind(n,385)).then((function(e){var t=new(0,e.default)(s,r);o.ui=t}))];case 4:return a.sent(),[3,10];case 5:return[4,Promise.resolve().then(n.bind(n,850)).then((function(e){var t=new(0,e.default)(s,r);o.ui=t}))];case 6:return a.sent(),[3,10];case 7:return[4,Promise.resolve().then(n.bind(n,685)).then((function(e){var t=new(0,e.default)(s,r);o.ui=t}))];case 8:return a.sent(),[3,10];case 9:console.error("Usercentrics: Unknown variant"),a.label=10;case 10:return[2]}}))}))},e.prototype.getCcpaData=function(){return rt(this.data)?this.data:null},e.prototype.getDefaultData=function(){return function(e){return null!=e&&!rt(e)&&!ot(e)}(this.data)?this.data:null},e.prototype.getTcfData=function(){return ot(this.data)?this.data:null},e.prototype.getCcpaLabels=function(){return at(this.labels)?this.labels:null},e.prototype.getDefaultLabels=function(){return ut(this.labels)?this.labels:null},e.prototype.getTcfLabels=function(){return ct(this.labels)?this.labels:null},e.prototype.getCcpaUI=function(){return dt(this.ui)?this.ui:null},e.prototype.getDefaultUI=function(){return pt(this.ui)?this.ui:null},e.prototype.getTcfUI=function(){return ht(this.ui)?this.ui:null},e.prototype.getDataExchangeSettings=function(){return this.core?this.core.dataExchangeSettings:[]},e.prototype.getCategoriesData=function(){return this.data?this.data.categories:[]},e.prototype.getCategoriesBaseData=function(){var e=this;return this.data?this.data.categories.map((function(t){return{isEssential:t.isEssential,isHidden:t.isHidden,services:e.getServicesBaseInfo().filter((function(e){return e.categorySlug===t.slug})),slug:t.slug}})):[]},e.prototype.getCategoriesLabels=function(){return this.labels&&lt(this.labels)?this.labels.categories:[]},e.prototype.getCategoriesDataAndLabels=function(){return function(e,t,n){return e.reduce((function(e,i){var s=t.find((function(e){return e.slug===i.slug})),r=it(i.services,n);return s&&e.push(Y(Y(Y({},s),i),{services:r})),e}),[])}(this.getCategoriesData(),this.getCategoriesLabels(),this.getServicesLabels())},e.prototype.getCategoriesBasic=function(){var e=this.getCategoriesData(),t=this.getServicesLabels();return e.reduce((function(e,n){return Q(Q([],z(e),!1),[Y(Y({},n),{services:nt(n.services,t)})],!1)}),[])},e.prototype.getCategoriesBaseInfo=function(){return this.getCategoriesDataAndLabels()},e.prototype.getCategoriesFullInfo=function(e,t){return W(this,void 0,void 0,(function(){return J(this,(function(n){switch(n.label){case 0:return this.isAggregatorLoaded?[3,2]:[4,this.extendServices(e,t)];case 1:n.sent(),n.label=2;case 2:return[2,this.getCategoriesDataAndLabels()]}}))}))},e.prototype.getDataTransferSettings=function(e){return this.core?{controllerId:this.controllerIdInstance.value,id:this.core.id,selectedLanguage:this.core.language.selected,version:e||this.core.version}:null},e.prototype.getEssentialCategories=function(){return this.getCategoriesLabels().length?this.getCategoriesDataAndLabels().reduce((function(e,t){return t.isEssential?Q(Q([],z(e),!1),[t],!1):e}),[]):this.getCategoriesBasic().filter((function(e){return e.isEssential}))},e.prototype.getEssentialCategoriesData=function(){return this.getCategoriesData().reduce((function(e,t){return t.isEssential?Q(Q([],z(e),!1),[t],!1):e}),[])},e.prototype.getNonEssentialCategories=function(){return this.getCategoriesLabels().length?this.getCategoriesDataAndLabels().reduce((function(e,t){return t.isEssential?e:Q(Q([],z(e),!1),[t],!1)}),[]):this.getCategoriesBasic().filter((function(e){return!e.isEssential}))},e.prototype.getNonEssentialCategoriesData=function(){return this.getCategoriesData().reduce((function(e,t){return t.isEssential?e:Q(Q([],z(e),!1),[t],!1)}),[])},e.prototype.getGoogleConsentMode=function(){return!!this.core&&this.core.googleConsentMode},e.prototype.getServicesLabels=function(){return this.labels?this.labels.services:[]},e.prototype.getServicesData=function(){return this.getCategoriesData().reduce((function(e,t){return Q(Q([],z(e),!1),z(t.services),!1)}),[])},e.prototype.getServicesDataAndLabels=function(){var e=this.getServicesData();return it(e,this.getServicesLabels())},e.prototype.getServicesBaseInfo=function(){var e,t;return e=this.mapBaseServices(this.getServicesData()),t=this.getServicesLabels(),e.reduce((function(e,n){var i=t.find((function(e){return e.id===n.id}));return Q(Q([],z(e),!1),[Y(Y(Y({},n),i||tt),{id:n.id})],!1)}),[])},e.prototype.getServicesFullInfo=function(e,t){return W(this,void 0,void 0,(function(){return J(this,(function(n){switch(n.label){case 0:return this.isAggregatorLoaded?[3,2]:[4,this.extendServices(e,t)];case 1:n.sent(),n.label=2;case 2:return[2,this.getServicesDataAndLabels()]}}))}))},e.prototype.getServicesFromCategories=function(e){return e.reduce((function(e,t){return e.concat(t.services)}),[])},e.prototype.getServicesWithConsent=function(){return this.getServicesDataAndLabels().reduce((function(e,t){return t.consent.status?Q(Q([],z(e),!1),[t],!1):e}),[])},e.prototype.areAllServicesAccepted=function(){return this.getServicesData().every((function(e){return e.consent.status}))},e.prototype.areAllVendorsAndPurposesAccepted=function(){var e=this.getTcfData();return!!e&&e.areAllPurposesAccepted()&&e.areAllVendorsAccepted()},e.prototype.extendServices=function(e,t){return W(this,void 0,void 0,(function(){var n,i;return J(this,(function(s){switch(s.label){case 0:return(n=this.dpsJson)?(this.isAggregatorLoaded=!0,[4,this.fetchServices(n)]):[2];case 1:return(i=s.sent())&&0!==i.length?(this.aggregatedServices=i,this.initLabels(e,t,i),this.data&&(this.data.categories=this.data.categories.map((function(e){var t=n.categories.find((function(t){return t.categorySlug===e.slug}));return Y(Y({},e),{services:e.services.map((function(e){if(n.consentTemplates.find((function(t){return t.templateId===e.id}))&&t){var s=null==i?void 0:i.find((function(t){return e.id===t.templateId&&e.version===t.version})),r=new Nn(s);return Y(Y({},e),r)}return e}))})}))),[2]):[2]}}))}))},e.prototype.isCcpaEnabled=function(){var e;return(null===(e=this.core)||void 0===e?void 0:e.isCcpaEnabled)||!1},e.prototype.isCcpaAvailable=function(){var e;if(this.isCcpaEnabled()&&null!=(null===(e=this.coreJson)||void 0===e?void 0:e.ccpa))switch(this.coreJson.ccpa.region){case ke.US:return this.locationInstance.getIsUserInUS();case ke.US_CA_ONLY:return this.locationInstance.getIsUserInCalifornia();default:return Promise.resolve(!0)}return Promise.resolve(!1)},e.prototype.isCrossDomainEnabled=function(){var e;return(null===(e=this.core)||void 0===e?void 0:e.consentSharingIFrameIsActive)||!1},e.prototype.isTcfEnabled=function(){var e;return(null===(e=this.core)||void 0===e?void 0:e.isTcfEnabled)||!1},e.prototype.isTcfAvailable=function(){var e;return this.isTcfEnabled()&&null!=(null===(e=this.coreJson)||void 0===e?void 0:e.tcf2)},e.prototype.isTagLoggerActive=function(){var e;return(null===(e=this.core)||void 0===e?void 0:e.isTagLoggerActive)||!1},e.prototype.mergeServicesIntoExistingCategories=function(e){return this.getCategoriesDataAndLabels().map((function(t){return Y(Y({},t),{services:t.services.map((function(t){return e.find((function(e){return e.id===t.id}))||t}))})}))},e.prototype.mergeServicesDataIntoExistingCategories=function(e){return this.getCategoriesData().map((function(t){return Y(Y({},t),{services:t.services.map((function(t){return e.find((function(e){return e.id===t.id}))||t}))})}))},e.prototype.setCategories=function(e){this.data&&(this.data.categories=e)},e.prototype.setControllerId=function(e){this.data&&(this.data.controllerId=e),ot(this.data)&&this.data.updateControllerId(e)},e.prototype.updateServicesLanguage=function(e){this.data&&this.data.categories.map((function(t){return Y(Y({},t),{services:t.services.map((function(t){return Y(Y({},t),{language:Y(Y({},t.language),{selected:e})})}))})}))},e.prototype.shouldDenyAllExplicitlyOnInit=function(){var e;return W(this,void 0,void 0,(function(){var t;return J(this,(function(n){switch(n.label){case 0:return null!==this.denyAllExplicitlyOnInit?[2,this.denyAllExplicitlyOnInit]:(t=this,[4,this.isCcpaAvailable()]);case 1:return t.denyAllExplicitlyOnInit=n.sent()&&!(null===(e=this.getCcpaData())||void 0===e?void 0:e.isExplicitConsented)&&!0===navigator.globalPrivacyControl||!1,[2,this.denyAllExplicitlyOnInit]}}))}))},e.prototype.shouldAcceptAllImplicitlyOnInit=function(){var e,t;return W(this,void 0,void 0,(function(){var n,i,s,r,o,a;return J(this,(function(c){switch(c.label){case 0:return null!==this.acceptAllImplicitlyOnInit?[2,this.acceptAllImplicitlyOnInit]:(n=this,(r=this.botInstance.isRobot())?[3,2]:[4,this.isCcpaAvailable()]);case 1:r=c.sent()&&!navigator.globalPrivacyControl,c.label=2;case 2:return(s=r)?[3,5]:(o=null===(e=this.core)||void 0===e?void 0:e.acceptAllImplicitlyOutsideEU)?[4,this.locationInstance.getIsUserInEU()]:[3,4];case 3:o=!c.sent(),c.label=4;case 4:s=o,c.label=5;case 5:return(i=s)?[3,8]:(a=this.isTcfAvailable())?[4,null===(t=this.getTcfData())||void 0===t?void 0:t.getGdprApplies()]:[3,7];case 6:a=!c.sent(),c.label=7;case 7:i=a,c.label=8;case 8:return n.acceptAllImplicitlyOnInit=i||""!==this.apiInstance.getRulesetId()&&this.rulesetInstance.getIsUsingNoShow()&&this.rulesetInstance.getNoShow(),[2,this.acceptAllImplicitlyOnInit]}}))}))},e.prototype.shouldAcceptAllImplicitlyOnVendorAdded=function(){var e,t,n;return W(this,void 0,void 0,(function(){var i,s,r,o,a;return J(this,(function(c){switch(c.label){case 0:return(r=this.botInstance.isRobot())?[3,2]:[4,this.isCcpaAvailable()];case 1:r=c.sent()&&!(null===(e=this.getCcpaData())||void 0===e?void 0:e.isOptedOut),c.label=2;case 2:return(s=r)?[3,5]:(o=null===(t=this.core)||void 0===t?void 0:t.acceptAllImplicitlyOutsideEU)?[4,this.locationInstance.getIsUserInEU()]:[3,4];case 3:o=!c.sent(),c.label=4;case 4:s=o,c.label=5;case 5:return(i=s)?[3,8]:(a=this.isTcfAvailable())?[4,null===(n=this.getTcfData())||void 0===n?void 0:n.getGdprApplies()]:[3,7];case 6:a=!c.sent(),c.label=7;case 7:i=a,c.label=8;case 8:return[2,i||""!==this.apiInstance.getRulesetId()&&this.rulesetInstance.getIsUsingNoShow()&&this.rulesetInstance.getNoShow()]}}))}))},e.prototype.shouldShowFirstLayerOnVersionChange=function(){var e=ye.fetchSettingsVersion();if(this.core&&e&&Ae(this.core.showFirstLayerOnVersionChange)){var t=this.core.version.split("."),n=e.split(".");return Ie(this.core.showFirstLayerOnVersionChange,V.MAJOR)&&t[0]!==n[0]||Ie(this.core.showFirstLayerOnVersionChange,V.MINOR)&&t[1]!==n[1]||Ie(this.core.showFirstLayerOnVersionChange,V.PATCH)&&t[2]!==n[2]}return!1},e.prototype.getUpdatedServicesWithConsent=function(e){return this.getServicesDataAndLabels().map((function(t){if(!t.isEssential){var n=t;return n.consent.status=e===R.TRUE,n}return t}))},e.prototype.getUpdatedServicesDataWithConsent=function(e){return this.getServicesData().map((function(t){if(!t.isEssential){var n=t;return n.consent.status=e===R.TRUE,n}return t}))},e.prototype.getUpdatedServicesWithDecisions=function(e){return this.getServicesDataAndLabels().map((function(t){var n=e.find((function(e){return e.serviceId===t.id})),i=t;return i.consent.status=t.isEssential||(n?n.status:t.consent.status),i}))},e.prototype.getUpdatedServicesDataWithDecisions=function(e){return this.getServicesData().map((function(t){var n=e.find((function(e){return e.serviceId===t.id})),i=t;return i.consent.status=t.isEssential||(n?n.status:t.consent.status),i}))},e.prototype.updateDataTransferSettings=function(e){var t=e.controllerId,n=e.id,i=e.selectedLanguage,s=e.version;this.core&&this.data&&(this.data.controllerId=t,this.core.id=n,this.core.language.selected=i,this.core.version=s)},e.prototype.isTcfHistoryV2Disabled=function(){return!!ot(this.data)&&!0===this.data.tcfv2HistoryDisabled},e.prototype.getTCFPurposeOneTreatment=function(){return ot(this.data)&&this.data.purposeOneTreatment||!1},e.prototype.getTCFStackIds=function(){return ot(this.data)?this.data.stackIds:[]},e.prototype.getTCFVendorIds=function(){return ot(this.data)?this.data.vendorIds:[]},e.prototype.getTCFDisclosedVendorsSegmentString=function(){var e;return null===(e=this.getTcfData())||void 0===e?void 0:e.getTCFDisclosedVendorsSegmentString()},e.prototype.injectTCString=function(e){return W(this,void 0,void 0,(function(){var t;return J(this,(function(n){return(t=this.getTcfData())?[2,t.injectTCString(e)]:[2,!1]}))}))},e.prototype.fetchServices=function(e){return W(this,void 0,void 0,(function(){var t,n,i,s;return J(this,(function(r){switch(r.label){case 0:return(t=Yt(e.consentTemplates)).length?(n=Wt.getInstance(),i=Zt.getInstance(),s=[],i.isRobot()?[3,2]:[4,n.fetchAggregatedServices(t)]):[2,null];case 1:s=r.sent(),r.label=2;case 2:return[2,s]}}))}))},e.prototype.mapBaseServices=function(e){return e.map((function(e){return{categorySlug:e.categorySlug,consent:e.consent,fetchSubServices:e.fetchSubServices,id:e.id,isEssential:e.isEssential,isHidden:e.isHidden,processorId:e.processorId,subServices:e.subServices,subServicesLength:e.subServicesLength,usesThirdCountry:e.usesThirdCountry,version:e.version}}))},e.prototype.getThirdPartyCount=function(){var e=ot(this.data)?this.data.getVendorsCount():0;return this.getServicesData().length+e},e}(),Fn=function(){function e(){this.restoreAction=null,this.apiInstance=Wt.getInstance(),this.controllerIdInstance=Mt.getInstance(),this.eventDispatcherInstance=sn.getInstance(),this.settingsV2=Mn.getInstance(),this.botInstance=Zt.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){delete e.instance.userSessionData},e.prototype.execute=function(e,t,n,i,s,r){var o,a,c,u=this.settingsV2.getDataTransferSettings();if(u){var l=e.map((function(e){return we(u,e,n,i,e.categorySlug)})),d=Gn(t,l);if(!this.botInstance.isRobot()&&(r&&this.apiInstance.saveConsentsV1_DEPRECATED({consentString:s,dataTransferObjects:l}),null===(o=this.settingsV2.core)||void 0===o?void 0:o.consentAPIv2)){var h=Oe({consentAction:n,consentString:s,dataTransferSettings:u,isAnalyticsEnabled:null===(a=this.settingsV2.core)||void 0===a?void 0:a.consentAnalytics,isCcpa:this.settingsV2.isCcpaEnabled(),isConsentXDeviceEnabled:null===(c=this.settingsV2.core)||void 0===c?void 0:c.consentXDevice,isTcf:!1,services:e});this.apiInstance.saveConsents(h)}this.settingsV2.setCategories(this.settingsV2.mergeServicesDataIntoExistingCategories(d));var p=this.settingsV2.getServicesDataAndLabels(),g=ye.mapSettings(u,p);ye.saveSettings(g,p),En.enableScriptsForServicesWithConsent(this.settingsV2.getServicesWithConsent()),this.eventDispatcherInstance.dispatch(l,this.settingsV2.getGoogleConsentMode())}},e.prototype.getMergedServicesAndSettingsFromStorage=function(e){var t=e,n=ye.fetchSettings();if(n&&t){var i=this.settingsV2.getServicesFromCategories(this.settingsV2.getEssentialCategories()),s=this.settingsV2.getServicesFromCategories(this.settingsV2.getEssentialCategoriesData()),r=this.settingsV2.getServicesFromCategories(this.settingsV2.getNonEssentialCategories()),o=this.settingsV2.getServicesFromCategories(this.settingsV2.getNonEssentialCategoriesData()),a=this.getMergedAndUpdatedEssentialServices(i,n),c=this.getMergedAndUpdatedEssentialServices(s,n),u=this.getMergedNonEssentialServices(r,n),l=this.getMergedNonEssentialServices(o,n);return n.controllerId!==this.controllerIdInstance.value&&""===this.controllerIdInstance.value&&(this.controllerIdInstance.value=n.controllerId,t.controllerId=n.controllerId,ot(t)&&t.updateControllerId(n.controllerId)),{dataTransferSettings:this.settingsV2.getDataTransferSettings(),mergedServices:a.mergedEssentialServices.concat(u),mergedServicesData:c.mergedEssentialServices.concat(l),mergedSettingsData:t,updatedEssentialServices:a.updatedEssentialServices}}return{dataTransferSettings:null,mergedServices:[],mergedServicesData:[],mergedSettingsData:t,updatedEssentialServices:[]}},e.prototype.getLatestConsentType=function(e){return e.length>0?e[e.length-1].type:"implicit"},e.prototype.getLatestConsentAction=function(e){return e.length>0?e[e.length-1].action:"onInitialPageLoad"},e.prototype.setUserSessionData=function(e){this.userSessionData=e},e.prototype.mergeServicesAndSettings=function(e,t,n,i,s,r){var o,a,c,u=this;if(!n)return[];if(Ae(i)){var l=i.map((function(e){return we(n,e,"onEssentialChange",u.getLatestConsentType(e.consent.history),null==e?void 0:e.categorySlug)})),d=Gn(t,l),h=Bn(t,d,s);if(r&&this.apiInstance.saveConsentsV1_DEPRECATED({dataTransferObjects:l}),null===(o=this.settingsV2.core)||void 0===o?void 0:o.consentAPIv2){var p=Oe({consentAction:"onEssentialChange",dataTransferSettings:n,isAnalyticsEnabled:null===(a=this.settingsV2.core)||void 0===a?void 0:a.consentAnalytics,isCcpa:this.settingsV2.isCcpaEnabled(),isConsentXDeviceEnabled:null===(c=this.settingsV2.core)||void 0===c?void 0:c.consentXDevice,isTcf:this.settingsV2.isTcfAvailable(),services:i});this.apiInstance.saveConsents(p)}this.settingsV2.setCategories(this.settingsV2.mergeServicesDataIntoExistingCategories(d)),ye.saveSettings(ye.mapSettings(n,h),h)}else this.settingsV2.setCategories(this.settingsV2.mergeServicesDataIntoExistingCategories(t)),ye.saveSettings(ye.mapSettings(n,e),e);return e.map((function(e){return we(n,e,u.getLatestConsentAction(e.consent.history),u.getLatestConsentType(e.consent.history),null==e?void 0:e.categorySlug)}))},e.prototype.restoreUserSession=function(e){var t,n,i;return W(this,void 0,void 0,(function(){var s;return J(this,(function(r){switch(r.label){case 0:return this.controllerIdInstance.value&&this.controllerIdInstance.needsSessionRestore&&(!(null===(t=this.settingsV2.core)||void 0===t?void 0:t.consentAPIv2)||(null===(n=this.settingsV2.core)||void 0===n?void 0:n.consentAPIv2)&&(null===(i=this.settingsV2.core)||void 0===i?void 0:i.consentXDevice))?[4,this.getCrossDeviceSessionData(this.controllerIdInstance.value)]:[3,2];case 1:s=r.sent(),r.label=2;case 2:if(!s&&this.userSessionData&&(s=Y({},this.userSessionData)),!s&&window[ee]&&"function"==typeof window[ee].getUserSessionData)try{(null==(s=JSON.parse(window[ee].getUserSessionData(),(function(e,t){if("timestamp"===e){var n=t.toString();return-1!==n.indexOf(".")?1e3*Number(n):Number(n)}return t})))?void 0:s.consents)&&(null==s?void 0:s.consents.length)&&!s.consents.every((function(e){return e.action}))&&(s.consents=s.consents.map((function(e){return Y(Y({},e),{action:"onMobileSessionRestore"})})),this.restoreAction="onMobileSessionRestore")}catch(e){}return s||!fe.isCrossDomainAvailable()?[3,4]:[4,this.getCrossDomainSessionData()];case 3:s=r.sent(),r.label=4;case 4:return s&&s.controllerId?[2,this.restoreData(s,e)]:(this.controllerIdInstance.needsSessionRestore=!1,[2,!1])}}))}))},e.prototype.getCrossDomainSessionData=function(){return W(this,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return[4,fe.getCrossDomainSessionData().catch((function(){return console.warn(j.CROSS_DOMAIN_DATA_NOT_AVAILABLE),{}}))];case 1:return[2,e.sent()]}}))}))},e.prototype.getCrossDeviceSessionData=function(e){var t,n;return W(this,void 0,void 0,(function(){var i,s,r,o,a,c,u,l,d,h,p;return J(this,(function(g){switch(g.label){case 0:return i=["dWLDa0s-m","VkvM9IcSA","Zdgjo9gQh","r2tAWzO7","GVl-ixMH"],s=this.apiInstance.getSettingsId(),r=this.settingsV2.isTcfAvailable(),[4,this.settingsV2.isCcpaAvailable()];case 1:return o=g.sent(),a=null===(t=this.settingsV2.core)||void 0===t?void 0:t.consentAPIv2,c=[],u=null,l=null,a?[4,this.apiInstance.fetchUserConsentsV2(r,o).catch((function(){return console.warn(H.CROSS_DEVICE_DATA_NOT_AVAILABLE),null}))]:[3,3];case 2:return d=g.sent(),c=null!==(n=null==d?void 0:d.consents)&&void 0!==n?n:[],r&&(-1===i.indexOf(s)&&this.settingsV2.isTcfHistoryV2Disabled()||(u=null==d?void 0:d.tcf)),o&&(l=null==d?void 0:d.ccpa),[3,8];case 3:return[4,this.apiInstance.fetchUserConsents().catch((function(){return console.warn(H.CROSS_DEVICE_DATA_NOT_AVAILABLE),[]}))];case 4:return h=g.sent(),c=h,r?-1===i.indexOf(s)?[3,6]:[4,this.apiInstance.fetchUserTcfData().catch((function(){return console.warn(H.CROSS_DEVICE_TCF_DATA_NOT_AVAILABLE),null}))]:[3,8];case 5:return u=g.sent(),[3,8];case 6:return this.settingsV2.isTcfHistoryV2Disabled()?[3,8]:[4,this.apiInstance.fetchUserTcfDataV2().catch((function(){return console.warn(H.CROSS_DEVICE_TCF_DATA_NOT_AVAILABLE),null}))];case 7:u=g.sent(),g.label=8;case 8:return r&&!u&&fe.isCrossDomainAvailable()?[4,this.getCrossDomainSessionData()]:[3,10];case 9:(p=g.sent())&&p.tcf&&p.controllerId===e&&(u=p.tcf),g.label=10;case 10:return[2,Y(Y({consents:c,controllerId:e,language:this.apiInstance.getJsonFileLanguage()},null!==u&&{tcf:u}),null!==l&&{ccpa:l})]}}))}))},e.prototype.restoreData=function(e,t){return W(this,void 0,void 0,(function(){var n,i,s,r,o,a,c,u,l,d,h,p,g,f,v,S,E,m,y=this;return J(this,(function(I){switch(I.label){case 0:return n=e.controllerId,i=e.consents,s=e.tcf,r=e.ccpa,o=this.settingsV2.core,a=this.getDataFacadeServices(t),c=ye.fetchControllerId(),this.controllerIdInstance.value=n,u=ye.fetchTCFData(),l=!1,!n||!Ae(i)&&a.length?[3,5]:(d=Hn(i),h=ye.fetchServices(),"onSessionRestored"===e.consents[0].action&&n===c&&h.length===d.length&&h[0].history.length>0&&h[0].history[0].action&&"onSessionRestored"===h[0].history[0].action?[3,5]:[3,1]);case 1:return!Ae(d)&&a.length?[3,5]:(p=[],g=[],d.forEach((function(e){var t=a.findIndex((function(t){return t.id===e.templateId}));if(t>-1){var n=a[t],i=n;i.consent.status=e.status;var s=g.findIndex((function(e){return e.id===n.id}));-1===s?g.push(i):g[s]=i,a[t]=i;var r=y.settingsV2.getDataTransferSettings(e.settingsVersion);r&&p.push(we(r,i,e.action,e.updatedBy,n.categorySlug,{timestamp:"string"==typeof e.timestamp?y.resolveTimestamp(e.timestamp):e.timestamp}))}})),this.settingsV2.data&&this.settingsV2.setControllerId(n),f=void 0,v=void 0,o&&d.length&&(v=Le(d.map((function(e){return e.settingsVersion}))).sort(qe)).length&&(f=v[v.length-1]),S=Gn(a,p),(E=this.settingsV2.getDataTransferSettings(f))?c&&n&&n!==c?[4,ye.clearAll()]:[3,3]:[3,4]);case 2:I.sent(),I.label=3;case 3:ye.saveSettings(ye.mapSettings(E,S),S),I.label=4;case 4:Ae(d)&&ye.setUserActionPerformed(!0),l=!0,I.label=5;case 5:return s&&s.tcString&&(s.tcString!==u.tcString||s.acString!==u.acString)&&(ye.saveTCFData(s),a.length||ye.setUserActionPerformed(!0)),m=this.settingsV2.getCcpaData(),r&&r.ccpaString&&m&&(m.setIsOptedOut(r.ccpaString),ye.setCcpaString(r.ccpaString),r.timestamp?ye.setCcpaTimeStamp(r):ye.clearCcpaData(),ye.setUserActionPerformed(!0)),[2,l]}}))}))},e.prototype.getDataFacadeServices=function(e){var t=this.settingsV2.checkIfServiceNameExists,n=e.categories,i=e.consentTemplates;if(i.length>0&&t(i))return i.map((function(e){var t,i=n.find((function(t){return t.categorySlug===e.categorySlug}));return{categorySlug:e.categorySlug,consent:yn(e,i),id:e.templateId,name:(null===(t=e._meta)||void 0===t?void 0:t.name)||"",processorId:"".concat(Dt(xt())),version:e.version}}));var s=this.settingsV2.getServicesDataAndLabels();return s.length>0?s.map((function(e){return{categorySlug:e.categorySlug,consent:e.consent,id:e.id,name:e.name,processorId:e.processorId,version:e.version}})):[]},e.prototype.getMergedAndUpdatedEssentialServices=function(e,t){var n=this,i=[],s=e.map((function(e){var s,r,o=null===(s=t.services)||void 0===s?void 0:s.find((function(t){return t.id===e.id}));if(o){var a=e;return a.consent.history=o.history,a.consent.status=!0,a.processorId=o.processorId,a.categorySlug=(null===(r=n.settingsV2.getCategoriesBaseData().find((function(e){return e.services.some((function(e){return e.id===a.id}))})))||void 0===r?void 0:r.slug)||"",o.status||i.push(a),a}return e}));return{mergedEssentialServices:s,updatedEssentialServices:i}},e.prototype.getMergedNonEssentialServices=function(e,t){return e.map((function(e){var n,i,s=null===(n=t.services)||void 0===n?void 0:n.find((function(t){return t.id===e.id}));if(s)return(r=e).consent.history=s.history,r.consent.status=s.status,r.processorId=s.processorId,r;if(0===e.consent.history.length){var r=e,o=null===(i=t.services)||void 0===i?void 0:i.find((function(e){return e.history.length>0}));return r.consent.history=[{action:"onInitialPageLoad",language:e.language?e.language.selected:an,status:e.consent.status,timestamp:(new Date).getTime(),type:"implicit",versions:o&&o.history.length>0?o.history[0].versions:{application:"",service:e.version,settings:""}}],r}return e}))},e.prototype.resolveTimestamp=function(e){return 10===e.length?1e3*parseInt(e,10):parseInt(e,10)},e}(),Gn=function(e,t){return e.map((function(e){var n=t.filter((function(t){return t.service.id===e.id}));if(Ae(n)){var i=e.consent.history,s=i.length+n.length,r=s<=3?i:i.slice(s-3),o=e;return o.consent.history=Q(Q([],z(r),!1),z(n.map((function(e){return $n(e)}))),!1),o}return e}))},Bn=function(e,t,n){return e.reduce((function(e,i){var s=t.find((function(e){return e.id===i.id})),r=n.find((function(e){return e.id===i.id}));return s&&r?Q(Q([],z(e),!1),[{categorySlug:i.categorySlug,consent:s.consent,id:i.id,language:i.language,name:r.name,processorId:i.processorId,version:i.version}],!1):Q([],z(e),!1)}),[])},$n=function(e){return{action:e.consent.action,language:e.settings.language,status:e.consent.status,timestamp:e.timestamp,type:e.consent.type,versions:{application:e.applicationVersion,service:e.service.version,settings:e.settings.version}}},Hn=function(e){return e.filter((function(e){return!Et.includes(e.action)}))},jn=d((function e(t,n,i,s){u(this,e),h(this,"eventName",void 0),h(this,"listenerId",void 0),h(this,"data",void 0),h(this,"pingData",void 0),this.eventName=t,this.listenerId=n,this.data=i,this.pingData=s})),qn=d((function e(t){u(this,e),h(this,"gppVersion",void 0),h(this,"cmpStatus",void 0),h(this,"cmpDisplayStatus",void 0),h(this,"signalStatus",void 0),h(this,"supportedAPIs",void 0),h(this,"cmpId",void 0),h(this,"sectionList",void 0),h(this,"applicableSections",void 0),h(this,"gppString",void 0),h(this,"parsedSections",void 0),this.gppVersion=t.gppVersion,this.cmpStatus=t.cmpStatus,this.cmpDisplayStatus=t.cmpDisplayStatus,this.signalStatus=t.signalStatus,this.supportedAPIs=t.supportedAPIs,this.cmpId=t.cmpId,this.sectionList=t.gppModel.getSectionIds(),this.applicableSections=t.applicableSections,this.gppString=t.gppModel.encode(),this.parsedSections=t.gppModel.toObject()})),Yn=function(){function e(t,n,i){u(this,e),h(this,"callback",void 0),h(this,"parameter",void 0),h(this,"success",!0),h(this,"cmpApiContext",void 0),this.cmpApiContext=t,Object.assign(this,{callback:n,parameter:i})}return d(e,[{key:"execute",value:function(){try{return this.respond()}catch(e){return this.invokeCallback(null),null}}},{key:"invokeCallback",value:function(e){var t=null!==e;this.callback&&this.callback(e,t)}}]),e}(),Wn=function(){p(t,Yn);var e=y(t);function t(){return u(this,t),e.apply(this,arguments)}return d(t,[{key:"respond",value:function(){var e=this.cmpApiContext.eventQueue.add({callback:this.callback,parameter:this.parameter}),t=new jn("listenerRegistered",e,!0,new qn(this.cmpApiContext));this.invokeCallback(t)}}]),t}(),Jn=function(){p(t,Yn);var e=y(t);function t(){return u(this,t),e.apply(this,arguments)}return d(t,[{key:"respond",value:function(){var e=new qn(this.cmpApiContext);this.invokeCallback(e)}}]),t}(),zn=function(){p(t,Yn);var e=y(t);function t(){return u(this,t),e.apply(this,arguments)}return d(t,[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>.<field> parameter required");var e=this.parameter.split(".");if(2!=e.length)throw new Error("Field name must be in the format <section>.<fieldName>");var t=e[0],n=e[1],i=this.cmpApiContext.gppModel.getFieldValue(t,n);this.invokeCallback(i)}}]),t}(),Qn=function(){p(t,Yn);var e=y(t);function t(){return u(this,t),e.apply(this,arguments)}return d(t,[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section> parameter required");var e=null;this.cmpApiContext.gppModel.hasSection(this.parameter)&&(e=this.cmpApiContext.gppModel.getSection(this.parameter)),this.invokeCallback(e)}}]),t}(),Kn=function(){p(t,Yn);var e=y(t);function t(){return u(this,t),e.apply(this,arguments)}return d(t,[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>[.version] parameter required");var e=this.cmpApiContext.gppModel.hasSection(this.parameter);this.invokeCallback(e)}}]),t}();!function(e){e.ADD_EVENT_LISTENER="addEventListener",e.GET_FIELD="getField",e.GET_SECTION="getSection",e.HAS_SECTION="hasSection",e.PING="ping",e.REMOVE_EVENT_LISTENER="removeEventListener"}(vn||(vn={}));var Xn,Zn,ei,ti,ni,ii,si=function(){p(t,Yn);var e=y(t);function t(){return u(this,t),e.apply(this,arguments)}return d(t,[{key:"respond",value:function(){var e=this.parameter,t=this.cmpApiContext.eventQueue.remove(e),n=new jn("listenerRemoved",e,t,new qn(this.cmpApiContext));this.invokeCallback(n)}}]),t}();Xn=vn.ADD_EVENT_LISTENER,Zn=vn.GET_FIELD,ei=vn.GET_SECTION,ti=vn.HAS_SECTION,ni=vn.PING,ii=vn.REMOVE_EVENT_LISTENER;var ri,oi,ai,ci,ui=d((function e(){u(this,e)}));h(ui,Xn,Wn),h(ui,Zn,zn),h(ui,ei,Qn),h(ui,ti,Kn),h(ui,ni,Jn),h(ui,ii,si),function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(ri||(ri={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(oi||(oi={})),function(e){e.GPP_LOADED="gpploaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(ai||(ai={})),function(e){e.NOT_READY="not ready",e.READY="ready"}(ci||(ci={}));var li=function(){function e(t,n){if(u(this,e),h(this,"callQueue",void 0),h(this,"customCommands",void 0),h(this,"cmpApiContext",void 0),this.cmpApiContext=t,n){var i=vn.ADD_EVENT_LISTENER;if(null!=n&&n[i])throw new Error("Built-In Custom Commmand for ".concat(i," not allowed"));if(i=vn.REMOVE_EVENT_LISTENER,null!=n&&n[i])throw new Error("Built-In Custom Commmand for ".concat(i," not allowed"));this.customCommands=n}try{this.callQueue=window.__gpp()||[]}catch(e){this.callQueue=[]}finally{window.__gpp=this.apiCall.bind(this),this.purgeQueuedCalls()}}return d(e,[{key:"apiCall",value:function(e,t,n,i){if("string"!=typeof e)t(null,!1);else{if(t&&"function"!=typeof t)throw new Error("invalid callback function");this.isCustomCommand(e)?this.customCommands[e](t,n):this.isBuiltInCommand(e)?new ui[e](this.cmpApiContext,t,n).execute():t&&t(null,!1)}}},{key:"purgeQueuedCalls",value:function(){var e=this.callQueue;this.callQueue=[],e.forEach((function(e){var t;(t=window).__gpp.apply(t,C(e))}))}},{key:"isCustomCommand",value:function(e){return this.customCommands&&"function"==typeof this.customCommands[e]}},{key:"isBuiltInCommand",value:function(e){return void 0!==ui[e]}}]),e}(),di=function(){function e(t){u(this,e),h(this,"eventQueue",new Map),h(this,"queueNumber",1e3),h(this,"cmpApiContext",void 0),this.cmpApiContext=t;try{for(var n=window.__gpp("events")||[],i=0;i<n.length;i++){var s=n[i];this.eventQueue.set(s.id,{callback:s.callback,parameter:s.parameter})}}catch(e){console.log(e)}}return d(e,[{key:"add",value:function(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}},{key:"get",value:function(e){return this.eventQueue.get(e)}},{key:"remove",value:function(e){return this.eventQueue.delete(e)}},{key:"exec",value:function(e,t){var n=this;this.eventQueue.forEach((function(i,s){var r=new jn(e,s,t,new qn(n.cmpApiContext));i.callback(r,!0)}))}},{key:"clear",value:function(){this.queueNumber=1e3,this.eventQueue.clear()}},{key:"size",get:function(){return this.eventQueue.size}}]),e}(),hi=function(){p(t,E(Error));var e=y(t);function t(n){var i;return u(this,t),(i=e.call(this,n)).name="DecodingError",i}return d(t)}(),pi=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e,t){var n=[];if(e>=1)for(n.push(1);e>=2*n[0];)n.unshift(2*n[0]);for(var i="",s=0;s<n.length;s++){var r=n[s];e>=r?(i+="1",e-=r):i+="0"}for(;i.length<t;)i="0"+i;return i}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e))throw new hi("Undecodable FixedInteger '"+e+"'");for(var t=0,n=[],i=0;i<e.length;i++)n[e.length-(i+1)]=0===i?1:2*n[e.length-i];for(var s=0;s<e.length;s++)"1"===e.charAt(s)&&(t+=n[s]);return t}}]),e}(),gi=function(){p(t,E(Error));var e=y(t);function t(n){var i;return u(this,t),(i=e.call(this,n)).name="EncodingError",i}return d(t)}(),fi=function(){function e(){u(this,e)}return d(e,[{key:"encode",value:function(t){if(!/^[0-1]*$/.test(t))throw new gi("Unencodable Base64Url '"+t+"'");t=this.pad(t);for(var n="",i=0;i<=t.length-6;){var s=t.substring(i,i+6);try{var r=pi.decode(s);n+=e.DICT.charAt(r),i+=6}catch(e){throw new gi("Unencodable Base64Url '"+t+"'")}}return n}},{key:"decode",value:function(t){if(!/^[A-Za-z0-9\-_]*$/.test(t))throw new hi("Undecodable Base64URL string");for(var n="",i=0;i<t.length;i++){var s=t.charAt(i),r=e.REVERSE_DICT.get(s);n+=pi.encode(r,6)}return n}}]),e}();h(fi,"DICT","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),h(fi,"REVERSE_DICT",new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]));var vi,Si=function(){p(t,fi);var e=y(t);function t(){return u(this,t),e.apply(this,arguments)}return d(t,[{key:"pad",value:function(e){for(;e.length%8>0;)e+="0";for(;e.length%6>0;)e+="0";return e}}]),t}(),Ei=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e){var t=[];if(e>=1&&(t.push(1),e>=2)){t.push(2);for(var n=2;e>=t[n-1]+t[n-2];)t.push(t[n-1]+t[n-2]),n++}for(var i="1",s=t.length-1;s>=0;s--){var r=t[s];e>=r?(i="1"+i,e-=r):i="0"+i}return i}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<2||e.indexOf("11")!==e.length-2)throw new hi("Undecodable FibonacciInteger '"+e+"'");for(var t=0,n=[],i=0;i<e.length-1;i++)0===i?n.push(1):1===i?n.push(2):n.push(n[i-1]+n[i-2]);for(var s=0;s<e.length-1;s++)"1"===e.charAt(s)&&(t+=n[s]);return t}}]),e}(),mi=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e){if(!0===e)return"1";if(!1===e)return"0";throw new gi("Unencodable Boolean '"+e+"'")}},{key:"decode",value:function(e){if("1"===e)return!0;if("0"===e)return!1;throw new hi("Undecodable Boolean '"+e+"'")}}]),e}(),yi=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e){e=e.sort((function(e,t){return e-t}));for(var t=[],n=0,i=0;i<e.length;){for(var s=i;s<e.length-1&&e[s]+1===e[s+1];)s++;t.push(e.slice(i,s+1)),i=s+1}for(var r=pi.encode(t.length,12),o=0;o<t.length;o++)if(1==t[o].length){var a=t[o][0]-n;n=t[o][0],r+="0"+Ei.encode(a)}else{var c=t[o][0]-n;n=t[o][0];var u=t[o][t[o].length-1]-n;n=t[o][t[o].length-1],r+="1"+Ei.encode(c)+Ei.encode(u)}return r}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new hi("Undecodable FibonacciIntegerRange '"+e+"'");for(var t=[],n=pi.decode(e.substring(0,12)),i=0,s=12,r=0;r<n;r++){var o=mi.decode(e.substring(s,s+1));if(s++,!0===o){var a=e.indexOf("11",s),c=Ei.decode(e.substring(s,a+2))+i;i=c,s=a+2,a=e.indexOf("11",s);var u=Ei.decode(e.substring(s,a+2))+i;i=u,s=a+2;for(var l=c;l<=u;l++)t.push(l)}else{var d=e.indexOf("11",s),h=Ei.decode(e.substring(s,d+2))+i;i=h,t.push(h),s=d+2}}return t}}]),e}(),Ii=function(){function e(){u(this,e),h(this,"value",void 0)}return d(e,[{key:"hasValue",value:function(){return void 0!==this.value&&null!==this.value}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}}]),e}(),Ci=function(){p(t,Ii);var e=y(t);function t(n){var i;return u(this,t),(i=e.call(this)).setValue(n),i}return d(t,[{key:"encode",value:function(){return yi.encode(this.value)}},{key:"decode",value:function(e){this.value=yi.decode(e)}},{key:"substring",value:function(e,t){for(var n=pi.decode(e.substring(t,t+12)),i=t+12,s=0;s<n;s++)i="1"===e.charAt(i)?e.indexOf("11",e.indexOf("11",i+1)+2)+2:e.indexOf("11",i+1)+2;return e.substring(t,i)}},{key:"getValue",value:function(){return C(I(g(t.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){I(g(t.prototype),"setValue",this).call(this,Array.from(new Set(e)).sort((function(e,t){return e-t})))}}]),t}(),Ti=function(){p(t,Ii);var e=y(t);function t(n,i){var s;return u(this,t),h(m(s=e.call(this)),"bitStringLength",void 0),s.bitStringLength=n,s.setValue(i),s}return d(t,[{key:"encode",value:function(){return pi.encode(this.value,this.bitStringLength)}},{key:"decode",value:function(e){this.value=pi.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.bitStringLength)}}]),t}();!function(e){e.ID="Id",e.VERSION="Version",e.SECTION_IDS="SectionIds"}(vi||(vi={}));var Ai=function(){function e(t,n){u(this,e),h(this,"fields",void 0),h(this,"fieldOrder",void 0),this.fields=t,this.fieldOrder=n}return d(e,[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e).getValue():null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw new Error(e+" not found");this.fields.get(e).setValue(t)}},{key:"getFieldOrder",value:function(){return this.fieldOrder}},{key:"encodeToBitString",value:function(){for(var e="",t=0;t<this.fieldOrder.length;t++){var n=this.fieldOrder[t];if(!this.fields.has(n))throw new Error("Field not found: '"+n+"'");e+=this.fields.get(n).encode()}return e}},{key:"decodeFromBitString",value:function(e){for(var t=0,n=0;n<this.fieldOrder.length;n++){var i=this.fieldOrder[n];if(!this.fields.has(i))throw new Error("Field not found: '"+i+"'");var s=this.fields.get(i),r=s.substring(e,t);s.decode(r),t+=r.length}}},{key:"toObj",value:function(){for(var e={},t=0;t<this.fieldOrder.length;t++){var n=this.fieldOrder[t];if(this.fields.has(n)){var i=this.fields.get(n).getValue();e[n]=i}}return e}}]),e}(),bi=function(){p(t,Ai);var e=y(t);function t(n){var i;u(this,t);var s=new Map;s.set(vi.ID.toString(),new Ti(6,t.ID)),s.set(vi.VERSION.toString(),new Ti(6,t.VERSION)),s.set(vi.SECTION_IDS.toString(),new Ci([]));var r=[vi.ID.toString(),vi.VERSION.toString(),vi.SECTION_IDS.toString()];return h(m(i=e.call(this,s,r)),"base64UrlEncoder",new Si),n&&n.length>0&&i.decode(n),i}return d(t,[{key:"encode",value:function(){var e=this.encodeToBitString();return this.base64UrlEncoder.encode(e)}},{key:"decode",value:function(e){var t=this.base64UrlEncoder.decode(e);this.decodeFromBitString(t)}},{key:"getId",value:function(){return t.ID}},{key:"getName",value:function(){return t.NAME}}]),t}();h(bi,"ID",3),h(bi,"VERSION",1),h(bi,"NAME","header");var _i,wi=function(){p(t,E(Error));var e=y(t);function t(n){var i;return u(this,t),(i=e.call(this,n)).name="InvalidFieldError",i}return d(t)}(),Oi=function(){p(t,hi);var e=y(t);function t(n){var i;return u(this,t),(i=e.call(this,n)).name="LazyDecodingError",i}return d(t)}(),Ni=function(){p(t,Ii);var e=y(t);function t(n){var i;return u(this,t),(i=e.call(this)).setValue(n),i}return d(t,[{key:"encode",value:function(){return mi.encode(this.value)}},{key:"decode",value:function(e){this.value=mi.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+1)}}]),t}(),Li=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e){return e?pi.encode(Math.round(e.getTime()/100),36):pi.encode(0,36)}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||36!==e.length)throw new hi("Undecodable Datetime '"+e+"'");return new Date(100*pi.decode(e))}}]),e}(),Di=function(){p(t,Ii);var e=y(t);function t(n){var i;return u(this,t),(i=e.call(this)).setValue(n),i}return d(t,[{key:"encode",value:function(){return Li.encode(this.value)}},{key:"decode",value:function(e){this.value=Li.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+36)}}]),t}(),Ri=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e,t){for(var n="",i=0;i<e.length;i++)n+=mi.encode(e[i]);for(;n.length<t;)n+="0";return n}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e))throw new hi("Undecodable FixedBitfield '"+e+"'");for(var t=[],n=0;n<e.length;n++)t.push(mi.decode(e.substring(n,n+1)));return t}}]),e}(),Pi=function(){p(t,Ii);var e=y(t);function t(n,i){var s;return u(this,t),h(m(s=e.call(this)),"getLength",void 0),s.getLength=n,s.setValue(i),s}return d(t,[{key:"encode",value:function(){return Ri.encode(this.value,this.getLength())}},{key:"decode",value:function(e){this.value=Ri.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.getLength())}},{key:"getValue",value:function(){return C(I(g(t.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){for(var n=this.getLength(),i=C(e),s=i.length;s<n;s++)i.push(!1);i.length>n&&(i=i.slice(0,n)),I(g(t.prototype),"setValue",this).call(this,C(i))}}]),t}(),Vi=function(){p(t,Ii);var e=y(t);function t(n){var i;return u(this,t),h(m(i=e.call(this)),"numElements",void 0),i.numElements=n.length,i.setValue(n),i}return d(t,[{key:"encode",value:function(){return Ri.encode(this.value,this.numElements)}},{key:"decode",value:function(e){this.value=Ri.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.numElements)}},{key:"getValue",value:function(){return C(I(g(t.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){for(var n=C(e),i=n.length;i<this.numElements;i++)n.push(!1);n.length>this.numElements&&(n=n.slice(0,this.numElements)),I(g(t.prototype),"setValue",this).call(this,n)}}]),t}(),ki=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e,t){for(;e.length<t;)e+=" ";for(var n="",i=0;i<e.length;i++){var s=e.charCodeAt(i);if(32===s)n+=pi.encode(63,6);else{if(!(s>=65))throw new gi("Unencodable FixedString '"+e+"'");n+=pi.encode(e.charCodeAt(i)-65,6)}}return n}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length%6!=0)throw new hi("Undecodable FixedString '"+e+"'");for(var t="",n=0;n<e.length;n+=6){var i=pi.decode(e.substring(n,n+6));t+=63===i?" ":String.fromCharCode(i+65)}return t.trim()}}]),e}(),Ui=function(){p(t,Ii);var e=y(t);function t(n,i){var s;return u(this,t),h(m(s=e.call(this)),"stringLength",void 0),s.stringLength=n,s.setValue(i),s}return d(t,[{key:"encode",value:function(){return ki.encode(this.value,this.stringLength)}},{key:"decode",value:function(e){this.value=ki.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+6*this.stringLength)}}]),t}(),xi=function(){function e(t,n){u(this,e),h(this,"fields",void 0),h(this,"segments",void 0),this.fields=t,this.segments=n}return d(e,[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e).getValue():null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw new Error(e+" not found");this.fields.get(e).setValue(t)}},{key:"getSegments",value:function(){return this.segments}},{key:"encodeSegmentsToBitStrings",value:function(){for(var e=[],t=0;t<this.segments.length;t++){for(var n="",i=0;i<this.segments[t].length;i++){var s=this.segments[t][i];if(!this.fields.has(s))throw new Error("Field not found: '"+s+"'");try{n+=this.fields.get(s).encode()}catch(e){throw new Error("Unable to encode "+s)}}e.push(n)}return e}},{key:"decodeSegmentsFromBitStrings",value:function(e){for(var t=0;t<this.segments.length&&t<e.length;t++){var n=e[t];if(n&&n.length>0)for(var i=0,s=0;s<this.segments[t].length;s++){var r=this.segments[t][s];if(!this.fields.has(r))throw new Error("Field not found: '"+r+"'");try{var o=this.fields.get(r),a=o.substring(n,i);o.decode(a),i+=a.length}catch(e){throw new Error("Unable to decode "+r)}}}}},{key:"toObj",value:function(){for(var e={},t=0;t<this.segments.length;t++)for(var n=0;n<this.segments[t].length;n++){var i=this.segments[t][n];if(this.fields.has(i)){var s=this.fields.get(i).getValue();e[i]=s}}return e}}]),e}(),Mi=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e){e.sort((function(e,t){return e-t}));for(var t=[],n=0;n<e.length;){for(var i=n;i<e.length-1&&e[i]+1===e[i+1];)i++;t.push(e.slice(n,i+1)),n=i+1}for(var s=pi.encode(t.length,12),r=0;r<t.length;r++)1===t[r].length?s+="0"+pi.encode(t[r][0],16):s+="1"+pi.encode(t[r][0],16)+pi.encode(t[r][t[r].length-1],16);return s}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new hi("Undecodable FixedIntegerRange '"+e+"'");for(var t=[],n=pi.decode(e.substring(0,12)),i=12,s=0;s<n;s++){var r=mi.decode(e.substring(i,i+1));if(i++,!0===r){var o=pi.decode(e.substring(i,i+16));i+=16;var a=pi.decode(e.substring(i,i+16));i+=16;for(var c=o;c<=a;c++)t.push(c)}else{var u=pi.decode(e.substring(i,i+16));t.push(u),i+=16}}return t}}]),e}(),Fi=function(){p(t,Ii);var e=y(t);function t(n){var i;return u(this,t),(i=e.call(this)).setValue(n),i}return d(t,[{key:"encode",value:function(){return Mi.encode(this.value)}},{key:"decode",value:function(e){this.value=Mi.decode(e)}},{key:"substring",value:function(e,t){for(var n=pi.decode(e.substring(t,t+12)),i=t+12,s=0;s<n;s++)"1"===e.charAt(i)?i+=33:i+=17;return e.substring(t,i)}},{key:"getValue",value:function(){return C(I(g(t.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){I(g(t.prototype),"setValue",this).call(this,Array.from(new Set(e)).sort((function(e,t){return e-t})))}}]),t}(),Gi=function(){p(t,Ii);var e=y(t);function t(n){var i;return u(this,t),(i=e.call(this)).setValue(n),i}return d(t,[{key:"encode",value:function(){var e=this.value.length>0?this.value[this.value.length-1]:0,t=Mi.encode(this.value),n=e;if(t.length<=n)return pi.encode(e,16)+"1"+t;for(var i=[],s=0,r=0;r<e;r++)r===this.value[s]-1?(i[r]=!0,s++):i[r]=!1;return pi.encode(e,16)+"0"+Ri.encode(i,n)}},{key:"decode",value:function(e){if("1"===e.charAt(16))this.value=Mi.decode(e.substring(17));else{for(var t=[],n=Ri.decode(e.substring(17)),i=0;i<n.length;i++)!0===n[i]&&t.push(i+1);this.value=t}}},{key:"substring",value:function(e,t){var n=pi.decode(e.substring(t,t+16));return"1"===e.charAt(t+16)?e.substring(t,t+17)+new Fi([]).substring(e,t+17):e.substring(t,t+17+n)}},{key:"getValue",value:function(){return C(I(g(t.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){I(g(t.prototype),"setValue",this).call(this,Array.from(new Set(e)).sort((function(e,t){return e-t})))}}]),t}();!function(e){e.VERSION="Version",e.CREATED="Created",e.LAST_UPDATED="LastUpdated",e.CMP_ID="CmpId",e.CMP_VERSION="CmpVersion",e.CONSENT_SCREEN="ConsentScreen",e.CONSENT_LANGUAGE="ConsentLanguage",e.VENDOR_LIST_VERSION="VendorListVersion",e.POLICY_VERSION="PolicyVersion",e.IS_SERVICE_SPECIFIC="IsServiceSpecific",e.USE_NON_STANDARD_STACKS="UseNonStandardStacks",e.SPECIAL_FEATURE_OPTINS="SpecialFeatureOptins",e.PURPOSE_CONSENTS="PurposeConsents",e.PURPOSE_LEGITIMATE_INTERESTS="PurposeLegitimateInterests",e.PURPOSE_ONE_TREATMENT="PurposeOneTreatment",e.PUBLISHER_COUNTRY_CODE="PublisherCountryCode",e.VENDOR_CONSENTS="VendorConsents",e.VENDOR_LEGITIMATE_INTERESTS="VendorLegitimateInterests",e.PUBLISHER_RESTRICTIONS="PublisherRestrictions",e.PUBLISHER_PURPOSES_SEGMENT_TYPE="PublisherPurposesSegmentType",e.PUBLISHER_CONSENTS="PublisherConsents",e.PUBLISHER_LEGITIMATE_INTERESTS="PublisherLegitimateInterests",e.NUM_CUSTOM_PURPOSES="NumCustomPurposes",e.PUBLISHER_CUSTOM_CONSENTS="PublisherCustomConsents",e.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS="PublisherCustomLegitimateInterests",e.VENDORS_ALLOWED_SEGMENT_TYPE="VendorsAllowedSegmentType",e.VENDORS_ALLOWED="VendorsAllowed",e.VENDORS_DISCLOSED_SEGMENT_TYPE="VendorsDisclosedSegmentType",e.VENDORS_DISCLOSED="VendorsDisclosed"}(_i||(_i={}));var Bi,$i=function(){p(t,fi);var e=y(t);function t(){return u(this,t),e.apply(this,arguments)}return d(t,[{key:"pad",value:function(e){for(;e.length%24>0;)e+="0";return e}}]),t}(),Hi=function(){p(t,xi);var e=y(t);function t(n){var i;u(this,t);var s=new Map,r=new Date;s.set(_i.VERSION.toString(),new Ti(6,t.VERSION)),s.set(_i.CREATED.toString(),new Di(r)),s.set(_i.LAST_UPDATED.toString(),new Di(r)),s.set(_i.CMP_ID.toString(),new Ti(12,0)),s.set(_i.CMP_VERSION.toString(),new Ti(12,0)),s.set(_i.CONSENT_SCREEN.toString(),new Ti(6,0)),s.set(_i.CONSENT_LANGUAGE.toString(),new Ui(2,"EN")),s.set(_i.VENDOR_LIST_VERSION.toString(),new Ti(12,0)),s.set(_i.POLICY_VERSION.toString(),new Ti(6,2)),s.set(_i.IS_SERVICE_SPECIFIC.toString(),new Ni(!1)),s.set(_i.USE_NON_STANDARD_STACKS.toString(),new Ni(!1)),s.set(_i.SPECIAL_FEATURE_OPTINS.toString(),new Vi([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),s.set(_i.PURPOSE_CONSENTS.toString(),new Vi([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),s.set(_i.PURPOSE_LEGITIMATE_INTERESTS.toString(),new Vi([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),s.set(_i.PURPOSE_ONE_TREATMENT.toString(),new Ni(!1)),s.set(_i.PUBLISHER_COUNTRY_CODE.toString(),new Ui(2,"AA")),s.set(_i.VENDOR_CONSENTS.toString(),new Gi([])),s.set(_i.VENDOR_LEGITIMATE_INTERESTS.toString(),new Gi([])),s.set(_i.PUBLISHER_RESTRICTIONS.toString(),new Fi([])),s.set(_i.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),new Ti(3,3)),s.set(_i.PUBLISHER_CONSENTS.toString(),new Vi([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),s.set(_i.PUBLISHER_LEGITIMATE_INTERESTS.toString(),new Vi([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));var o=new Ti(6,0);s.set(_i.NUM_CUSTOM_PURPOSES.toString(),o),s.set(_i.PUBLISHER_CUSTOM_CONSENTS.toString(),new Pi((function(){return o.getValue()}),[])),s.set(_i.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString(),new Pi((function(){return o.getValue()}),[])),s.set(_i.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),new Ti(3,2)),s.set(_i.VENDORS_ALLOWED.toString(),new Gi([])),s.set(_i.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),new Ti(3,1)),s.set(_i.VENDORS_DISCLOSED.toString(),new Gi([]));var a=[[_i.VERSION.toString(),_i.CREATED.toString(),_i.LAST_UPDATED.toString(),_i.CMP_ID.toString(),_i.CMP_VERSION.toString(),_i.CONSENT_SCREEN.toString(),_i.CONSENT_LANGUAGE.toString(),_i.VENDOR_LIST_VERSION.toString(),_i.POLICY_VERSION.toString(),_i.IS_SERVICE_SPECIFIC.toString(),_i.USE_NON_STANDARD_STACKS.toString(),_i.SPECIAL_FEATURE_OPTINS.toString(),_i.PURPOSE_CONSENTS.toString(),_i.PURPOSE_LEGITIMATE_INTERESTS.toString(),_i.PURPOSE_ONE_TREATMENT.toString(),_i.PUBLISHER_COUNTRY_CODE.toString(),_i.VENDOR_CONSENTS.toString(),_i.VENDOR_LEGITIMATE_INTERESTS.toString(),_i.PUBLISHER_RESTRICTIONS.toString()],[_i.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),_i.PUBLISHER_CONSENTS.toString(),_i.PUBLISHER_LEGITIMATE_INTERESTS.toString(),_i.NUM_CUSTOM_PURPOSES.toString(),_i.PUBLISHER_CUSTOM_CONSENTS.toString(),_i.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString()],[_i.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),_i.VENDORS_ALLOWED.toString()],[_i.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),_i.VENDORS_DISCLOSED.toString()]];return h(m(i=e.call(this,s,a)),"base64UrlEncoder",new $i),n&&n.length>0&&i.decode(n),i}return d(t,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),this.getFieldValue(_i.IS_SERVICE_SPECIFIC.toString())?e[1]&&e[1].length>0&&t.push(this.base64UrlEncoder.encode(e[1])):(e[2]&&e[2].length>0&&t.push(this.base64UrlEncoder.encode(e[2])),e[3]&&e[3].length>0&&t.push(this.base64UrlEncoder.encode(e[3]))),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=0;i<t.length;i++){var s=this.base64UrlEncoder.decode(t[i]);switch(s.substring(0,3)){case"000":n[0]=s;break;case"001":n[3]=s;break;case"010":n[2]=s;break;case"011":n[1]=s;break;default:throw new hi("Unable to decode segment '"+t[i]+"'")}}this.decodeSegmentsFromBitStrings(n)}},{key:"setFieldValue",value:function(e,n){if(I(g(t.prototype),"setFieldValue",this).call(this,e,n),e!==_i.CREATED.toString()&&e!==_i.LAST_UPDATED.toString()){var i=new Date,s=new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()));this.setFieldValue(_i.CREATED.toString(),s),this.setFieldValue(_i.LAST_UPDATED.toString(),s)}}},{key:"getId",value:function(){return t.ID}},{key:"getName",value:function(){return t.NAME}}]),t}();h(Hi,"ID",2),h(Hi,"VERSION",2),h(Hi,"NAME","tcfeuv2"),function(e){e.VERSION="Version",e.CREATED="Created",e.LAST_UPDATED="LastUpdated",e.CMP_ID="CmpId",e.CMP_VERSION="CmpVersion",e.CONSENT_SCREEN="ConsentScreen",e.CONSENT_LANGUAGE="ConsentLanguage",e.VENDOR_LIST_VERSION="VendorListVersion",e.TCF_POLICY_VERSION="TcfPolicyVersion",e.USE_NON_STANDARD_STACKS="UseNonStandardStacks",e.SPECIAL_FEATURE_EXPRESS_CONSENT="SpecialFeatureExpressConsent",e.PURPOSES_EXPRESS_CONSENT="PurposesExpressConsent",e.PURPOSES_IMPLIED_CONSENT="PurposesImpliedConsent",e.VENDOR_EXPRESS_CONSENT="VendorExpressConsent",e.VENDOR_IMPLIED_CONSENT="VendorImpliedConsent",e.SEGMENT_TYPE="SegmentType",e.PUB_PURPOSES_EXPRESS_CONSENT="PubPurposesExpressConsent",e.PUB_PURPOSES_IMPLIED_CONSENT="PubPurposesImpliedConsent",e.NUM_CUSTOM_PURPOSES="NumCustomPurposes",e.CUSTOM_PURPOSES_EXPRESS_CONSENT="CustomPurposesExpressConsent",e.CUSTOM_PURPOSES_IMPLIED_CONSENT="CustomPurposesImpliedConsent"}(Bi||(Bi={}));var ji,qi=function(){p(t,xi);var e=y(t);function t(n){var i;u(this,t);var s=new Map,r=new Date;s.set(Bi.VERSION.toString(),new Ti(6,t.VERSION)),s.set(Bi.CREATED.toString(),new Di(r)),s.set(Bi.LAST_UPDATED.toString(),new Di(r)),s.set(Bi.CMP_ID.toString(),new Ti(12,0)),s.set(Bi.CMP_VERSION.toString(),new Ti(12,0)),s.set(Bi.CONSENT_SCREEN.toString(),new Ti(6,0)),s.set(Bi.CONSENT_LANGUAGE.toString(),new Ui(2,"EN")),s.set(Bi.VENDOR_LIST_VERSION.toString(),new Ti(12,0)),s.set(Bi.TCF_POLICY_VERSION.toString(),new Ti(6,2)),s.set(Bi.USE_NON_STANDARD_STACKS.toString(),new Ni(!1)),s.set(Bi.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),new Vi([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),s.set(Bi.PURPOSES_EXPRESS_CONSENT.toString(),new Vi([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),s.set(Bi.PURPOSES_IMPLIED_CONSENT.toString(),new Vi([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),s.set(Bi.VENDOR_EXPRESS_CONSENT.toString(),new Gi([])),s.set(Bi.VENDOR_IMPLIED_CONSENT.toString(),new Gi([])),s.set(Bi.SEGMENT_TYPE.toString(),new Ti(3,3)),s.set(Bi.PUB_PURPOSES_EXPRESS_CONSENT.toString(),new Vi([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),s.set(Bi.PUB_PURPOSES_IMPLIED_CONSENT.toString(),new Vi([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));var o=new Ti(6,0);s.set(Bi.NUM_CUSTOM_PURPOSES.toString(),o),s.set(Bi.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),new Pi((function(){return o.getValue()}),[])),s.set(Bi.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString(),new Pi((function(){return o.getValue()}),[]));var a=[[Bi.VERSION.toString(),Bi.CREATED.toString(),Bi.LAST_UPDATED.toString(),Bi.CMP_ID.toString(),Bi.CMP_VERSION.toString(),Bi.CONSENT_SCREEN.toString(),Bi.CONSENT_LANGUAGE.toString(),Bi.VENDOR_LIST_VERSION.toString(),Bi.TCF_POLICY_VERSION.toString(),Bi.USE_NON_STANDARD_STACKS.toString(),Bi.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),Bi.PURPOSES_EXPRESS_CONSENT.toString(),Bi.PURPOSES_IMPLIED_CONSENT.toString(),Bi.VENDOR_EXPRESS_CONSENT.toString(),Bi.VENDOR_IMPLIED_CONSENT.toString()],[Bi.SEGMENT_TYPE.toString(),Bi.PUB_PURPOSES_EXPRESS_CONSENT.toString(),Bi.PUB_PURPOSES_IMPLIED_CONSENT.toString(),Bi.NUM_CUSTOM_PURPOSES.toString(),Bi.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),Bi.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString()]];return h(m(i=e.call(this,s,a)),"base64UrlEncoder",new Si),n&&n.length>0&&i.decode(n),i}return d(t,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=0;i<t.length;i++){var s=this.base64UrlEncoder.decode(t[i]);switch(s.substring(0,3)){case"000":n[0]=s;break;case"011":n[1]=s;break;default:throw new hi("Unable to decode segment '"+t[i]+"'")}}this.decodeSegmentsFromBitStrings(n)}},{key:"setFieldValue",value:function(e,n){if(I(g(t.prototype),"setFieldValue",this).call(this,e,n),e!==Bi.CREATED.toString()&&e!==Bi.LAST_UPDATED.toString()){var i=new Date,s=new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()));this.setFieldValue(Bi.CREATED.toString(),s),this.setFieldValue(Bi.LAST_UPDATED.toString(),s)}}},{key:"getId",value:function(){return t.ID}},{key:"getName",value:function(){return t.NAME}}]),t}();h(qi,"ID",5),h(qi,"VERSION",1),h(qi,"NAME","tcfcav1"),function(e){e.VERSION="Version",e.NOTICE="Notice",e.OPT_OUT_SALE="OptOutSale",e.LSPA_COVERED="LspaCovered"}(ji||(ji={}));var Yi=function(){function e(t){u(this,e),h(this,"fields",void 0),this.fields=new Map,this.fields.set(ji.VERSION.toString(),e.VERSION),this.fields.set(ji.NOTICE.toString(),"-"),this.fields.set(ji.OPT_OUT_SALE.toString(),"-"),this.fields.set(ji.LSPA_COVERED.toString(),"-"),t&&t.length>0&&this.decode(t)}return d(e,[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e):null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw new wi(e+" not found");this.fields.set(e,t)}},{key:"toObj",value:function(){var e,t={},n=b(this.fields.keys());try{for(n.s();!(e=n.n()).done;){var i=e.value,s=this.fields.get(i);t[i.toString()]=s}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"encode",value:function(){var e="";return e+=this.getFieldValue(ji.VERSION.toString()),e+=this.getFieldValue(ji.NOTICE.toString()),(e+=this.getFieldValue(ji.OPT_OUT_SALE.toString()))+this.getFieldValue(ji.LSPA_COVERED.toString())}},{key:"decode",value:function(e){this.setFieldValue(ji.VERSION.toString(),parseInt(e.charAt(0))),this.setFieldValue(ji.NOTICE.toString(),e.charAt(1)),this.setFieldValue(ji.OPT_OUT_SALE.toString(),e.charAt(2)),this.setFieldValue(ji.LSPA_COVERED.toString(),e.charAt(3))}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}]),e}();h(Yi,"ID",6),h(Yi,"VERSION",1),h(Yi,"NAME","uspv1");var Wi,Ji=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e,t,n){for(var i="",s=0;s<e.length;s++)i+=pi.encode(e[s],t);for(;i.length<t*n;)i+="0";return i}},{key:"decode",value:function(e,t,n){if(!/^[0-1]*$/.test(e))throw new hi("Undecodable FixedInteger '"+e+"'");if(e.length>t*n)throw new hi("Undecodable FixedIntegerList '"+e+"'");if(e.length%t!=0)throw new hi("Undecodable FixedIntegerList '"+e+"'");for(;e.length<t*n;)e+="0";e.length>t*n&&(e=e.substring(0,t*n));for(var i=[],s=0;s<e.length;s+=t)i.push(pi.decode(e.substring(s,s+t)));for(;i.length<n;)i.push(0);return i}}]),e}(),zi=function(){p(t,Ii);var e=y(t);function t(n,i){var s;return u(this,t),h(m(s=e.call(this)),"elementBitStringLength",void 0),h(m(s),"numElements",void 0),s.elementBitStringLength=n,s.numElements=i.length,s.setValue(i),s}return d(t,[{key:"encode",value:function(){return Ji.encode(this.value,this.elementBitStringLength,this.numElements)}},{key:"decode",value:function(e){this.value=Ji.decode(e,this.elementBitStringLength,this.numElements)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.elementBitStringLength*this.numElements)}},{key:"getValue",value:function(){return C(I(g(t.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){for(var n=C(e),i=n.length;i<this.numElements;i++)n.push(0);n.length>this.numElements&&(n=n.slice(0,this.numElements)),I(g(t.prototype),"setValue",this).call(this,n)}}]),t}();!function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",e.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",e.SALE_OPT_OUT="SaleOptOut",e.SHARING_OPT_OUT="SharingOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.PERSONAL_DATA_CONSENTS="PersonalDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(Wi||(Wi={}));var Qi,Ki=function(){p(t,xi);var e=y(t);function t(n){var i;u(this,t);var s=new Map;s.set(Wi.VERSION.toString(),new Ti(6,t.VERSION)),s.set(Wi.SHARING_NOTICE.toString(),new Ti(2,0)),s.set(Wi.SALE_OPT_OUT_NOTICE.toString(),new Ti(2,0)),s.set(Wi.SHARING_OPT_OUT_NOTICE.toString(),new Ti(2,0)),s.set(Wi.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Ti(2,0)),s.set(Wi.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new Ti(2,0)),s.set(Wi.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new Ti(2,0)),s.set(Wi.SALE_OPT_OUT.toString(),new Ti(2,0)),s.set(Wi.SHARING_OPT_OUT.toString(),new Ti(2,0)),s.set(Wi.TARGETED_ADVERTISING_OPT_OUT.toString(),new Ti(2,0)),s.set(Wi.SENSITIVE_DATA_PROCESSING.toString(),new zi(2,[0,0,0,0,0,0,0,0,0,0,0,0])),s.set(Wi.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new zi(2,[0,0])),s.set(Wi.PERSONAL_DATA_CONSENTS.toString(),new Ti(2,0)),s.set(Wi.MSPA_COVERED_TRANSACTION.toString(),new Ti(2,0)),s.set(Wi.MSPA_OPT_OUT_OPTION_MODE.toString(),new Ti(2,0)),s.set(Wi.MSPA_SERVICE_PROVIDER_MODE.toString(),new Ti(2,0)),s.set(Wi.GPC_SEGMENT_TYPE.toString(),new Ti(2,1)),s.set(Wi.GPC_SEGMENT_INCLUDED.toString(),new Ni(!0)),s.set(Wi.GPC.toString(),new Ni(!1));var r=[[Wi.VERSION.toString(),Wi.SHARING_NOTICE.toString(),Wi.SALE_OPT_OUT_NOTICE.toString(),Wi.SHARING_OPT_OUT_NOTICE.toString(),Wi.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),Wi.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),Wi.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),Wi.SALE_OPT_OUT.toString(),Wi.SHARING_OPT_OUT.toString(),Wi.TARGETED_ADVERTISING_OPT_OUT.toString(),Wi.SENSITIVE_DATA_PROCESSING.toString(),Wi.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Wi.PERSONAL_DATA_CONSENTS.toString(),Wi.MSPA_COVERED_TRANSACTION.toString(),Wi.MSPA_OPT_OUT_OPTION_MODE.toString(),Wi.MSPA_SERVICE_PROVIDER_MODE.toString()],[Wi.GPC_SEGMENT_TYPE.toString(),Wi.GPC.toString()]];return h(m(i=e.call(this,s,r)),"base64UrlEncoder",new Si),n&&n.length>0&&i.decode(n),i}return d(t,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(Wi.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=!1,s=0;s<t.length;s++){var r=this.base64UrlEncoder.decode(t[s]);switch(r.substring(0,2)){case"00":n[0]=r;break;case"01":i=!0,n[1]=r;break;default:throw new hi("Unable to decode segment '"+t[s]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(Wi.GPC_SEGMENT_INCLUDED).setValue(i)}},{key:"getId",value:function(){return t.ID}},{key:"getName",value:function(){return t.NAME}}]),t}();h(Ki,"ID",7),h(Ki,"VERSION",1),h(Ki,"NAME","usnatv1"),function(e){e.VERSION="Version",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",e.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",e.SALE_OPT_OUT="SaleOptOut",e.SHARING_OPT_OUT="SharingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.PERSONAL_DATA_CONSENTS="PersonalDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(Qi||(Qi={}));var Xi,Zi=function(){p(t,xi);var e=y(t);function t(n){var i;u(this,t);var s=new Map;s.set(Qi.VERSION.toString(),new Ti(6,t.VERSION)),s.set(Qi.SALE_OPT_OUT_NOTICE.toString(),new Ti(2,0)),s.set(Qi.SHARING_OPT_OUT_NOTICE.toString(),new Ti(2,0)),s.set(Qi.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new Ti(2,0)),s.set(Qi.SALE_OPT_OUT.toString(),new Ti(2,0)),s.set(Qi.SHARING_OPT_OUT.toString(),new Ti(2,0)),s.set(Qi.SENSITIVE_DATA_PROCESSING.toString(),new zi(2,[0,0,0,0,0,0,0,0,0])),s.set(Qi.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new zi(2,[0,0])),s.set(Qi.PERSONAL_DATA_CONSENTS.toString(),new Ti(2,0)),s.set(Qi.MSPA_COVERED_TRANSACTION.toString(),new Ti(2,0)),s.set(Qi.MSPA_OPT_OUT_OPTION_MODE.toString(),new Ti(2,0)),s.set(Qi.MSPA_SERVICE_PROVIDER_MODE.toString(),new Ti(2,0)),s.set(Qi.GPC_SEGMENT_TYPE.toString(),new Ti(2,1)),s.set(Qi.GPC_SEGMENT_INCLUDED.toString(),new Ni(!0)),s.set(Qi.GPC.toString(),new Ni(!1));var r=[[Qi.VERSION.toString(),Qi.SALE_OPT_OUT_NOTICE.toString(),Qi.SHARING_OPT_OUT_NOTICE.toString(),Qi.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),Qi.SALE_OPT_OUT.toString(),Qi.SHARING_OPT_OUT.toString(),Qi.SENSITIVE_DATA_PROCESSING.toString(),Qi.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Qi.PERSONAL_DATA_CONSENTS.toString(),Qi.MSPA_COVERED_TRANSACTION.toString(),Qi.MSPA_OPT_OUT_OPTION_MODE.toString(),Qi.MSPA_SERVICE_PROVIDER_MODE.toString()],[Qi.GPC_SEGMENT_TYPE.toString(),Qi.GPC.toString()]];return h(m(i=e.call(this,s,r)),"base64UrlEncoder",new Si),n&&n.length>0&&i.decode(n),i}return d(t,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(Qi.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=!1,s=0;s<t.length;s++){var r=this.base64UrlEncoder.decode(t[s]);switch(r.substring(0,2)){case"00":n[0]=r;break;case"01":i=!0,n[1]=r;break;default:throw new hi("Unable to decode segment '"+t[s]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(Qi.GPC_SEGMENT_INCLUDED).setValue(i)}},{key:"getId",value:function(){return t.ID}},{key:"getName",value:function(){return t.NAME}}]),t}();h(Zi,"ID",8),h(Zi,"VERSION",1),h(Zi,"NAME","uscav1"),function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"}(Xi||(Xi={}));var es,ts=function(){p(t,Ai);var e=y(t);function t(n){var i;u(this,t);var s=new Map;s.set(Xi.VERSION.toString(),new Ti(6,t.VERSION)),s.set(Xi.SHARING_NOTICE.toString(),new Ti(2,0)),s.set(Xi.SALE_OPT_OUT_NOTICE.toString(),new Ti(2,0)),s.set(Xi.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Ti(2,0)),s.set(Xi.SALE_OPT_OUT.toString(),new Ti(2,0)),s.set(Xi.TARGETED_ADVERTISING_OPT_OUT.toString(),new Ti(2,0)),s.set(Xi.SENSITIVE_DATA_PROCESSING.toString(),new zi(2,[0,0,0,0,0,0,0,0])),s.set(Xi.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new Ti(2,0)),s.set(Xi.MSPA_COVERED_TRANSACTION.toString(),new Ti(2,0)),s.set(Xi.MSPA_OPT_OUT_OPTION_MODE.toString(),new Ti(2,0)),s.set(Xi.MSPA_SERVICE_PROVIDER_MODE.toString(),new Ti(2,0));var r=[Xi.VERSION.toString(),Xi.SHARING_NOTICE.toString(),Xi.SALE_OPT_OUT_NOTICE.toString(),Xi.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),Xi.SALE_OPT_OUT.toString(),Xi.TARGETED_ADVERTISING_OPT_OUT.toString(),Xi.SENSITIVE_DATA_PROCESSING.toString(),Xi.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Xi.MSPA_COVERED_TRANSACTION.toString(),Xi.MSPA_OPT_OUT_OPTION_MODE.toString(),Xi.MSPA_SERVICE_PROVIDER_MODE.toString()];return h(m(i=e.call(this,s,r)),"base64UrlEncoder",new Si),n&&n.length>0&&i.decode(n),i}return d(t,[{key:"encode",value:function(){return this.base64UrlEncoder.encode(this.encodeToBitString())}},{key:"decode",value:function(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}},{key:"getId",value:function(){return t.ID}},{key:"getName",value:function(){return t.NAME}}]),t}();h(ts,"ID",9),h(ts,"VERSION",1),h(ts,"NAME","usvav1"),function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(es||(es={}));var ns,is=function(){p(t,xi);var e=y(t);function t(n){var i;u(this,t);var s=new Map;s.set(es.VERSION.toString(),new Ti(6,t.VERSION)),s.set(es.SHARING_NOTICE.toString(),new Ti(2,0)),s.set(es.SALE_OPT_OUT_NOTICE.toString(),new Ti(2,0)),s.set(es.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Ti(2,0)),s.set(es.SALE_OPT_OUT.toString(),new Ti(2,0)),s.set(es.TARGETED_ADVERTISING_OPT_OUT.toString(),new Ti(2,0)),s.set(es.SENSITIVE_DATA_PROCESSING.toString(),new zi(2,[0,0,0,0,0,0,0])),s.set(es.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new Ti(2,0)),s.set(es.MSPA_COVERED_TRANSACTION.toString(),new Ti(2,0)),s.set(es.MSPA_OPT_OUT_OPTION_MODE.toString(),new Ti(2,0)),s.set(es.MSPA_SERVICE_PROVIDER_MODE.toString(),new Ti(2,0)),s.set(es.GPC_SEGMENT_TYPE.toString(),new Ti(2,1)),s.set(es.GPC_SEGMENT_INCLUDED.toString(),new Ni(!0)),s.set(es.GPC.toString(),new Ni(!1));var r=[[es.VERSION.toString(),es.SHARING_NOTICE.toString(),es.SALE_OPT_OUT_NOTICE.toString(),es.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),es.SALE_OPT_OUT.toString(),es.TARGETED_ADVERTISING_OPT_OUT.toString(),es.SENSITIVE_DATA_PROCESSING.toString(),es.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),es.MSPA_COVERED_TRANSACTION.toString(),es.MSPA_OPT_OUT_OPTION_MODE.toString(),es.MSPA_SERVICE_PROVIDER_MODE.toString()],[es.GPC_SEGMENT_TYPE.toString(),es.GPC.toString()]];return h(m(i=e.call(this,s,r)),"base64UrlEncoder",new Si),n&&n.length>0&&i.decode(n),i}return d(t,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(es.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=!1,s=0;s<t.length;s++){var r=this.base64UrlEncoder.decode(t[s]);switch(r.substring(0,2)){case"00":n[0]=r;break;case"01":i=!0,n[1]=r;break;default:throw new hi("Unable to decode segment '"+t[s]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(es.GPC_SEGMENT_INCLUDED).setValue(i)}},{key:"getId",value:function(){return t.ID}},{key:"getName",value:function(){return t.NAME}}]),t}();h(is,"ID",10),h(is,"VERSION",1),h(is,"NAME","uscov1"),function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"}(ns||(ns={}));var ss,rs=function(){p(t,Ai);var e=y(t);function t(n){var i;u(this,t);var s=new Map;s.set(ns.VERSION.toString(),new Ti(6,t.VERSION)),s.set(ns.SHARING_NOTICE.toString(),new Ti(2,0)),s.set(ns.SALE_OPT_OUT_NOTICE.toString(),new Ti(2,0)),s.set(ns.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Ti(2,0)),s.set(ns.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new Ti(2,0)),s.set(ns.SALE_OPT_OUT.toString(),new Ti(2,0)),s.set(ns.TARGETED_ADVERTISING_OPT_OUT.toString(),new Ti(2,0)),s.set(ns.SENSITIVE_DATA_PROCESSING.toString(),new zi(2,[0,0,0,0,0,0,0,0])),s.set(ns.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new Ti(2,0)),s.set(ns.MSPA_COVERED_TRANSACTION.toString(),new Ti(2,0)),s.set(ns.MSPA_OPT_OUT_OPTION_MODE.toString(),new Ti(2,0)),s.set(ns.MSPA_SERVICE_PROVIDER_MODE.toString(),new Ti(2,0));var r=[ns.VERSION.toString(),ns.SHARING_NOTICE.toString(),ns.SALE_OPT_OUT_NOTICE.toString(),ns.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),ns.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),ns.SALE_OPT_OUT.toString(),ns.TARGETED_ADVERTISING_OPT_OUT.toString(),ns.SENSITIVE_DATA_PROCESSING.toString(),ns.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),ns.MSPA_COVERED_TRANSACTION.toString(),ns.MSPA_OPT_OUT_OPTION_MODE.toString(),ns.MSPA_SERVICE_PROVIDER_MODE.toString()];return h(m(i=e.call(this,s,r)),"base64UrlEncoder",new Si),n&&n.length>0&&i.decode(n),i}return d(t,[{key:"encode",value:function(){return this.base64UrlEncoder.encode(this.encodeToBitString())}},{key:"decode",value:function(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}},{key:"getId",value:function(){return t.ID}},{key:"getName",value:function(){return t.NAME}}]),t}();h(rs,"ID",11),h(rs,"VERSION",1),h(rs,"NAME","usutv1"),function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(ss||(ss={}));var os=function(){p(t,xi);var e=y(t);function t(n){var i;u(this,t);var s=new Map;s.set(ss.VERSION.toString(),new Ti(6,t.VERSION)),s.set(ss.SHARING_NOTICE.toString(),new Ti(2,0)),s.set(ss.SALE_OPT_OUT_NOTICE.toString(),new Ti(2,0)),s.set(ss.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Ti(2,0)),s.set(ss.SALE_OPT_OUT.toString(),new Ti(2,0)),s.set(ss.TARGETED_ADVERTISING_OPT_OUT.toString(),new Ti(2,0)),s.set(ss.SENSITIVE_DATA_PROCESSING.toString(),new zi(2,[0,0,0,0,0,0,0,0])),s.set(ss.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new zi(2,[0,0,0])),s.set(ss.MSPA_COVERED_TRANSACTION.toString(),new Ti(2,0)),s.set(ss.MSPA_OPT_OUT_OPTION_MODE.toString(),new Ti(2,0)),s.set(ss.MSPA_SERVICE_PROVIDER_MODE.toString(),new Ti(2,0)),s.set(ss.GPC_SEGMENT_TYPE.toString(),new Ti(2,1)),s.set(ss.GPC_SEGMENT_INCLUDED.toString(),new Ni(!0)),s.set(ss.GPC.toString(),new Ni(!1));var r=[[ss.VERSION.toString(),ss.SHARING_NOTICE.toString(),ss.SALE_OPT_OUT_NOTICE.toString(),ss.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),ss.SALE_OPT_OUT.toString(),ss.TARGETED_ADVERTISING_OPT_OUT.toString(),ss.SENSITIVE_DATA_PROCESSING.toString(),ss.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),ss.MSPA_COVERED_TRANSACTION.toString(),ss.MSPA_OPT_OUT_OPTION_MODE.toString(),ss.MSPA_SERVICE_PROVIDER_MODE.toString()],[ss.GPC_SEGMENT_TYPE.toString(),ss.GPC.toString()]];return h(m(i=e.call(this,s,r)),"base64UrlEncoder",new Si),n&&n.length>0&&i.decode(n),i}return d(t,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(ss.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=!1,s=0;s<t.length;s++){var r=this.base64UrlEncoder.decode(t[s]);switch(r.substring(0,2)){case"00":n[0]=r;break;case"01":i=!0,n[1]=r;break;default:throw new hi("Unable to decode segment '"+t[s]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(ss.GPC_SEGMENT_INCLUDED).setValue(i)}},{key:"getId",value:function(){return t.ID}},{key:"getName",value:function(){return t.NAME}}]),t}();h(os,"ID",12),h(os,"VERSION",1),h(os,"NAME","usctv1");var as=d((function e(){u(this,e)}));h(as,"SECTION_ID_NAME_MAP",new Map([[Hi.ID,Hi.NAME],[qi.ID,qi.NAME],[Yi.ID,Yi.NAME],[Ki.ID,Ki.NAME],[Zi.ID,Zi.NAME],[ts.ID,ts.NAME],[is.ID,is.NAME],[rs.ID,rs.NAME],[os.ID,os.NAME]])),h(as,"SECTION_ORDER",[Hi.NAME,qi.NAME,Yi.NAME,Ki.NAME,Zi.NAME,ts.NAME,is.NAME,rs.NAME,os.NAME]);var cs=function(){function e(t){u(this,e),h(this,"sections",new Map),h(this,"encodedString",void 0),h(this,"decoded",void 0),h(this,"dirty",void 0),t?(this.encodedString=t,this.decoded=!1,this.dirty=!1):(this.encodedString="DBAA",this.decoded=!1,this.dirty=!1)}return d(e,[{key:"setFieldValue",value:function(e,t,n){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Oi(e.message)}var i=null;if(this.sections.has(e)?i=this.sections.get(e):e===qi.NAME?(i=new qi,this.sections.set(qi.NAME,i)):e===Hi.NAME?(i=new Hi,this.sections.set(Hi.NAME,i)):e===Yi.NAME?(i=new Yi,this.sections.set(Yi.NAME,i)):e===Ki.NAME?(i=new Ki,this.sections.set(Ki.NAME,i)):e===Zi.NAME?(i=new Zi,this.sections.set(Zi.NAME,i)):e===ts.NAME?(i=new ts,this.sections.set(ts.NAME,i)):e===is.NAME?(i=new is,this.sections.set(is.NAME,i)):e===rs.NAME?(i=new rs,this.sections.set(rs.NAME,i)):e===os.NAME&&(i=new os,this.sections.set(os.NAME,i)),!i)throw new wi(e+"."+t+" not found");i.setFieldValue(t,n),this.dirty=!0}},{key:"setFieldValueBySectionId",value:function(e,t,n){this.setFieldValue(as.SECTION_ID_NAME_MAP.get(e),t,n)}},{key:"getFieldValue",value:function(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Oi(e.message)}return this.sections.has(e)?this.sections.get(e).getFieldValue(t):null}},{key:"getFieldValueBySectionId",value:function(e,t){return this.getFieldValue(as.SECTION_ID_NAME_MAP.get(e),t)}},{key:"hasField",value:function(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Oi(e.message)}return!!this.sections.has(e)&&this.sections.get(e).hasField(t)}},{key:"hasFieldBySectionId",value:function(e,t){return this.hasField(as.SECTION_ID_NAME_MAP.get(e),t)}},{key:"hasSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Oi(e.message)}return this.sections.has(e)}},{key:"hasSectionId",value:function(e){return this.hasSection(as.SECTION_ID_NAME_MAP.get(e))}},{key:"deleteSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Oi(e.message)}this.sections.delete(e),this.dirty=!0}},{key:"deleteSectionById",value:function(e){this.deleteSection(as.SECTION_ID_NAME_MAP.get(e))}},{key:"clear",value:function(){this.sections.clear(),this.encodedString="DBAA",this.decoded=!1,this.dirty=!1}},{key:"getHeader",value:function(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Oi(e.message)}var e=new bi;return e.setFieldValue("SectionIds",this.getSectionIds()),e.toObj()}},{key:"getSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Oi(e.message)}return this.sections.has(e)?this.sections.get(e).toObj():null}},{key:"getSectionIds",value:function(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Oi(e.message)}for(var e=[],t=0;t<as.SECTION_ORDER.length;t++){var n=as.SECTION_ORDER[t];if(this.sections.has(n)){var i=this.sections.get(n);e.push(i.getId())}}return e}},{key:"encode",value:function(){if(!this.dirty)return this.encodedString;if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Oi(e.message)}for(var e=[],t=[],n=0;n<as.SECTION_ORDER.length;n++){var i=as.SECTION_ORDER[n];if(this.sections.has(i)){var s=this.sections.get(i);e.push(s.encode()),t.push(s.getId())}}var r=new bi;return r.setFieldValue("SectionIds",this.getSectionIds()),e.unshift(r.encode()),this.encodedString=e.join("~"),this.dirty=!1,this.encodedString}},{key:"decode",value:function(e){this.encodedString=e,this.decoded=!1,this.dirty=!0,this.sections.clear();var t=e.split("~"),n=new bi(t[0]);this.sections.set(bi.NAME,n);for(var i=n.getFieldValue("SectionIds"),s=0;s<i.length;s++)if(i[s]===qi.ID){var r=new qi(t[s+1]);this.sections.set(qi.NAME,r)}else if(i[s]===Hi.ID){var o=new Hi(t[s+1]);this.sections.set(Hi.NAME,o)}else if(i[s]===Yi.ID){var a=new Yi(t[s+1]);this.sections.set(Yi.NAME,a)}else if(i[s]===Ki.ID){var c=new Ki(t[s+1]);this.sections.set(Ki.NAME,c)}else if(i[s]===Zi.ID){var u=new Zi(t[s+1]);this.sections.set(Zi.NAME,u)}else if(i[s]===ts.ID){var l=new ts(t[s+1]);this.sections.set(ts.NAME,l)}else if(i[s]===is.ID){var d=new is(t[s+1]);this.sections.set(is.NAME,d)}else if(i[s]===rs.ID){var h=new rs(t[s+1]);this.sections.set(rs.NAME,h)}else if(i[s]===os.ID){var p=new os(t[s+1]);this.sections.set(os.NAME,p)}this.decoded=!0,this.dirty=!1}},{key:"encodeSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Oi(e.message)}return this.sections.has(e)?this.sections.get(e).encode():null}},{key:"encodeSectionById",value:function(e){return this.encodeSection(as.SECTION_ID_NAME_MAP.get(e))}},{key:"decodeSection",value:function(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Oi(e.message)}var n=null;this.sections.has(e)?n=this.sections.get(e):e===qi.NAME?(n=new qi,this.sections.set(qi.NAME,n)):e===Hi.NAME?(n=new Hi,this.sections.set(Hi.NAME,n)):e===Yi.NAME?(n=new Yi,this.sections.set(Yi.NAME,n)):e===Ki.NAME?(n=new Ki,this.sections.set(Ki.NAME,n)):e===Zi.NAME?(n=new Zi,this.sections.set(Zi.NAME,n)):e===ts.NAME?(n=new ts,this.sections.set(ts.NAME,n)):e===is.NAME?(n=new is,this.sections.set(is.NAME,n)):e===rs.NAME?(n=new rs,this.sections.set(rs.NAME,n)):e===os.NAME&&(n=new os,this.sections.set(os.NAME,n)),n&&(n.decode(t),this.dirty=!0)}},{key:"decodeSectionById",value:function(e,t){this.decodeSection(as.SECTION_ID_NAME_MAP.get(e),t)}},{key:"toObject",value:function(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new Oi(e.message)}for(var e={},t=0;t<as.SECTION_ORDER.length;t++){var n=as.SECTION_ORDER[t];this.sections.has(n)&&(e[n]=this.sections.get(n).toObj())}return e}}]),e}(),us=function(){function e(){u(this,e),h(this,"gppVersion","1.1"),h(this,"supportedAPIs",[]),h(this,"eventQueue",new di(this)),h(this,"cmpStatus",ri.LOADING),h(this,"cmpDisplayStatus",oi.HIDDEN),h(this,"signalStatus",ci.NOT_READY),h(this,"applicableSections",[]),h(this,"gppModel",new cs),h(this,"cmpId",void 0),h(this,"cmpVersion",void 0),h(this,"eventStatus",void 0)}return d(e,[{key:"reset",value:function(){this.eventQueue.clear(),this.cmpStatus=ri.LOADING,this.cmpDisplayStatus=oi.HIDDEN,this.signalStatus=ci.NOT_READY,this.applicableSections=[],this.supportedAPIs=[],this.gppModel=new cs,delete this.cmpId,delete this.cmpVersion,delete this.eventStatus}}]),e}(),ls=function(){function e(){u(this,e)}return d(e,null,[{key:"absCall",value:function(e,t,n,i){return new Promise((function(s,r){var o=new XMLHttpRequest;o.withCredentials=n,o.addEventListener("load",(function(){if(o.readyState==XMLHttpRequest.DONE)if(o.status>=200&&o.status<300){var e=o.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}s(e)}else r(new Error("HTTP Status: ".concat(o.status," response type: ").concat(o.responseType)))})),o.addEventListener("error",(function(){r(new Error("error"))})),o.addEventListener("abort",(function(){r(new Error("aborted"))})),null===t?o.open("GET",e,!0):o.open("POST",e,!0),o.responseType="json",o.timeout=i,o.ontimeout=function(){r(new Error("Timeout "+i+"ms "+e))},o.send(t)}))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.absCall(e,JSON.stringify(t),n,i)}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.absCall(e,null,t,n)}}]),e}(),ds=function(){p(t,E(Error));var e=y(t);function t(n){var i;return u(this,t),(i=e.call(this,n)).name="GVLError",i}return d(t)}(),hs=function(){function e(){u(this,e)}return d(e,[{key:"has",value:function(t){return e.langSet.has(t)}},{key:"forEach",value:function(t){e.langSet.forEach(t)}},{key:"size",get:function(){return e.langSet.size}}]),e}();h(hs,"langSet",new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]));var ps=function(){function e(){u(this,e),h(this,"vendors",void 0),h(this,"consentLanguages",new hs),h(this,"gvlSpecificationVersion",void 0),h(this,"vendorListVersion",void 0),h(this,"tcfPolicyVersion",void 0),h(this,"lastUpdated",void 0),h(this,"purposes",void 0),h(this,"specialPurposes",void 0),h(this,"features",void 0),h(this,"specialFeatures",void 0),h(this,"stacks",void 0),h(this,"dataCategories",void 0),h(this,"language",e.DEFAULT_LANGUAGE),h(this,"vendorIds",void 0),h(this,"ready",!1),h(this,"fullVendorList",void 0),h(this,"byPurposeVendorMap",void 0),h(this,"bySpecialPurposeVendorMap",void 0),h(this,"byFeatureVendorMap",void 0),h(this,"bySpecialFeatureVendorMap",void 0),h(this,"baseUrl",void 0),h(this,"languageFilename","purposes-[LANG].json")}var t,n;return d(e,[{key:"changeLanguage",value:(n=c(r().mark((function e(t){var n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.toUpperCase(),!this.consentLanguages.has(n)){e.next=18;break}if(n===this.language){e.next=16;break}return this.language=n,i=this.baseUrl+this.languageFilename.replace("[LANG]",t),e.prev=5,e.t0=this,e.next=9,ls.fetch(i);case 9:e.t1=e.sent,e.t0.populate.call(e.t0,e.t1),e.next=16;break;case 13:throw e.prev=13,e.t2=e.catch(5),new ds("unable to load language: "+e.t2.message);case 16:e.next=19;break;case 18:throw new ds("unsupported language ".concat(t));case 19:case"end":return e.stop()}}),e,this,[[5,13]])}))),function(e){return n.apply(this,arguments)})},{key:"getJson",value:function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories,vendors:this.fullVendorList}))}},{key:"isVendorList",value:function(e){return void 0!==e&&void 0!==e.vendors}},{key:"populate",value:function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.ready=!0)}},{key:"mapVendors",value:function(e){var t=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((function(e){t.byPurposeVendorMap[e]={legInt:new Set,impCons:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((function(e){t.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((function(e){t.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((function(e){t.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((function(e){return+e}))),this.vendorIds=new Set(e),this.vendors=e.reduce((function(e,n){var i=t.vendors[String(n)];return i&&void 0===i.deletedDate&&(i.purposes.forEach((function(e){t.byPurposeVendorMap[String(e)].consent.add(n)})),i.specialPurposes.forEach((function(e){t.bySpecialPurposeVendorMap[String(e)].add(n)})),i.legIntPurposes&&i.legIntPurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].legInt.add(n)})),i.impConsPurposes&&i.impConsPurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].impCons.add(n)})),i.flexiblePurposes&&i.flexiblePurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].flexible.add(n)})),i.features.forEach((function(e){t.byFeatureVendorMap[String(e)].add(n)})),i.specialFeatures.forEach((function(e){t.bySpecialFeatureVendorMap[String(e)].add(n)})),e[n]=i),e}),{})}},{key:"getFilteredVendors",value:function(e,t,n,i){var s=this,r=e.charAt(0).toUpperCase()+e.slice(1),o={};return("purpose"===e&&n?this["by"+r+"VendorMap"][String(t)][n]:this["by"+(i?"Special":"")+r+"VendorMap"][String(t)]).forEach((function(e){o[String(e)]=s.vendors[String(e)]})),o}},{key:"getVendorsWithConsentPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"consent")}},{key:"getVendorsWithLegIntPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"legInt")}},{key:"getVendorsWithFlexiblePurpose",value:function(e){return this.getFilteredVendors("purpose",e,"flexible")}},{key:"getVendorsWithSpecialPurpose",value:function(e){return this.getFilteredVendors("purpose",e,void 0,!0)}},{key:"getVendorsWithFeature",value:function(e){return this.getFilteredVendors("feature",e)}},{key:"getVendorsWithSpecialFeature",value:function(e){return this.getFilteredVendors("feature",e,void 0,!0)}},{key:"narrowVendorsTo",value:function(e){this.mapVendors(e)}},{key:"isReady",get:function(){return this.ready}}],[{key:"fromVendorList",value:function(t){var n=new e;return n.populate(t),n}},{key:"fromUrl",value:(t=c(r().mark((function t(n){var i,s,o,a,c,u;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.baseUrl)&&0!==i.length){t.next=3;break}throw new ds("Invalid baseUrl: '"+i+"'");case 3:if(!/^https?:\/\/vendorlist\.consensu\.org\//.test(i)){t.next=5;break}throw new ds("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");case 5:if(i.length>0&&"/"!==i[i.length-1]&&(i+="/"),(s=new e).baseUrl=i,n.languageFilename?s.languageFilename=n.languageFilename:s.languageFilename="purposes-[LANG].json",!(n.version>0)){t.next=20;break}return(o=n.versionedFilename)||(o="archives/vendor-list-v[VERSION].json"),a=i+o.replace("[VERSION]",String(n.version)),t.t0=s,t.next=16,ls.fetch(a);case 16:t.t1=t.sent,t.t0.populate.call(t.t0,t.t1),t.next=28;break;case 20:return(c=n.latestFilename)||(c="vendor-list.json"),u=i+c,t.t2=s,t.next=26,ls.fetch(u);case 26:t.t3=t.sent,t.t2.populate.call(t.t2,t.t3);case 28:return t.abrupt("return",s);case 29:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})},{key:"isInstanceOf",value:function(e){return"object"===o(e)&&"function"==typeof e.narrowVendorsTo}}]),e}();h(ps,"DEFAULT_LANGUAGE","EN");var gs,fs,vs=function(){function e(t,n,i){u(this,e),h(this,"callResponder",void 0),h(this,"cmpApiContext",void 0),this.cmpApiContext=new us,this.cmpApiContext.cmpId=t,this.cmpApiContext.cmpVersion=n,this.callResponder=new li(this.cmpApiContext,i)}var t;return d(e,[{key:"fireEvent",value:function(e,t){this.cmpApiContext.eventQueue.exec(e,t)}},{key:"fireErrorEvent",value:function(e){this.cmpApiContext.eventQueue.exec("error",e)}},{key:"fireSectionChange",value:function(e){this.cmpApiContext.eventQueue.exec("sectionChange",e)}},{key:"getEventStatus",value:function(){return this.cmpApiContext.eventStatus}},{key:"setEventStatus",value:function(e){this.cmpApiContext.eventStatus=e}},{key:"getCmpStatus",value:function(){return this.cmpApiContext.cmpStatus}},{key:"setCmpStatus",value:function(e){this.cmpApiContext.cmpStatus=e,this.cmpApiContext.eventQueue.exec("cmpStatus",e)}},{key:"getCmpDisplayStatus",value:function(){return this.cmpApiContext.cmpDisplayStatus}},{key:"setCmpDisplayStatus",value:function(e){this.cmpApiContext.cmpDisplayStatus=e,this.cmpApiContext.eventQueue.exec("cmpDisplayStatus",e)}},{key:"getSignalStatus",value:function(){return this.cmpApiContext.signalStatus}},{key:"setSignalStatus",value:function(e){this.cmpApiContext.signalStatus=e,this.cmpApiContext.eventQueue.exec("signalStatus",e)}},{key:"getApplicableSections",value:function(){return this.cmpApiContext.applicableSections}},{key:"setApplicableSections",value:function(e){this.cmpApiContext.applicableSections=e}},{key:"getSupportedAPIs",value:function(){return this.cmpApiContext.supportedAPIs}},{key:"setSupportedAPIs",value:function(e){this.cmpApiContext.supportedAPIs=e}},{key:"setGppString",value:function(e){this.cmpApiContext.gppModel.decode(e)}},{key:"getGppString",value:function(){return this.cmpApiContext.gppModel.encode()}},{key:"setSectionString",value:function(e,t){this.cmpApiContext.gppModel.decodeSection(e,t)}},{key:"setSectionStringById",value:function(e,t){this.setSectionString(as.SECTION_ID_NAME_MAP.get(e),t)}},{key:"getSectionString",value:function(e){return this.cmpApiContext.gppModel.encodeSection(e)}},{key:"getSectionStringById",value:function(e){return this.getSectionString(as.SECTION_ID_NAME_MAP.get(e))}},{key:"setFieldValue",value:function(e,t,n){this.cmpApiContext.gppModel.setFieldValue(e,t,n)}},{key:"setFieldValueBySectionId",value:function(e,t,n){this.setFieldValue(as.SECTION_ID_NAME_MAP.get(e),t,n)}},{key:"getFieldValue",value:function(e,t){return this.cmpApiContext.gppModel.getFieldValue(e,t)}},{key:"getFieldValueBySectionId",value:function(e,t){return this.getFieldValue(as.SECTION_ID_NAME_MAP.get(e),t)}},{key:"getSection",value:function(e){return this.cmpApiContext.gppModel.getSection(e)}},{key:"getSectionById",value:function(e){return this.getSection(as.SECTION_ID_NAME_MAP.get(e))}},{key:"hasSection",value:function(e){return this.cmpApiContext.gppModel.hasSection(e)}},{key:"hasSectionId",value:function(e){return this.hasSection(as.SECTION_ID_NAME_MAP.get(e))}},{key:"deleteSection",value:function(e){this.cmpApiContext.gppModel.deleteSection(e)}},{key:"deleteSectionById",value:function(e){this.deleteSection(as.SECTION_ID_NAME_MAP.get(e))}},{key:"clear",value:function(){this.cmpApiContext.gppModel.clear()}},{key:"getObject",value:function(){return this.cmpApiContext.gppModel.toObject()}},{key:"getGvlFromVendorList",value:function(e){return ps.fromVendorList(e)}},{key:"getGvlFromUrl",value:(t=c(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps.fromUrl(t));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}(),Ss={tcfeuv2:2,tcfcav1:5,uspv1:6,usnat:7,usca:8,usva:9,usco:10,usut:11,usct:12},Es=function(){function e(e,t){var n=this;this.setApplicableSections=function(e){if(n.gppEnabled)try{n.gppApi.setApplicableSections([Ss[e]])}catch(t){throw new Error('GppData - setApplicableSections - unrecognized legalframework "'.concat(e,'"'))}},this.setCmpSignalReady=function(){return W(n,void 0,void 0,(function(){return J(this,(function(e){return this.gppEnabled&&this.gppApi.setSignalStatus(ci.READY),[2]}))}))},this.setCmpStatusLoaded=function(){return W(n,void 0,void 0,(function(){return J(this,(function(e){return this.gppEnabled&&this.gppApi.setCmpStatus(ri.LOADED),[2]}))}))},this.setCmpDisplayHidden=function(){return W(n,void 0,void 0,(function(){return J(this,(function(e){return this.gppEnabled&&this.gppApi.setCmpDisplayStatus(oi.HIDDEN),[2]}))}))},this.setCmpDisplayVisible=function(){return W(n,void 0,void 0,(function(){return J(this,(function(e){return this.gppEnabled&&this.gppApi.setCmpDisplayStatus(oi.VISIBLE),[2]}))}))},this.setSectionString=function(e,t){return W(n,void 0,void 0,(function(){return J(this,(function(n){return""!==e&&this.gppEnabled&&(this.gppApi.setSectionString(t,e),this.gppApi.fireSectionChange(t)),[2]}))}))},this.gppEnabled=t||!1,this.cmpId=(null==e?void 0:e.tcf2.cmpId)||5,this.cmpVersion=(null==e?void 0:e.tcf2.cmpVersion)||parseInt("3",10),this.gppApi=new vs(this.cmpId,this.cmpVersion),this.gppApi.setCmpStatus(ri.LOADING),this.gppApi.setSignalStatus(ci.NOT_READY)}return e.getInstance=function(t,n){var i,s=(null===(i=e.instance)||void 0===i?void 0:i.gppEnabled)||!1;return n||s?(e.instance||(e.instance=new e(t,n)),e.instance):null},e.prototype.resetGpp=function(){this.gppApi={}},e}(),ms=function(){function e(){this.primaryLanguage="",this.apiInstance=Wt.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.setPrimaryLanguage=function(e){this.primaryLanguage=e},e.prototype.getPrimaryLanguage=function(){return this.primaryLanguage},e.prototype.resolveLanguage=function(e){return void 0===e&&(e=!1),W(this,void 0,void 0,(function(){var t,n,i,s,r;return J(this,(function(o){switch(o.label){case 0:return t=ye.fetchUserCountryResponse(),n=[],t?(Gt.getInstance().setUserCountryData({code:t.countryCode,name:t.countryName,regionCode:t.regionCode}),[3,3]):[3,1];case 1:return[4,this.apiInstance.fetchAvailableLanguages()];case 2:n=o.sent(),o.label=3;case 3:if(!e){if(this.primaryLanguage)return this.apiInstance.setJsonFileLanguage(this.primaryLanguage),[2];if(i=ye.fetchLanguage())return this.apiInstance.setJsonFileLanguage(i),[2]}return n.length?[3,5]:[4,this.apiInstance.fetchAvailableLanguages()];case 4:n=o.sent(),o.label=5;case 5:return(s=Is(n))?(this.apiInstance.setJsonFileLanguage(s),[2]):(r=ys(n))?(this.apiInstance.setJsonFileLanguage(r),[2]):n.length>0?(this.apiInstance.setJsonFileLanguage(n[0]),[2]):(this.apiInstance.setJsonFileLanguage(an),[2])}}))}))},e}(),ys=function(e){var t=window.navigator;if(Ae(t.languages))for(var n=0;n<t.languages.length;n+=1){var i=Cs(e,t.languages[n]);if(i)return i}var s=null!=t.language?t.language:t.userLanguage;return Cs(e,s)},Is=function(e){var t=document.documentElement.lang;return t?Cs(e,t):null},Cs=function(e,t){if(t){var n=t.toLowerCase().replace("-","_");if(Ie(e,n))return n;var i=t.slice(0,2);if(Ie(e,i))return i}return null};!function(e){e.API_INVALID_COMMAND="Usercentrics: (__uspapi) Invalid command: ",e.API_INVALID_CALLBACK="Usercentrics: (__uspapi) callback parameter not a function",e.INVALID_STRING="Usercentrics: ccpa string is invalid",e.RESHOW_AFTER_DAYS_INVALID="Usercentrics: reshow after days must be greater than 364.",e.SETTINGS_UNDEFINED="Usercentrics: ccpa is missing in setting"}(gs||(gs={})),function(e){e.ACCEPT="Y",e.DENY="N",e.UNKNOWN="-"}(fs||(fs={}));var Ts,As,bs,_s,ws,Os,Ns=function(){function e(){this.initOptions=null,this.isFirstTimePageVisit=!0,this.selectedLayer=null,this.shouldAcceptAllImplicitly=null,this.shouldShowFirstLayerOnVersionChange=!1,this.variant=null,this.ampInstance=gt.getInstance(),this.settingsV2=Mn.getInstance(),this.rulesetInstance=On.getInstance(),this.apiInstance=Wt.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.selectedLayer=null,e.instance.variant=null,e.instance.shouldAcceptAllImplicitly=null,e.instance.initOptions=null},e.prototype.init=function(e){return W(this,void 0,void 0,(function(){var t;return J(this,(function(n){switch(n.label){case 0:return this.initOptions=e,this.isFirstTimePageVisit=this.isFirstTimeVisit(),null!==this.shouldAcceptAllImplicitly?[3,2]:(t=this,[4,this.settingsV2.shouldAcceptAllImplicitlyOnInit()]);case 1:t.shouldAcceptAllImplicitly=n.sent(),n.label=2;case 2:return this.shouldShowFirstLayerOnVersionChange=this.settingsV2.shouldShowFirstLayerOnVersionChange(),[2]}}))}))},e.prototype.isFirstTimeVisit=function(){return!ye.settingsExist()},e.prototype.shouldShowNone=function(){return W(this,void 0,void 0,(function(){var e,t;return J(this,(function(n){switch(n.label){case 0:return e=0===this.variant,null!==this.shouldAcceptAllImplicitly?[3,2]:(t=this,[4,this.settingsV2.shouldAcceptAllImplicitlyOnInit()]);case 1:t.shouldAcceptAllImplicitly=n.sent(),n.label=2;case 2:return this.apiInstance.getRulesetId()&&this.rulesetInstance.getIsUsingNoShow()?[2,this.rulesetInstance.getNoShow()]:[2,this.shouldAcceptAllImplicitly&&!e]}}))}))},e.prototype.shouldManuallyResurface=function(){var e=this.settingsV2.core,t=ye.fetchServices(),n=0===this.variant,i=null;if(t&&t.length>0){if(n)i=ye.getCcpaTimeStamp();else{var s=Be(t.reduce((function(e,t){return Q(Q([],z(e),!1),z(t.history),!1)}),[]));e&&s.length>0&&(i=s[0].timestamp)}if(e&&i){var r=e.renewConsentsTimestamp;if(r&&Date.now()/1e3>r&&i/1e3<r)return!0}}return!1},e.prototype.shouldShowFirstLayer=function(e){var t,n,i,s=this.ampInstance.isAmpEnabled(),r=0===this.variant,o=(null===(t=e.ccpa)||void 0===t?void 0:t.showOnPageLoad)||!1,a=r?o:!this.shouldAcceptAllImplicitly;if(this.shouldManuallyResurface())return!0;if(this.shouldAcceptAllImplicitly&&!r)return!1;if(a&&this.isFirstTimePageVisit||this.shouldShowFirstLayerOnVersionChange||!ye.fetchUserActionPerformed()&&(!r||o)||s)return!0;switch(this.variant){case 0:if(this.shouldShowFirstLayerForCcpa(null===(n=e.ccpa)||void 0===n?void 0:n.reshowCMP,null===(i=e.ccpa)||void 0===i?void 0:i.reshowAfterDays))return!0;break;case 2:var c=this.settingsV2.getTcfData();if(null==c?void 0:c.shouldResurfaceUI())return!0;break;default:if(this.shouldForceReshowGDPRBanner())return!0}return!1},e.prototype.shouldForceReshowGDPRBanner=function(){var e=this.settingsV2.core;if(!e)return!1;var t,n=e.reshowBanner,i=this.settingsV2.getServicesData(),s=Be(i.reduce((function(e,t){return Q(Q([],z(e),!1),z(t.consent.history),!1)}),[]));if(n>0&&s.length>0){var r=new Date(s[0].timestamp);return r.setMonth(r.getMonth()+n),t=r,(new Date).getTime()-t.getTime()>=0}return!1},e.prototype.shouldShowPrivacyButton=function(e){var t=window.location.href,n=!e.privacyButtonUrls||0===e.privacyButtonUrls.contains.length;return e.privacyButtonUrls&&e.privacyButtonUrls.contains.length>0&&e.privacyButtonUrls.contains.some((function(e){return t.includes(e)}))&&(n=!0),e.privacyButtonIsVisible&&n},e.prototype.resolveUiVariant=function(e){return W(this,void 0,void 0,(function(){return J(this,(function(t){switch(t.label){case 0:return null!==this.variant?[2,this.variant]:[4,this.settingsV2.isCcpaAvailable()];case 1:return t.sent()?this.variant=0:this.variant=e?2:1,[2,this.variant]}}))}))},e.prototype.resolveUiInitialLayer=function(e){return W(this,void 0,void 0,(function(){return J(this,(function(t){switch(t.label){case 0:return[4,this.shouldShowNone()];case 1:return t.sent()?[2,1]:this.shouldShowFirstLayer(e)?[2,0]:this.shouldShowPrivacyButton(e)?[2,2]:[2,1]}}))}))},e.prototype.resolveUIOptions=function(e){var t;return W(this,void 0,void 0,(function(){var n,i,s,r;return J(this,(function(o){switch(o.label){case 0:return n=this.ampInstance.isAmpEnabled(),null!==this.variant?[3,2]:(i=this,[4,this.resolveUiVariant(e.tcf2Enabled)]);case 1:i.variant=o.sent(),o.label=2;case 2:return 0!==this.variant&&ye.clearCcpa(),2!==this.variant&&ye.clearTcf(),s=this,(null===(t=this.initOptions)||void 0===t?void 0:t.suppressCmpDisplay)?(r=1,[3,5]):[3,3];case 3:return[4,this.resolveUiInitialLayer(e)];case 4:r=o.sent(),o.label=5;case 5:return s.selectedLayer=r,[2,{ampEnabled:n,initialLayer:this.selectedLayer,variant:this.variant}]}}))}))},e.prototype.shouldShowFirstLayerForCcpa=function(e,t){var n;void 0===t&&(t=365);var i,s=this.settingsV2.legacySettings,r=(i=ye.getCcpaData())?((new Date).getTime()-i.timestamp)/864e5:0;return s||void 0!==e?null!==(n=null!=e?e:null==s?void 0:s.ccpa.reshowCMP)&&void 0!==n&&n&&r>t:r>t},e}(),Ls=Object.freeze({initialize:function({modulePath:e=".",importFunctionName:t="__import__"}={}){try{self[t]=new Function("u","return import(u)")}catch(n){const i=new URL(e,location),s=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,r)=>{const o=new URL(e,i);if(self[t].moduleMap[o])return n(self[t].moduleMap[o]);const a=new Blob([`import * as m from '${o}';`,`${t}.moduleMap['${o}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(a),onerror(){r(new Error(`Failed to import: ${e}`)),s(c)},onload(){n(self[t].moduleMap[o]),s(c)}});document.head.appendChild(c)})),self[t].moduleMap={}}}});function Ds(e,t){return Object.keys(t).forEach((function(n){"default"===n||"__esModule"===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})})),e}function Rs(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var Ps={},Vs={};Rs(Vs,"Base64Url",(function(){return js}));var ks={},Us={};Rs(Us,"DecodingError",(function(){return xs}));var xs=function(){p(t,E(Error));var e=y(t);function t(n){var i;return u(this,t),(i=e.call(this,n)).name="DecodingError",i}return d(t)}(),Ms={};Rs(Ms,"EncodingError",(function(){return Fs}));var Fs=function(){p(t,E(Error));var e=y(t);function t(n){var i;return u(this,t),(i=e.call(this,n)).name="EncodingError",i}return d(t)}(),Gs={};Rs(Gs,"GVLError",(function(){return Bs}));var Bs=function(){p(t,E(Error));var e=y(t);function t(n){var i;return u(this,t),(i=e.call(this,n)).name="GVLError",i}return d(t)}(),$s={};Rs($s,"TCModelError",(function(){return Hs}));var Hs=function(){p(t,E(Error));var e=y(t);function t(n,i){var s,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return u(this,t),(s=e.call(this,"invalid value ".concat(i," passed for ").concat(n," ").concat(r))).name="TCModelError",s}return d(t)}();Ds(ks,Us),Ds(ks,Ms),Ds(ks,Gs),Ds(ks,$s);var js=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e){if(!/^[0-1]+$/.test(e))throw new Fs("Invalid bitField");var t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";for(var n="",i=0;i<e.length;i+=this.BASIS)n+=this.DICT[parseInt(e.substr(i,this.BASIS),2)];return n}},{key:"decode",value:function(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new xs("Invalidly encoded Base64URL string");for(var t="",n=0;n<e.length;n++){var i=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-i.length)+i}return t}}]),e}();(Ts=js).DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",Ts.REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]),Ts.BASIS=6,Ts.LCM=24;var qs={};Rs(qs,"BitLength",(function(){return Vr}));var Ys={},Ws={};Rs(Ws,"ConsentLanguages",(function(){return Js}));var Js=function(){function e(){u(this,e)}return d(e,[{key:"has",value:function(t){return e.langSet.has(t)}},{key:"parseLanguage",value:function(t){var n=(t=t.toUpperCase()).split("-")[0];if(t.length>=2&&2==n.length){if(e.langSet.has(t))return t;if(e.langSet.has(n))return n;var i=n+"-"+n;if(e.langSet.has(i))return i;var s,r=b(e.langSet);try{for(r.s();!(s=r.n()).done;){var o=s.value;if(-1!==o.indexOf(t)||-1!==o.indexOf(n))return o}}catch(e){r.e(e)}finally{r.f()}}throw new Error("unsupported language ".concat(t))}},{key:"forEach",value:function(t){e.langSet.forEach(t)}},{key:"size",get:function(){return e.langSet.size}}]),e}();Js.langSet=new Set(["AR","BG","BS","CA","CS","CY","DA","DE","EL","EN","ES","ET","EU","FI","FR","GL","HE","HR","HU","ID","IT","JA","KO","LT","LV","MK","MS","MT","NL","NO","PL","PT-BR","PT-PT","RO","RU","SK","SL","SR-LATN","SR-CYRL","SV","TL","TR","UK","ZH"]);var zs={};Rs(zs,"Fields",(function(){return Qs}));var Qs=d((function e(){u(this,e)}));(As=Qs).cmpId="cmpId",As.cmpVersion="cmpVersion",As.consentLanguage="consentLanguage",As.consentScreen="consentScreen",As.created="created",As.supportOOB="supportOOB",As.isServiceSpecific="isServiceSpecific",As.lastUpdated="lastUpdated",As.numCustomPurposes="numCustomPurposes",As.policyVersion="policyVersion",As.publisherCountryCode="publisherCountryCode",As.publisherCustomConsents="publisherCustomConsents",As.publisherCustomLegitimateInterests="publisherCustomLegitimateInterests",As.publisherLegitimateInterests="publisherLegitimateInterests",As.publisherConsents="publisherConsents",As.publisherRestrictions="publisherRestrictions",As.purposeConsents="purposeConsents",As.purposeLegitimateInterests="purposeLegitimateInterests",As.purposeOneTreatment="purposeOneTreatment",As.specialFeatureOptins="specialFeatureOptins",As.useNonStandardTexts="useNonStandardTexts",As.vendorConsents="vendorConsents",As.vendorLegitimateInterests="vendorLegitimateInterests",As.vendorListVersion="vendorListVersion",As.vendorsAllowed="vendorsAllowed",As.vendorsDisclosed="vendorsDisclosed",As.version="version";var Ks={};Rs(Ks,"PurposeRestriction",(function(){return nr})),Rs({},"Cloneable",(function(){return er}));var Xs,Zs,er=function(){function e(){u(this,e)}return d(e,[{key:"clone",value:function(){var e=this,t=new this.constructor;return Object.keys(this).forEach((function(n){var i=e.deepClone(e[n]);void 0!==i&&(t[n]=i)})),t}},{key:"deepClone",value:function(e){var t=o(e);if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){var n,i=[],s=b(e);try{for(s.s();!(n=s.n()).done;){var r=n.value;i.push(this.deepClone(r))}}catch(e){s.e(e)}finally{s.f()}return e instanceof Array?i:new e.constructor(i)}var a={};for(var c in e)e.hasOwnProperty(c)&&(a[c]=this.deepClone(e[c]));return a}}}]),e}(),tr={};Rs(tr,"RestrictionType",(function(){return Xs})),(Zs=Xs||(Xs={}))[Zs.NOT_ALLOWED=0]="NOT_ALLOWED",Zs[Zs.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",Zs[Zs.REQUIRE_LI=2]="REQUIRE_LI";var nr=function(){p(t,er);var e=y(t);function t(n,i){var s;return u(this,t),s=e.call(this),void 0!==n&&(s.purposeId=n),void 0!==i&&(s.restrictionType=i),s}return d(t,[{key:"hash",get:function(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return"".concat(this.purposeId).concat(t.hashSeparator).concat(this.restrictionType)}},{key:"purposeId",get:function(){return this.purposeId_},set:function(e){this.purposeId_=e}},{key:"isValid",value:function(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===Xs.NOT_ALLOWED||this.restrictionType===Xs.REQUIRE_CONSENT||this.restrictionType===Xs.REQUIRE_LI)}},{key:"isSameAs",value:function(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}],[{key:"unHash",value:function(e){var n=e.split(this.hashSeparator),i=new t;if(2!==n.length)throw new Hs("hash",e);return i.purposeId=parseInt(n[0],10),i.restrictionType=parseInt(n[1],10),i}}]),t}();nr.hashSeparator="-";var ir={};Rs(ir,"PurposeRestrictionVector",(function(){return or}));var sr,rr,or=function(){p(t,er);var e=y(t);function t(){var n;u(this,t);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(n=e.call.apply(e,[this].concat(s))).bitLength=0,n.map=new Map,n}return d(t,[{key:"has",value:function(e){return this.map.has(e)}},{key:"isOkToHave",value:function(e,t,n){var i,s=!0;if(null!==(i=this.gvl)&&void 0!==i&&i.vendors){var r=this.gvl.vendors[n];if(r)if(e===Xs.NOT_ALLOWED)s=r.legIntPurposes.includes(t)||r.purposes.includes(t);else if(r.flexiblePurposes.length)switch(e){case Xs.REQUIRE_CONSENT:s=r.flexiblePurposes.includes(t)&&r.legIntPurposes.includes(t);break;case Xs.REQUIRE_LI:s=r.flexiblePurposes.includes(t)&&r.purposes.includes(t)}else s=!1;else s=!1}return s}},{key:"add",value:function(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){var n=t.hash;this.has(n)||(this.map.set(n,new Set),this.bitLength=0),this.map.get(n).add(e)}}},{key:"restrictPurposeToLegalBasis",value:function(e){var t=Array.from(this.gvl.vendorIds),n=e.hash,i=t[t.length-1],s=C(Array(i).keys()).map((function(e){return e+1}));if(this.has(n))for(var r=1;r<=i;r++)this.map.get(n).add(r);else this.map.set(n,new Set(s)),this.bitLength=0}},{key:"getVendors",value:function(e){var t=[];if(e){var n=e.hash;this.has(n)&&(t=Array.from(this.map.get(n)))}else{var i=new Set;this.map.forEach((function(e){e.forEach((function(e){i.add(e)}))})),t=Array.from(i)}return t.sort((function(e,t){return e-t}))}},{key:"getRestrictionType",value:function(e,t){var n;return this.getRestrictions(e).forEach((function(e){e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)})),n}},{key:"vendorHasRestriction",value:function(e,t){for(var n=!1,i=this.getRestrictions(e),s=0;s<i.length&&!n;s++)n=t.isSameAs(i[s]);return n}},{key:"getMaxVendorId",value:function(){var e=0;return this.map.forEach((function(t){e=Math.max(Array.from(t)[t.size-1],e)})),e}},{key:"getRestrictions",value:function(e){var t=[];return this.map.forEach((function(n,i){e?n.has(e)&&t.push(nr.unHash(i)):t.push(nr.unHash(i))})),t}},{key:"getPurposes",value:function(){var e=new Set;return this.map.forEach((function(t,n){e.add(nr.unHash(n).purposeId)})),Array.from(e)}},{key:"remove",value:function(e,t){var n=t.hash,i=this.map.get(n);i&&(i.delete(e),0==i.size&&(this.map.delete(n),this.bitLength=0))}},{key:"gvl",get:function(){return this.gvl_},set:function(e){var t=this;this.gvl_||(this.gvl_=e,this.map.forEach((function(e,n){var i=nr.unHash(n);Array.from(e).forEach((function(n){t.isOkToHave(i.restrictionType,i.purposeId,n)||e.delete(n)}))})))}},{key:"isEmpty",value:function(){return 0===this.map.size}},{key:"numRestrictions",get:function(){return this.map.size}}]),t}(),ar={};Rs(ar,"DeviceDisclosureStorageAccessType",(function(){return sr})),(rr=sr||(sr={})).COOKIE="cookie",rr.WEB="web",rr.APP="app";var cr,ur,lr={};Rs(lr,"Segment",(function(){return cr})),(ur=cr||(cr={})).CORE="core",ur.VENDORS_DISCLOSED="vendorsDisclosed",ur.VENDORS_ALLOWED="vendorsAllowed",ur.PUBLISHER_TC="publisherTC";var dr={};Rs(dr,"SegmentIDs",(function(){return hr}));var hr=d((function e(){u(this,e)}));(bs=hr).ID_TO_KEY=[cr.CORE,cr.VENDORS_DISCLOSED,cr.VENDORS_ALLOWED,cr.PUBLISHER_TC],bs.KEY_TO_ID=(h(Os={},cr.CORE,0),h(Os,cr.VENDORS_DISCLOSED,1),h(Os,cr.VENDORS_ALLOWED,2),h(Os,cr.PUBLISHER_TC,3),Os);var pr={};Rs(pr,"Vector",(function(){return Rr}));var gr,fr,vr,Sr,Er,mr,yr,Ir,Cr,Tr,Ar,br,_r,wr,Or,Nr,Lr,Dr,Rr=function(e,t){p(i,e);var n=y(i);function i(){var e;u(this,i);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return(e=n.call.apply(n,[this].concat(s))).bitLength=0,e.maxId_=0,e.set_=new Set,e}return d(i,[{key:t,value:r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=1;case 1:if(!(t<=this.maxId)){e.next=7;break}return e.next=4,[t,this.has(t)];case 4:t++,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"values",value:function(){return this.set_.values()}},{key:"maxId",get:function(){return this.maxId_}},{key:"has",value:function(e){return this.set_.has(e)}},{key:"unset",value:function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t.unset(e)})):"object"===o(e)?this.unset(Object.keys(e).map((function(e){return Number(e)}))):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach((function(e){t.maxId_=Math.max(t.maxId,e)}))))}},{key:"isIntMap",value:function(e){var t=this,n="object"===o(e);return n&&Object.keys(e).every((function(n){var i=Number.isInteger(parseInt(n,10));return(i=i&&t.isValidNumber(e[n].id))&&void 0!==e[n].name}))}},{key:"isValidNumber",value:function(e){return parseInt(e,10)>0}},{key:"isSet",value:function(e){var t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t}},{key:"set",value:function(e){var t=this;if(Array.isArray(e))e.forEach((function(e){return t.set(e)}));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map((function(e){return Number(e)})));else{if(!this.isValidNumber(e))throw new Hs("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}},{key:"empty",value:function(){this.set_=new Set}},{key:"forEach",value:function(e){for(var t=1;t<=this.maxId;t++)e(this.has(t),t)}},{key:"size",get:function(){return this.set_.size}},{key:"setAll",value:function(e){this.set(e)}}]),i}(er,Symbol.iterator),Pr={};Ds(Pr,{}),Ds(Pr,{}),Ds(Pr,{}),Ds(Pr,{}),Ds(Pr,{}),Ds(Pr,{}),Ds(Pr,{}),Ds(Pr,{}),Ds(Pr,{}),Ds(Pr,{}),Ds(Pr,{}),Ds(Ys,Ws),Ds(Ys,zs),Ds(Ys,{}),Ds(Ys,{}),Ds(Ys,Ks),Ds(Ys,ir),Ds(Ys,ar),Ds(Ys,{}),Ds(Ys,tr),Ds(Ys,lr),Ds(Ys,dr),Ds(Ys,pr),Ds(Ys,Pr);var Vr=d((function e(){u(this,e)}));_s=Vr,gr=Qs.cmpId,fr=Qs.cmpVersion,vr=Qs.consentLanguage,Sr=Qs.consentScreen,Er=Qs.created,mr=Qs.isServiceSpecific,yr=Qs.lastUpdated,Ir=Qs.policyVersion,Cr=Qs.publisherCountryCode,Tr=Qs.publisherLegitimateInterests,Ar=Qs.publisherConsents,br=Qs.purposeConsents,_r=Qs.purposeLegitimateInterests,wr=Qs.purposeOneTreatment,Or=Qs.specialFeatureOptins,Nr=Qs.useNonStandardTexts,Lr=Qs.vendorListVersion,Dr=Qs.version,_s[gr]=12,_s[fr]=12,_s[vr]=12,_s[Sr]=6,_s[Er]=36,_s[mr]=1,_s[yr]=36,_s[Ir]=6,_s[Cr]=12,_s[Tr]=24,_s[Ar]=24,_s[br]=24,_s[_r]=24,_s[wr]=1,_s[Or]=12,_s[Nr]=1,_s[Lr]=12,_s[Dr]=6,_s.anyBoolean=1,_s.encodingType=1,_s.maxId=16,_s.numCustomPurposes=6,_s.numEntries=12,_s.numRestrictions=12,_s.purposeId=6,_s.restrictionType=2,_s.segmentType=3,_s.singleOrRange=1,_s.vendorId=16;var kr={};Rs(kr,"SegmentEncoder",(function(){return ao}));var Ur={},xr={};Rs(xr,"BooleanEncoder",(function(){return Mr}));var Mr=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e){return String(Number(e))}},{key:"decode",value:function(e){return"1"===e}}]),e}(),Fr={};Rs(Fr,"DateEncoder",(function(){return $r}));var Gr={};Rs(Gr,"IntEncoder",(function(){return Br}));var Br=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e,t){var n;if("string"==typeof e&&(e=parseInt(e,10)),(n=e.toString(2)).length>t||e<0)throw new Fs("".concat(e," too large to encode into ").concat(t));return n.length<t&&(n="0".repeat(t-n.length)+n),n}},{key:"decode",value:function(e,t){if(t!==e.length)throw new xs("invalid bit length");return parseInt(e,2)}}]),e}(),$r=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e,t){return Br.encode(Math.round(e.getTime()/100),t)}},{key:"decode",value:function(e,t){if(t!==e.length)throw new xs("invalid bit length");var n=new Date;return n.setTime(100*Br.decode(e,t)),n}}]),e}(),Hr={};Rs(Hr,"FieldEncoderMap",(function(){return to}));var jr={};Rs(jr,"FixedVectorEncoder",(function(){return qr}));var qr=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e,t){for(var n="",i=1;i<=t;i++)n+=Mr.encode(e.has(i));return n}},{key:"decode",value:function(e,t){if(e.length!==t)throw new xs("bitfield encoding length mismatch");for(var n=new Rr,i=1;i<=t;i++)Mr.decode(e[i-1])&&n.set(i);return n.bitLength=e.length,n}}]),e}(),Yr={};Rs(Yr,"LangEncoder",(function(){return Wr}));var Wr=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e,t){var n=(e=e.toUpperCase()).charCodeAt(0)-65,i=e.charCodeAt(1)-65;if(n<0||n>25||i<0||i>25)throw new Fs("invalid language code: ".concat(e));if(t%2==1)throw new Fs("numBits must be even, ".concat(t," is not valid"));return t/=2,Br.encode(n,t)+Br.encode(i,t)}},{key:"decode",value:function(e,t){if(t!==e.length||e.length%2)throw new xs("invalid bit length for language");var n=e.length/2,i=Br.decode(e.slice(0,n),n)+65,s=Br.decode(e.slice(n),n)+65;return String.fromCharCode(i)+String.fromCharCode(s)}}]),e}(),Jr={};Rs(Jr,"PurposeRestrictionVectorEncoder",(function(){return zr}));var zr=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e){var t=Br.encode(e.numRestrictions,Vr.numRestrictions);if(!e.isEmpty()){var n=function(t,n){for(var i=t+1;i<=n;i++)if(e.gvl.vendorIds.has(i))return i;return t};e.getRestrictions().forEach((function(i){t+=Br.encode(i.purposeId,Vr.purposeId),t+=Br.encode(i.restrictionType,Vr.restrictionType);for(var s=e.getVendors(i),r=s.length,o=0,a=0,c="",u=0;u<r;u++){var l=s[u];if(0===a&&(o++,a=l),u===r-1||s[u+1]>n(l,s[r-1])){var d=!(l===a);c+=Mr.encode(d),c+=Br.encode(a,Vr.vendorId),d&&(c+=Br.encode(l,Vr.vendorId)),a=0}}t+=Br.encode(o,Vr.numEntries),t+=c}))}return t}},{key:"decode",value:function(e){var t=0,n=new or,i=Br.decode(e.substr(t,Vr.numRestrictions),Vr.numRestrictions);t+=Vr.numRestrictions;for(var s=0;s<i;s++){var r=Br.decode(e.substr(t,Vr.purposeId),Vr.purposeId);t+=Vr.purposeId;var o=Br.decode(e.substr(t,Vr.restrictionType),Vr.restrictionType);t+=Vr.restrictionType;var a=new nr(r,o),c=Br.decode(e.substr(t,Vr.numEntries),Vr.numEntries);t+=Vr.numEntries;for(var u=0;u<c;u++){var l=Mr.decode(e.substr(t,Vr.anyBoolean));t+=Vr.anyBoolean;var d=Br.decode(e.substr(t,Vr.vendorId),Vr.vendorId);if(t+=Vr.vendorId,l){var h=Br.decode(e.substr(t,Vr.vendorId),Vr.vendorId);if(t+=Vr.vendorId,h<d)throw new xs("Invalid RangeEntry: endVendorId ".concat(h," is less than ").concat(d));for(var p=d;p<=h;p++)n.add(p,a)}else n.add(d,a)}}return n.bitLength=t,n}}]),e}(),Qr={};Rs(Qr,"VendorVectorEncoder",(function(){return eo}));var Kr,Xr,Zr={};Rs(Zr,"VectorEncodingType",(function(){return Kr})),(Xr=Kr||(Kr={}))[Xr.FIELD=0]="FIELD",Xr[Xr.RANGE=1]="RANGE";var eo=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e){var t,n=[],i=[],s=Br.encode(e.maxId,Vr.maxId),r="",o=Vr.maxId+Vr.encodingType,a=o+e.maxId,c=2*Vr.vendorId+Vr.singleOrRange+Vr.numEntries,u=o+Vr.numEntries;return e.forEach((function(s,o){r+=Mr.encode(s),(t=e.maxId>c&&u<a)&&s&&(e.has(o+1)?0===i.length&&(i.push(o),u+=Vr.singleOrRange,u+=Vr.vendorId):(i.push(o),u+=Vr.vendorId,n.push(i),i=[]))})),t?(s+=String(Kr.RANGE),s+=this.buildRangeEncoding(n)):(s+=String(Kr.FIELD),s+=r),s}},{key:"decode",value:function(e,t){var n,i=0,s=Br.decode(e.substr(i,Vr.maxId),Vr.maxId);i+=Vr.maxId;var r=Br.decode(e.charAt(i),Vr.encodingType);if(i+=Vr.encodingType,r===Kr.RANGE){if(n=new Rr,1===t){if("1"===e.substr(i,1))throw new xs("Unable to decode default consent=1");i++}var o=Br.decode(e.substr(i,Vr.numEntries),Vr.numEntries);i+=Vr.numEntries;for(var a=0;a<o;a++){var c=Mr.decode(e.charAt(i));i+=Vr.singleOrRange;var u=Br.decode(e.substr(i,Vr.vendorId),Vr.vendorId);if(i+=Vr.vendorId,c){var l=Br.decode(e.substr(i,Vr.vendorId),Vr.vendorId);i+=Vr.vendorId;for(var d=u;d<=l;d++)n.set(d)}else n.set(u)}}else{var h=e.substr(i,s);i+=s,n=qr.decode(h,s)}return n.bitLength=i,n}},{key:"buildRangeEncoding",value:function(e){var t=e.length,n=Br.encode(t,Vr.numEntries);return e.forEach((function(e){var t=1===e.length;n+=Mr.encode(!t),n+=Br.encode(e[0],Vr.vendorId),t||(n+=Br.encode(e[1],Vr.vendorId))})),n}}]),e}();function to(){var e;return h(e={},Qs.version,Br),h(e,Qs.created,$r),h(e,Qs.lastUpdated,$r),h(e,Qs.cmpId,Br),h(e,Qs.cmpVersion,Br),h(e,Qs.consentScreen,Br),h(e,Qs.consentLanguage,Wr),h(e,Qs.vendorListVersion,Br),h(e,Qs.policyVersion,Br),h(e,Qs.isServiceSpecific,Mr),h(e,Qs.useNonStandardTexts,Mr),h(e,Qs.specialFeatureOptins,qr),h(e,Qs.purposeConsents,qr),h(e,Qs.purposeLegitimateInterests,qr),h(e,Qs.purposeOneTreatment,Mr),h(e,Qs.publisherCountryCode,Wr),h(e,Qs.vendorConsents,eo),h(e,Qs.vendorLegitimateInterests,eo),h(e,Qs.publisherRestrictions,zr),h(e,"segmentType",Br),h(e,Qs.vendorsDisclosed,eo),h(e,Qs.vendorsAllowed,eo),h(e,Qs.publisherConsents,qr),h(e,Qs.publisherLegitimateInterests,qr),h(e,Qs.numCustomPurposes,Br),h(e,Qs.publisherCustomConsents,qr),h(e,Qs.publisherCustomLegitimateInterests,qr),e}Ds(Ur,xr),Ds(Ur,Fr),Ds(Ur,Hr),Ds(Ur,jr),Ds(Ur,Gr),Ds(Ur,Yr),Ds(Ur,Jr),Ds(Ur,Zr),Ds(Ur,Qr);var no={},io={};Rs(io,"FieldSequence",(function(){return so}));var so=d((function e(){var t;u(this,e),this[1]=h({},cr.CORE,[Qs.version,Qs.created,Qs.lastUpdated,Qs.cmpId,Qs.cmpVersion,Qs.consentScreen,Qs.consentLanguage,Qs.vendorListVersion,Qs.purposeConsents,Qs.vendorConsents]),this[2]=(h(t={},cr.CORE,[Qs.version,Qs.created,Qs.lastUpdated,Qs.cmpId,Qs.cmpVersion,Qs.consentScreen,Qs.consentLanguage,Qs.vendorListVersion,Qs.policyVersion,Qs.isServiceSpecific,Qs.useNonStandardTexts,Qs.specialFeatureOptins,Qs.purposeConsents,Qs.purposeLegitimateInterests,Qs.purposeOneTreatment,Qs.publisherCountryCode,Qs.vendorConsents,Qs.vendorLegitimateInterests,Qs.publisherRestrictions]),h(t,cr.PUBLISHER_TC,[Qs.publisherConsents,Qs.publisherLegitimateInterests,Qs.numCustomPurposes,Qs.publisherCustomConsents,Qs.publisherCustomLegitimateInterests]),h(t,cr.VENDORS_ALLOWED,[Qs.vendorsAllowed]),h(t,cr.VENDORS_DISCLOSED,[Qs.vendorsDisclosed]),t)})),ro={};Rs(ro,"SegmentSequence",(function(){return oo}));var oo=d((function e(t,n){if(u(this,e),this[1]=[cr.CORE],this[2]=[cr.CORE],2===t.version)if(t.isServiceSpecific)this[2].push(cr.PUBLISHER_TC);else{var i=!(!n||!n.isForVendors);i&&!0!==t[Qs.supportOOB]||this[2].push(cr.VENDORS_DISCLOSED),i&&(t[Qs.supportOOB]&&t[Qs.vendorsAllowed].size>0&&this[2].push(cr.VENDORS_ALLOWED),this[2].push(cr.PUBLISHER_TC))}}));Ds(no,io),Ds(no,ro),Ds(no,{});var ao=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e,t){var n,i=this;try{n=this.fieldSequence[String(e.version)][t]}catch(n){throw new Fs("Unable to encode version: ".concat(e.version,", segment: ").concat(t))}var s="";t!==cr.CORE&&(s=Br.encode(hr.KEY_TO_ID[t],Vr.segmentType));var r=to();return n.forEach((function(n){var o=e[n],a=r[n],c=Vr[n];void 0===c&&i.isPublisherCustom(n)&&(c=Number(e[Qs.numCustomPurposes]));try{s+=a.encode(o,c)}catch(e){throw new Fs("Error encoding ".concat(t,"->").concat(n,": ").concat(e.message))}})),js.encode(s)}},{key:"decode",value:function(e,t,n){var i=this,s=js.decode(e),r=0;n===cr.CORE&&(t.version=Br.decode(s.substr(r,Vr[Qs.version]),Vr[Qs.version])),n!==cr.CORE&&(r+=Vr.segmentType);var o=this.fieldSequence[String(t.version)][n],a=to();return o.forEach((function(e){var n=a[e],o=Vr[e];if(void 0===o&&i.isPublisherCustom(e)&&(o=Number(t[Qs.numCustomPurposes])),0!==o){var c=s.substr(r,o);if(t[e]=n===eo?n.decode(c,t.version):n.decode(c,o),Number.isInteger(o))r+=o;else{if(!Number.isInteger(t[e].bitLength))throw new xs(e);r+=t[e].bitLength}}})),t}},{key:"isPublisherCustom",value:function(e){return 0===e.indexOf("publisherCustom")}}]),e}();ao.fieldSequence=new so;var co={};Rs(co,"SemanticPreEncoder",(function(){return uo}));var uo=function(){function e(){u(this,e)}return d(e,null,[{key:"process",value:function(e,t){var n=e.gvl;if(!n)throw new Fs("Unable to encode TCModel without a GVL");if(!n.isReady)throw new Fs("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.slice(0,2).toUpperCase(),(null==t?void 0:t.version)>0&&(null==t?void 0:t.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;var i=e.version-1;if(!this.processor[i])throw new Fs("Invalid version: ".concat(e.version));return this.processor[i](e,n)}}]),e}();uo.processor=[function(e){return e},function(e,t){e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset([1,3,4,5,6]);var n=new Map;return n.set("legIntPurposes",e.vendorLegitimateInterests),n.set("purposes",e.vendorConsents),n.forEach((function(n,i){n.forEach((function(s,r){if(s){var o=t.vendors[r];if(!o||o.deletedDate)n.unset(r);else if(0===o[i].length)if("legIntPurposes"===i&&0===o.purposes.length&&0===o.legIntPurposes.length&&o.specialPurposes.length>0);else if(e.isServiceSpecific)if(0===o.flexiblePurposes.length)n.unset(r);else{for(var a=e.publisherRestrictions.getRestrictions(r),c=!1,u=0,l=a.length;u<l&&!c;u++)c=a[u].restrictionType===Xs.REQUIRE_CONSENT&&"purposes"===i||a[u].restrictionType===Xs.REQUIRE_LI&&"legIntPurposes"===i;c||n.unset(r)}else n.unset(r)}}))})),e.vendorsDisclosed.set(t.vendors),e}],Ds(Ps,Vs),Ds(Ps,qs),Ds(Ps,{}),Ds(Ps,kr),Ds(Ps,co),Ds(Ps,Ur),Ds(Ps,no),Rs({},"GVL",(function(){return ho})),Rs({},"Json",(function(){return lo}));var lo=function(){function e(){u(this,e)}return d(e,null,[{key:"absCall",value:function(e,t,n,i){return new Promise((function(s,r){var o=new XMLHttpRequest;o.withCredentials=n,o.addEventListener("load",(function(){if(o.readyState==XMLHttpRequest.DONE)if(o.status>=200&&o.status<300){var e=o.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}s(e)}else r(new Error("HTTP Status: ".concat(o.status," response type: ").concat(o.responseType)))})),o.addEventListener("error",(function(){r(new Error("error"))})),o.addEventListener("abort",(function(){r(new Error("aborted"))})),null===t?o.open("GET",e,!0):o.open("POST",e,!0),o.responseType="json",o.timeout=i,o.ontimeout=function(){r(new Error("Timeout "+i+"ms "+e))},o.send(t)}))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.absCall(e,JSON.stringify(t),n,i)}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.absCall(e,null,t,n)}}]),e}(),ho=function(){p(i,er);var e,t,n=y(i);function i(e,t){var s;u(this,i),(s=n.call(this)).isReady_=!1,s.isLatest=!1;var r=i.baseUrl,o=null==t?void 0:t.language;if(o)try{o=i.consentLanguages.parseLanguage(o)}catch(e){throw new Bs("Error during parsing the language: "+e.message)}if(s.lang_=o||i.DEFAULT_LANGUAGE,s.cacheLang_=o||i.DEFAULT_LANGUAGE,s.isVendorList(e))s.populate(e),s.readyPromise=Promise.resolve();else{if(!r)throw new Bs("must specify GVL.baseUrl before loading GVL json");if(e>0){var a=e;i.CACHE.has(a)?(s.populate(i.CACHE.get(a)),s.readyPromise=Promise.resolve()):(r+=i.versionedFilename.replace("[VERSION]",String(a)),s.readyPromise=s.fetchJson(r))}else i.CACHE.has(i.LATEST_CACHE_KEY)?(s.populate(i.CACHE.get(i.LATEST_CACHE_KEY)),s.readyPromise=Promise.resolve()):(s.isLatest=!0,s.readyPromise=s.fetchJson(r+i.latestFilename))}return s}return d(i,[{key:"cacheLanguage",value:function(){i.LANGUAGE_CACHE.has(this.cacheLang_)||i.LANGUAGE_CACHE.set(this.cacheLang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories})}},{key:"fetchJson",value:(t=c(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=this,e.next=4,lo.fetch(t);case 4:e.t1=e.sent,e.t0.populate.call(e.t0,e.t1),e.next=11;break;case 8:throw e.prev=8,e.t2=e.catch(0),new Bs(e.t2.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e){return t.apply(this,arguments)})},{key:"getJson",value:function(){return s(s({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.clonePurposes(),specialPurposes:this.cloneSpecialPurposes(),features:this.cloneFeatures(),specialFeatures:this.cloneSpecialFeatures(),stacks:this.cloneStacks()},this.dataCategories?{dataCategories:this.cloneDataCategories()}:{}),{},{vendors:this.cloneVendors()})}},{key:"cloneSpecialFeatures",value:function(){for(var e={},t=0,n=Object.keys(this.specialFeatures);t<n.length;t++){var s=n[t];e[s]=i.cloneFeature(this.specialFeatures[s])}return e}},{key:"cloneFeatures",value:function(){for(var e={},t=0,n=Object.keys(this.features);t<n.length;t++){var s=n[t];e[s]=i.cloneFeature(this.features[s])}return e}},{key:"cloneStacks",value:function(){for(var e={},t=0,n=Object.keys(this.stacks);t<n.length;t++){var s=n[t];e[s]=i.cloneStack(this.stacks[s])}return e}},{key:"cloneDataCategories",value:function(){for(var e={},t=0,n=Object.keys(this.dataCategories);t<n.length;t++){var s=n[t];e[s]=i.cloneDataCategory(this.dataCategories[s])}return e}},{key:"cloneSpecialPurposes",value:function(){for(var e={},t=0,n=Object.keys(this.specialPurposes);t<n.length;t++){var s=n[t];e[s]=i.clonePurpose(this.specialPurposes[s])}return e}},{key:"clonePurposes",value:function(){for(var e={},t=0,n=Object.keys(this.purposes);t<n.length;t++){var s=n[t];e[s]=i.clonePurpose(this.purposes[s])}return e}},{key:"cloneVendors",value:function(){for(var e={},t=0,n=Object.keys(this.fullVendorList);t<n.length;t++){var s=n[t];e[s]=i.cloneVendor(this.fullVendorList[s])}return e}},{key:"changeLanguage",value:(e=c(r().mark((function e(t){var n,s,o,a,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t,e.prev=1,n=i.consentLanguages.parseLanguage(t),e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(1),new Bs("Error during parsing the language: "+e.t0.message);case 8:if(s=t.toUpperCase(),n.toLowerCase()!==i.DEFAULT_LANGUAGE.toLowerCase()||i.LANGUAGE_CACHE.has(s)){e.next=11;break}return e.abrupt("return");case 11:if(n===this.lang_){e.next=29;break}if(this.lang_=n,!i.LANGUAGE_CACHE.has(s)){e.next=18;break}for(a in o=i.LANGUAGE_CACHE.get(s))o.hasOwnProperty(a)&&(this[a]=o[a]);e.next=29;break;case 18:return c=i.baseUrl+i.languageFilename.replace("[LANG]",this.lang_.toLowerCase()),e.prev=19,e.next=22,this.fetchJson(c);case 22:this.cacheLang_=s,this.cacheLanguage(),e.next=29;break;case 26:throw e.prev=26,e.t1=e.catch(19),new Bs("unable to load language: "+e.t1.message);case 29:case"end":return e.stop()}}),e,this,[[1,5],[19,26]])}))),function(t){return e.apply(this,arguments)})},{key:"language",get:function(){return this.lang_}},{key:"isVendorList",value:function(e){return void 0!==e&&void 0!==e.vendors}},{key:"populate",value:function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&i.CACHE.set(i.LATEST_CACHE_KEY,this.getJson()),i.CACHE.has(this.vendorListVersion)||i.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}},{key:"mapVendors",value:function(e){var t=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((function(e){t.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((function(e){t.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((function(e){t.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((function(e){t.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((function(e){return+e}))),this.vendorIds=new Set(e),this.vendors_=e.reduce((function(e,n){var i=t.vendors_[String(n)];return i&&void 0===i.deletedDate&&(i.purposes.forEach((function(e){t.byPurposeVendorMap[String(e)].consent.add(n)})),i.specialPurposes.forEach((function(e){t.bySpecialPurposeVendorMap[String(e)].add(n)})),i.legIntPurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].legInt.add(n)})),i.flexiblePurposes&&i.flexiblePurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].flexible.add(n)})),i.features.forEach((function(e){t.byFeatureVendorMap[String(e)].add(n)})),i.specialFeatures.forEach((function(e){t.bySpecialFeatureVendorMap[String(e)].add(n)})),e[n]=i),e}),{})}},{key:"getFilteredVendors",value:function(e,t,n,i){var s=this,r=e.charAt(0).toUpperCase()+e.slice(1),o={};return("purpose"===e&&n?this["by"+r+"VendorMap"][String(t)][n]:this["by"+(i?"Special":"")+r+"VendorMap"][String(t)]).forEach((function(e){o[String(e)]=s.vendors[String(e)]})),o}},{key:"getVendorsWithConsentPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"consent")}},{key:"getVendorsWithLegIntPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"legInt")}},{key:"getVendorsWithFlexiblePurpose",value:function(e){return this.getFilteredVendors("purpose",e,"flexible")}},{key:"getVendorsWithSpecialPurpose",value:function(e){return this.getFilteredVendors("purpose",e,void 0,!0)}},{key:"getVendorsWithFeature",value:function(e){return this.getFilteredVendors("feature",e)}},{key:"getVendorsWithSpecialFeature",value:function(e){return this.getFilteredVendors("feature",e,void 0,!0)}},{key:"vendors",get:function(){return this.vendors_}},{key:"narrowVendorsTo",value:function(e){this.mapVendors(e)}},{key:"isReady",get:function(){return this.isReady_}},{key:"clone",value:function(){var e=new i(this.getJson());return this.lang_!==i.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}}],[{key:"baseUrl",get:function(){return this.baseUrl_},set:function(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new Bs("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}},{key:"emptyLanguageCache",value:function(e){var t=!1;return null==e&&i.LANGUAGE_CACHE.size>0?(i.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(i.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t}},{key:"emptyCache",value:function(e){var t=!1;return Number.isInteger(e)&&e>=0?(i.CACHE.delete(e),t=!0):void 0===e&&(i.CACHE=new Map,t=!0),t}},{key:"clonePurpose",value:function(e){return s(s({id:e.id,name:e.name,description:e.description},e.descriptionLegal?{descriptionLegal:e.descriptionLegal}:{}),e.illustrations?{illustrations:Array.from(e.illustrations)}:{})}},{key:"cloneFeature",value:function(e){return s(s({id:e.id,name:e.name,description:e.description},e.descriptionLegal?{descriptionLegal:e.descriptionLegal}:{}),e.illustrations?{illustrations:Array.from(e.illustrations)}:{})}},{key:"cloneDataCategory",value:function(e){return{id:e.id,name:e.name,description:e.description}}},{key:"cloneStack",value:function(e){return{id:e.id,name:e.name,description:e.description,purposes:Array.from(e.purposes),specialFeatures:Array.from(e.specialFeatures)}}},{key:"cloneDataRetention",value:function(e){return s(s({},"number"==typeof e.stdRetention?{stdRetention:e.stdRetention}:{}),{},{purposes:s({},e.purposes),specialPurposes:s({},e.specialPurposes)})}},{key:"cloneVendorUrls",value:function(e){return e.map((function(e){return s({langId:e.langId,privacy:e.privacy},e.legIntClaim?{legIntClaim:e.legIntClaim}:{})}))}},{key:"cloneVendor",value:function(e){return s(s(s(s(s(s(s(s(s(s(s({id:e.id,name:e.name,purposes:Array.from(e.purposes),legIntPurposes:Array.from(e.legIntPurposes),flexiblePurposes:Array.from(e.flexiblePurposes),specialPurposes:Array.from(e.specialPurposes),features:Array.from(e.features),specialFeatures:Array.from(e.specialFeatures)},e.overflow?{overflow:{httpGetLimit:e.overflow.httpGetLimit}}:{}),"number"==typeof e.cookieMaxAgeSeconds||null===e.cookieMaxAgeSeconds?{cookieMaxAgeSeconds:e.cookieMaxAgeSeconds}:{}),void 0!==e.usesCookies?{usesCookies:e.usesCookies}:{}),e.policyUrl?{policyUrl:e.policyUrl}:{}),void 0!==e.cookieRefresh?{cookieRefresh:e.cookieRefresh}:{}),void 0!==e.usesNonCookieAccess?{usesNonCookieAccess:e.usesNonCookieAccess}:{}),e.dataRetention?{dataRetention:this.cloneDataRetention(e.dataRetention)}:{}),e.urls?{urls:this.cloneVendorUrls(e.urls)}:{}),e.dataDeclaration?{dataDeclaration:Array.from(e.dataDeclaration)}:{}),e.deviceStorageDisclosureUrl?{deviceStorageDisclosureUrl:e.deviceStorageDisclosureUrl}:{}),e.deletedDate?{deletedDate:e.deletedDate}:{})}},{key:"isInstanceOf",value:function(e){return"object"===o(e)&&"function"==typeof e.narrowVendorsTo}}]),i}();(ws=ho).LANGUAGE_CACHE=new Map,ws.CACHE=new Map,ws.LATEST_CACHE_KEY=0,ws.DEFAULT_LANGUAGE="EN",ws.consentLanguages=new Js,ws.latestFilename="vendor-list.json",ws.versionedFilename="archives/vendor-list-v[VERSION].json",ws.languageFilename="purposes-[LANG].json",Rs({},"TCModel",(function(){return po}));var po=function(){p(t,er);var e=y(t);function t(n){var i;return u(this,t),(i=e.call(this)).isServiceSpecific_=!1,i.supportOOB_=!0,i.useNonStandardTexts_=!1,i.purposeOneTreatment_=!1,i.publisherCountryCode_="AA",i.version_=2,i.consentScreen_=0,i.policyVersion_=4,i.consentLanguage_="EN",i.cmpId_=0,i.cmpVersion_=0,i.vendorListVersion_=0,i.numCustomPurposes_=0,i.addtlConsent_="",i.enableAdvertiserConsentMode_=!1,i.specialFeatureOptins=new Rr,i.purposeConsents=new Rr,i.purposeLegitimateInterests=new Rr,i.publisherConsents=new Rr,i.publisherLegitimateInterests=new Rr,i.publisherCustomConsents=new Rr,i.publisherCustomLegitimateInterests=new Rr,i.vendorConsents=new Rr,i.vendorLegitimateInterests=new Rr,i.vendorsDisclosed=new Rr,i.vendorsAllowed=new Rr,i.publisherRestrictions=new or,n&&(i.gvl=n),i.updated(),i}return d(t,[{key:"gvl",get:function(){return this.gvl_},set:function(e){ho.isInstanceOf(e)||(e=new ho(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}},{key:"cmpId",get:function(){return this.cmpId_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>1))throw new Hs("cmpId",e);this.cmpId_=e}},{key:"cmpVersion",get:function(){return this.cmpVersion_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new Hs("cmpVersion",e);this.cmpVersion_=e}},{key:"consentScreen",get:function(){return this.consentScreen_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new Hs("consentScreen",e);this.consentScreen_=e}},{key:"consentLanguage",get:function(){return this.consentLanguage_},set:function(e){this.consentLanguage_=e}},{key:"publisherCountryCode",get:function(){return this.publisherCountryCode_},set:function(e){if(!/^([A-z]){2}$/.test(e))throw new Hs("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}},{key:"vendorListVersion",get:function(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_},set:function(e){if((e=Number(e)|0)<0)throw new Hs("vendorListVersion",e);this.vendorListVersion_=e}},{key:"policyVersion",get:function(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_},set:function(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new Hs("policyVersion",e)}},{key:"version",get:function(){return this.version_},set:function(e){this.version_=parseInt(e,10)}},{key:"isServiceSpecific",get:function(){return this.isServiceSpecific_},set:function(e){this.isServiceSpecific_=e}},{key:"useNonStandardTexts",get:function(){return this.useNonStandardTexts_},set:function(e){this.useNonStandardTexts_=e}},{key:"supportOOB",get:function(){return this.supportOOB_},set:function(e){this.supportOOB_=e}},{key:"addtlConsent",get:function(){return this.addtlConsent_},set:function(e){this.addtlConsent_=e||""}},{key:"enableAdvertiserConsentMode",get:function(){return this.enableAdvertiserConsentMode_},set:function(e){this.enableAdvertiserConsentMode_=!0===e}},{key:"purposeOneTreatment",get:function(){return this.purposeOneTreatment_},set:function(e){this.purposeOneTreatment_=e}},{key:"setAllVendorConsents",value:function(){this.vendorConsents.set(this.gvl.vendors)}},{key:"unsetAllVendorConsents",value:function(){this.vendorConsents.empty()}},{key:"setAllVendorsDisclosed",value:function(){this.vendorsDisclosed.set(this.gvl.vendors)}},{key:"unsetAllVendorsDisclosed",value:function(){this.vendorsDisclosed.empty()}},{key:"setAllVendorsAllowed",value:function(){this.vendorsAllowed.set(this.gvl.vendors)}},{key:"unsetAllVendorsAllowed",value:function(){this.vendorsAllowed.empty()}},{key:"setAllVendorLegitimateInterests",value:function(){this.vendorLegitimateInterests.set(this.gvl.vendors)}},{key:"unsetAllVendorLegitimateInterests",value:function(){this.vendorLegitimateInterests.empty()}},{key:"setAllPurposeConsents",value:function(){this.purposeConsents.set(this.gvl.purposes)}},{key:"unsetAllPurposeConsents",value:function(){this.purposeConsents.empty()}},{key:"setAllPurposeLegitimateInterests",value:function(){this.purposeLegitimateInterests.set(this.gvl.purposes)}},{key:"unsetAllPurposeLegitimateInterests",value:function(){this.purposeLegitimateInterests.empty()}},{key:"setAllSpecialFeatureOptins",value:function(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}},{key:"unsetAllSpecialFeatureOptins",value:function(){this.specialFeatureOptins.empty()}},{key:"setAll",value:function(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}},{key:"unsetAll",value:function(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}},{key:"numCustomPurposes",get:function(){var e=this.numCustomPurposes_;if("object"===o(this.customPurposes)){var t=Object.keys(this.customPurposes).sort((function(e,t){return Number(e)-Number(t)}));e=parseInt(t.pop(),10)}return e},set:function(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new Hs("numCustomPurposes",e)}},{key:"updated",value:function(){var e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}]),t}();po.consentLanguages=ho.consentLanguages,Rs({},"TCString",(function(){return yo}));var go,fo,vo,So,Eo,mo,yo=function(){function e(){u(this,e)}return d(e,null,[{key:"encode",value:function(e,t){var n,i="";return e=uo.process(e,t),(n=Array.isArray(null==t?void 0:t.segments)?t.segments:new oo(e,t)[""+e.version]).forEach((function(t,s){var r="";s<n.length-1&&(r="."),i+=ao.encode(e,t)+r})),i}},{key:"decode",value:function(e,t){var n=e.split("."),i=n.length;t||(t=new po);for(var s=0;s<i;s++){var r=n[s],o=js.decode(r.charAt(0)).substr(0,Vr.segmentType),a=hr.ID_TO_KEY[Br.decode(o,Vr.segmentType).toString()];ao.decode(r,t,a)}return t}}]),e}(),Io=function(e,t,n){return t?e.map((function(e){return t&&t[e.id]?Y(Y({},e),{name:"".concat(e.name," (").concat(n,": ").concat(t[e.id],")")}):e})):e},Co=function(e,t,n,i,s,r,o){if(!e)return[];var a=e.gvl,c=e.publisherRestrictions,u=e.vendorConsents,l=e.vendorLegitimateInterests;if(!a)return[];var d=ye.fetchTCFVendorsDisclosedObject(a.vendors),h=xo(c);return Object.values(a.vendors).map((function(e){var c,p,g,f=Ne(e.legIntPurposes,a.purposes),v=Ne(e.purposes,a.purposes);s&&(v=v.filter((function(e){return 1!==e.id})));var S=No(e.id,d),E=f.map((function(e){return e})),m=v.map((function(e){return e}));h.forEach((function(t){switch(t.restrictionType){case Xs.REQUIRE_LI:m=m.filter((function(n){return n.id!==t.purposeId||(e.flexiblePurposes.indexOf(n.id)>-1&&E.push(n),!1)}));break;case Xs.REQUIRE_CONSENT:E=E.filter((function(n){return n.id!==t.purposeId||(e.flexiblePurposes.indexOf(n.id)>-1&&m.push(n),!1)}));break;case Xs.NOT_ALLOWED:m=v.filter((function(e){return e.id!==t.purposeId})),E=f.filter((function(e){return e.id!==t.purposeId}))}}));var y="",I="";e.urls&&e.urls.forEach((function(e){var t=e.langId,n=e.legIntClaim,i=e.privacy,s=t&&a.language&&t.toLowerCase()===a.language.toLowerCase();i&&(y&&!s||(y=i)),n&&(I&&!s||(I=n))}));var C,T=r.includes(e.id),A=null===(c=e.dataDeclaration)||void 0===c?void 0:c.reduce((function(e,t){var n=a.dataCategories&&a.dataCategories[t];if(n){var i=Y(Y({},n),{id:n.id.toString()});return e?Q(Q([],z(e),!1),[i],!1):[i]}return e}),[]);e.dataRetention&&e.dataRetention.stdRetention&&(C=[{id:e.dataRetention.stdRetention.toString(),name:e.dataRetention.stdRetention.toString()}]);var b=Ne(e.specialFeatures.filter((function(e){return!t.includes(e)})),a.specialFeatures);return Y(Y(Y({consent:S?u.has(e.id):null,cookieMaxAgeSeconds:e.cookieMaxAgeSeconds&&e.cookieMaxAgeSeconds>=0?e.cookieMaxAgeSeconds:null,cookieRefresh:_e(e.cookieRefresh,null)},A&&{dataCategories:A}),C&&{dataRetention:C}),{deviceStorage:null,deviceStorageDisclosureUrl:e.deviceStorageDisclosureUrl||null,features:e.features.map((function(e){return{id:e,name:a.features[e].name}})),flexiblePurposes:Ne(e.flexiblePurposes,a.purposes),id:e.id,legitimateInterestClaimUrl:I,legitimateInterestConsent:S?l.has(e.id):null,legitimateInterestPurposes:E,name:e.name,policyUrl:e.policyUrl,privacyUrl:y,purposes:Io(m,null===(p=e.dataRetention)||void 0===p?void 0:p.purposes,o),showConsentToggle:m.length>0&&n,showLegitimateInterestConsentToggle:E.length>0&&n&&!i,showVendorOutsideEU:T,specialFeatures:b,specialPurposes:Io(Ne(e.specialPurposes,a.specialPurposes),null===(g=e.dataRetention)||void 0===g?void 0:g.specialPurposes,o),usesCookies:_e(e.usesCookies,!1),usesNonCookieAccess:_e(e.usesNonCookieAccess,null)})}))},To=function(e){return{legitimateInterestPurposes:(null==e?void 0:e.legIntPurposes)||[],notAllowedPurposes:(null==e?void 0:e.notAllowedPurposes)||[],purposes:(null==e?void 0:e.purposes)||[]}},Ao=function(e){return Object.entries(e).map((function(e){var t=z(e,2),n=t[0],i=t[1];return{id:parseInt(n.replace("p",""),10),name:i}}))},bo=function(e){return e||"/browser-sdk/".concat(ne,"/cookie-bridge.html")},_o=function(e){return e||"https://usercentrics.mgr.consensu.org:443"},wo=function(e,t){if(!t||0===e.length)return[];var n=function(e){return Le(e.reduce((function(e,t){return e.concat(t.features.map((function(e){return e.id})))}),[]))}(e);return n.reduce((function(e,n){var i=t[n];return i?Q(Q([],z(e),!1),[i],!1):e}),[])},Oo=function(e,t){return!e||!t},No=function(e,t){return void 0===t&&(t=ye.fetchTCFVendorsDisclosedObject()),!0===t[e]},Lo=function(e,t,n,i,s){var r=t.reduce((function(e,t){return e.concat(t.purposes.map((function(e){return e.id}))).concat(t.legitimateInterestPurposes.map((function(e){return e.id})))}),[]),o=Uo(e,n,i).reduce((function(e,t){return e.concat(t.purposeIds)}),[]),a=Le(r.concat(o));return s?a.filter((function(e){return 1!==e})):a},Do=function(e,t,n,i,s,r,o,a,c){if(!e||!t||!n)return[];var u=Lo(t,i,s,r,o),l=Uo(t,s,r),d=ye.fetchTCFData().vendors,h=e.purposeConsents,p=e.purposeLegitimateInterests,g=Le(i.map((function(e){return e.legitimateInterestPurposes.map((function(e){return e.id}))})).reduce((function(e,t){return e.concat(t)}),[])),f=Le(i.map((function(e){return e.purposes.map((function(e){return e.id}))})).reduce((function(e,t){return e.concat(t)}),[])),v=u.reduce((function(e,t){var n,s=i.filter((function(e){return e.purposes.find((function(e){return e.id===t}))})),r=i.filter((function(e){return e.legitimateInterestPurposes.find((function(e){return e.id===t}))}));return Y(Y({},e),((n={})[t]=s.length+r.length,n))}),{});return u.reduce((function(e,t){var i=n[t];if(!i)return e;var s=l.find((function(e){return e.purposeIds.includes(t)}));return Q(Q([],z(e),!1),[{consent:d.length?h.has(t):null,description:i.description,descriptionLegal:i.descriptionLegal,id:i.id,illustrations:i.illustrations,isPartOfASelectedStack:!!s,legitimateInterestConsent:d.length?p.has(t):null,name:i.name,numberOfVendors:v[i.id]||0,showConsentToggle:f.includes(t)&&a,showLegitimateInterestToggle:1!==i.id&&g.includes(t)&&a&&!c,stackId:(null==s?void 0:s.id)||null}],!1)}),[])},Ro=function(e){return{onATPListChanged:e.resurfaceATPListChanged,onIABLegalBasisChanged:e.resurfaceIABLegalBasisChanged,onPeriodEnded:e.resurfacePeriodEnded,onPurposeChanged:e.resurfacePurposeChanged,onVendorAdded:e.resurfaceVendorAdded}},Po=function(e,t,n,i){var s=t.reduce((function(e,t){return e.concat(t.specialFeatures.filter((function(e){return!n.includes(e.id)})).map((function(e){return e.id})))}),[]),r=Uo(e,n,i).reduce((function(e,t){return e.concat(t.specialFeatureIds.filter((function(e){return!n.includes(e)})))}),[]);return Le(s.concat(r))},Vo=function(e,t,n,i,s,r){if(!e||!t)return[];var o=Po(t.stacks,n,i,s),a=Uo(t.stacks,i,s);return o.map((function(n){var i=t.specialFeatures[n],s=a.find((function(e){return e.specialFeatureIds.includes(n)}));return{consent:e.specialFeatureOptins.has(n),description:i.description,descriptionLegal:i.descriptionLegal,id:i.id,illustrations:i.illustrations,isPartOfASelectedStack:!!s,name:i.name,showConsentToggle:r,stackId:(null==s?void 0:s.id)||null}}))},ko=function(e,t){if(!e)return[];var n=function(e){return Le(e.reduce((function(e,t){return e.concat(t.specialPurposes.map((function(e){return e.id})))}),[]))}(t);return n.reduce((function(t,n){var i=e[n];return i?Q(Q([],z(t),!1),[{description:i.description,descriptionLegal:i.descriptionLegal,id:i.id,illustrations:i.illustrations,name:i.name}],!1):t}),[])},Uo=function(e,t,n){return e?n.reduce((function(n,i){var s=e[i];return s?Q(Q([],z(n),!1),[{description:s.description,id:s.id,name:s.name,purposeIds:s.purposes,specialFeatureIds:s.specialFeatures.filter((function(e){return!t.includes(e)}))}],!1):n}),[]):[]},xo=function(e){return(null==e?void 0:e.getRestrictions().map((function(e){return{purposeId:e.purposeId,restrictionType:e.restrictionType}})))||[]},Mo=function(e){return!!(null==e?void 0:e.timestamp)&&(Date.now()-e.timestamp)/864e5>390},Fo=function(e,t){if(!(null==e?void 0:e.tcString))return!1;var n=yo.decode(e.tcString);return!(2===n.policyVersion&&4===(null==t?void 0:t.policyVersion)||n.version===(null==t?void 0:t.version)&&n.policyVersion===t.policyVersion)},Go=function(e,t){if(!(null==e?void 0:e.acString)||!(null==e?void 0:e.acString.length))return!1;var n=null==e?void 0:e.acString.split("~")[1].split(".").filter((function(e){return""!==e})).map((function(e){return parseInt(e,10)})),i=null==e?void 0:e.acString.split("dv.")[1].split(".").filter((function(e){return""!==e})).map((function(e){return parseInt(e,10)})),s=Q(Q([],z(n),!1),z(i),!1).sort((function(e,t){return e-t})),r=t.map((function(e){return e.id})).sort((function(e,t){return e-t}));return!(s.length===r.length&&s.every((function(e,t){return e===r[t]})))},Bo=function(e,t){return!(!(null==e?void 0:e.vendors)||!(null==e?void 0:e.vendors.length)||t.every((function(t){return null==e?void 0:e.vendors.find((function(e){return e[le.ID]===t.id}))})))},$o=function(e,t){return!(!(null==e?void 0:e.vendors)||!e.vendors.length||e.vendors.length&&!e.vendors[0][le.SPECIAL_PURPOSES]||e.vendors.every((function(e){var n=t.find((function(t){return t.id===e[le.ID]}));return!n||e[le.PURPOSES].sort().toString()===n.purposes.map((function(e){return e.id})).sort().toString()&&e[le.LEGITIMATE_INTEREST].sort().toString()===n.legitimateInterestPurposes.map((function(e){return e.id})).sort().toString()&&e[le.SPECIAL_PURPOSES].sort().toString()===n.specialPurposes.map((function(e){return e.id})).sort().toString()})))},Ho=function(e){return e.map((function(e){var t=e.id,n=e.legitimateInterestPurposes,i=e.purposes,s=e.specialPurposes;return[t,n.map((function(e){return e.id})),i.map((function(e){return e.id})),s.map((function(e){return e.id}))]}))},jo=function(e){if(ho.consentLanguages.has(e.toLocaleLowerCase())||ho.consentLanguages.has(e.toUpperCase()))return e;var t=e.slice(0,2);return ho.consentLanguages.has(t.toLocaleLowerCase())||ho.consentLanguages.has(t.toUpperCase())?t:an},qo=[],Yo=[],Wo=function(e,t,n){switch(e){case"queue":return qo;case"ping":"function"==typeof t&&t({applicableSections:[-1],cmpDisplayStatus:"hidden",cmpId:31,cmpStatus:"stub",gppString:"",gppVersion:"1.1",sectionList:[],supportedAPIs:["2:tcfeuv2","5:tcfcav1","6:uspv1"]},!0);break;case"addEventListener":"lastId"in window.__gpp||(window.__gpp.lastId=0),window.__gpp.lastId+=1;var i=window.__gpp.lastId;Yo.push({callback:t,id:i,parameter:n}),t({data:!0,eventName:"listenerRegistered",listenerId:i,pingData:{applicableSections:[-1],cmpDisplayStatus:"hidden",cmpId:31,cmpStatus:"stub",gppString:"",gppVersion:"1.1",sectionList:[],supportedAPIs:["2:tcfeuv2","5:tcfcav1","9:usva","7:usnat"]}},!0);break;case"removeEventListener":for(var s=!1,r=0;r<Yo.length;r++)if(Yo[r].id===n){Yo.splice(r,1),s=!0;break}t({data:s,eventName:"listenerRemoved",listenerId:n,pingData:{applicableSections:[-1],cmpDisplayStatus:"hidden",cmpId:31,cmpStatus:"stub",gppString:"",gppVersion:"1.1",sectionList:[],supportedAPIs:["2:tcfeuv2","5:tcfcav1","9:usva","7:usnat"]}},!0);break;case"hasSection":t(!1,!0);break;case"getSection":case"getField":t(null,!0);break;default:qo.push([e,t,n])}},Jo="__gppLocator",zo=function(e){if(e&&e.source&&e.source.postMessage){var t="string"==typeof e.data,n=e.data;if(t)try{n=JSON.parse(e.data)}catch(e){return}if("object"===o(n)&&n.__gppCall){var i=n.__gppCall;window.__gpp(i.command,i.version,(function(n,s){var r={__gppReturn:{returnValue:n,success:s,callId:i.callId}},o=t?JSON.stringify(r):r;try{e.source.postMessage(o,"*")}catch(e){}}),i.parameter)}}},Qo=function(){"undefined"!=typeof window&&(window.__gpp||!function(){for(var e=window,t=!1;e;){try{if(e.frames[Jo]){t=!0;break}}catch(e){}if(e===window.top){t=!1;break}e=e.parent}return t}()&&(je((function(){return!!window.document.body}),"").then((function(){var e=window.document.createElement("iframe");e.style.cssText="display:none",e.name=Jo,window.document.body.appendChild(e)})),1)&&(window.addEventListener("message",zo,!1),window.__gpp=Wo))},Ko=function(e){if(e&&e.source&&e.source.postMessage){var t="string"==typeof e.data,n=e.data;if(t)try{n=JSON.parse(e.data)}catch(e){return}if("object"===o(n)&&n.__tcfapiCall){var i=n.__tcfapiCall;window.__tcfapi(i.command,i.version,(function(n,s){var r={__tcfapiReturn:{returnValue:n,success:s,callId:i.callId}},o=t?JSON.stringify(r):r;try{e.source.postMessage(o,"*")}catch(e){}}),i.parameter)}}},Xo=[],Zo=function(e,t,n,i){if(!e)return Xo;switch(e){case"ping":"function"==typeof n&&n({cmpLoaded:!1,cmpStatus:"stub",gdprApplies:!0});break;case"pending":return Xo;default:Xo.push([e,t,n,i])}},ea="__tcfapiLocator",ta=function(){"undefined"!=typeof window&&(window.__tcfapi||!function(){for(var e=window,t=!1;e;){try{if(e.frames[ea]){t=!0;break}}catch(e){}if(e===window.top){t=!1;break}e=e.parent}return t}()&&(je((function(){return!!window.document.body}),"").then((function(){var e=window.document.createElement("iframe");e.style.cssText="display:none",e.name=ea,window.document.body.appendChild(e)})),1)&&(window.addEventListener("message",Ko,!1),window.__tcfapi=Zo))};!function(e){e.ACCEPT_ALL_SERVICES="onAcceptAllServices",e.DENY_ALL_SERVICES="onDenyAllServices",e.ESSENTIAL_CHANGE="onEssentialChange",e.INITIAL_PAGE_LOAD="onInitialPageLoad",e.NON_EU_REGION="onNonEURegion",e.SESSION_RESTORED="onSessionRestored",e.TCF_STRING_CHANGE="onTcfStringChange",e.UPDATE_SERVICES="onUpdateServices",e.MOBILE_SESSION_RESTORED="onMobileSessionRestore"}(go||(go={})),function(e){e.EXPLICIT="explicit",e.IMPLICIT="implicit"}(fo||(fo={})),function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.CMP_SHOWN=1]="CMP_SHOWN",e[e.ACCEPT_ALL=2]="ACCEPT_ALL",e[e.DENY_ALL=3]="DENY_ALL",e[e.SAVE=4]="SAVE",e[e.ACCEPT_ALL_L1=5]="ACCEPT_ALL_L1",e[e.DENY_ALL_L1=6]="DENY_ALL_L1",e[e.SAVE_L1=7]="SAVE_L1",e[e.ACCEPT_ALL_L2=8]="ACCEPT_ALL_L2",e[e.DENY_ALL_L2=9]="DENY_ALL_L2",e[e.SAVE_L2=10]="SAVE_L2",e[e.COOKIE_POLICY_LINK=11]="COOKIE_POLICY_LINK",e[e.IMPRINT_LINK=12]="IMPRINT_LINK",e[e.MORE_INFORMATION_LINK=13]="MORE_INFORMATION_LINK",e[e.PRIVACY_POLICY_LINK=14]="PRIVACY_POLICY_LINK",e[e.CCPA_TOGGLES_ON=15]="CCPA_TOGGLES_ON",e[e.CCPA_TOGGLES_OFF=16]="CCPA_TOGGLES_OFF",e[e.SAY_MINE_LINK=17]="SAY_MINE_LINK"}(vo||(vo={})),function(e){e.API_NAME="__uspapi",e.GET_USP_DATA="getUSPData"}(So||(So={})),function(e){e[e.FIRST_LAYER=0]="FIRST_LAYER",e[e.NONE=1]="NONE",e[e.PRIVACY_BUTTON=2]="PRIVACY_BUTTON",e[e.SECOND_LAYER=3]="SECOND_LAYER"}(Eo||(Eo={})),function(e){e[e.CCPA=0]="CCPA",e[e.DEFAULT=1]="DEFAULT",e[e.TCF=2]="TCF"}(mo||(mo={})),void 0!==Ls&&Ls.initialize({modulePath:"/dir"});var na=function(){function e(e,t){var n;if(this.ampInstance=gt.getInstance(),this.apiInstance=Wt.getInstance(),this.botInstance=Zt.getInstance(),this.controllerIdInstance=Mt.getInstance(),this.dataFacadeInstance=Fn.getInstance(),this.eventDispatcherInstance=sn.getInstance(),this.initOptions={},this.isConsentRequired=null,this.languageInstance=ms.getInstance(),this.storageServiceInstance=ye.getInstance(),this.locationInstance=Gt.getInstance(),this.settingsV2=Mn.getInstance(),this.uiInstance=Ns.getInstance(),this.domains=null,this.rulesetRule={name:"",noShow:!0,settingsId:""},this.gppData=null,this.isCurrentDomainAllowed=function(e){var t,n=window.location.hostname.replace("www.",""),i=window.location.pathname,s=null===(t=e.allowedDomainOptions)||void 0===t?void 0:t.list;if((null==s?void 0:s.length)&&(s=s.filter((function(e){return"string"==typeof e&&""!==e.trim()})).map((function(e){return e.trim()}))),!(null==s?void 0:s.length))return!0;var r=s.concat(te),o=!1;return r.forEach((function(e){if(e.includes("*")){if("*."===e.slice(0,2))n.includes(e.slice(2))&&(o=!0);else if("/*"===e.slice(-2)){var t=e.slice(0,-2);t.split("/")[0]===n&&(n+i).includes(t)&&(o=!0)}}else e.includes("/")?n+i===e&&(o=!0):n===e&&(o=!0)})),o},t&&(this.initOptions=t),this.apiInstance.setEuMode(!0===(null==t?void 0:t.euMode)),this.domains=(n=window.UC_UI_DOMAINS)?Object.entries(n).reduce((function(e,t){var n,i,s=t[0],r=t[1];return"/"===r.slice(-1)?Y(Y({},e),((n={})[s]=r.slice(0,-1),n)):Y(Y({},e),((i={})[s]=r,i))}),{aggregator:"",app:"",cdn:"",consents:"",consentsV2:"",consentsV2Fetch:"",crossDomainConsentSharingIFrame:"",graphql:"",trackingEvent:""}):null,this.apiInstance.setDomains(!0===(null==t?void 0:t.sandboxEnv),this.domains),(null==t?void 0:t.createTcfApiStub)&&ta(),(null==t?void 0:t.createGppStub)&&Qo(),(null==t?void 0:t.useRulesetId)?this.apiInstance.setRulesetId(e):this.apiInstance.setSettingsId(e),this.controllerIdInstance.value="",(null==t?void 0:t.controllerId)&&!(null==t?void 0:t.useRulesetId)&&(this.controllerIdInstance.value=t.controllerId),(null==t?void 0:t.language)&&this.languageInstance.setPrimaryLanguage(t.language),(null==t?void 0:t.settingsCache)&&this.apiInstance.setJsonCacheBustingString(t.settingsCache),(null==t?void 0:t.version)&&this.apiInstance.setJsonFileVersion(t.version),(null==t?void 0:t.userCountryData)&&"object"===o(t.userCountryData)&&Object.keys(t.userCountryData).every((function(e){return"string"==typeof e}))&&this.locationInstance.setUserCountryData(t.userCountryData),(null==t?void 0:t.userSessionData)&&this.dataFacadeInstance.setUserSessionData(t.userSessionData),(null==t?void 0:t.ampEnabled)&&this.ampInstance.setIsAmpEnabled(!0),(null==t?void 0:t.blockDataLayerPush)&&this.eventDispatcherInstance.setBlockDataLayerPush(!0),(null==t?void 0:t.storeServiceIdToNameMapping)&&this.storageServiceInstance.setStoreServiceIdToNameMapping(null==t?void 0:t.storeServiceIdToNameMapping),(null==t?void 0:t.disableTracking)&&(this.initOptions.disableTracking=!0),(null==t?void 0:t.disableServerConsents)&&this.apiInstance.setDisableServerConsents(!0),(null==t?void 0:t.disableServerConsents)&&(null==t?void 0:t.controllerId))throw new Error("Usercentrics: disableServerConsents and controllerId should not be present at the same time in the InitOptions!");(null==t?void 0:t.enableDeprecatedV1ConsentSaving)&&(this.initOptions.enableDeprecatedV1ConsentSaving=t.enableDeprecatedV1ConsentSaving),this.initOptions.prefetchServices=_e(null==t?void 0:t.prefetchServices,!0),this.setTrackingPixel=this.setTrackingPixel.bind(this)}return e.prototype.fetchCoreAndDps=function(){return W(this,void 0,void 0,(function(){var e,t,n;return J(this,(function(i){switch(i.label){case 0:return[4,this.loadSettings()];case 1:return e=i.sent(),t={allowedDomainOptions:{list:(s=e).allowedDomains,showErrorCmp:s.showErrorOnUnallowedDomain},buttonDisplayLocation:s.buttonDisplayLocation,buttonPrivacyCloseIcon:s.buttonPrivacyCloseIcon,buttonPrivacyOpenIconUrl:s.buttonPrivacyOpenIconUrl,ccpa:(a=s.ccpa,{iabAgreementExists:a.iabAgreementExists,isActive:a.isActive,region:a.region,reshowAfterDays:a.reshowAfterDays,showOnPageLoad:a.showOnPageLoad}),consentAnalytics:s.consentAnalytics,consentAPIv2:s.consentAPIv2,consentSharingIFrameIsActive:s.consentSharingIFrameIsActive,consentXDevice:s.consentXDevice,customization:(o=s.customization,o?Y(Y({color:o.color?{primary:o.color.primary,privacyButtonBackground:o.color.privacyButtonBackground,privacyButtonIcon:o.color.privacyButtonIcon}:null},o.privacyButtonSizeMobile&&{privacyButtonSizeMobile:o.privacyButtonSizeMobile}),o.privacyButtonSizeDesktop&&{privacyButtonSizeDesktop:o.privacyButtonSizeDesktop}):o),dataExchangeOnPage:s.dataExchangeOnPage,displayOnlyForEU:s.displayOnlyForEU,enableBotDetection:s.enableBotDetection,enablePoweredBy:s.enablePoweredBy,framework:s.framework,googleConsentMode:s.googleConsentMode,integrations:s.integrations,interactionAnalytics:s.interactionAnalytics,labels:{partnerPoweredByLinkText:s.labels.partnerPoweredByLinkText,poweredBy:s.labels.poweredBy},languagesAvailable:s.languagesAvailable,partnerPoweredByUrl:s.partnerPoweredByUrl,privacyButtonIsVisible:s.privacyButtonIsVisible,privacyButtonUrls:s.privacyButtonUrls,renewConsentsTimestamp:s.renewConsentsTimestamp,reshowBanner:s.reshowBanner,settingsId:s.settingsId,showInitialViewForVersionChange:s.showInitialViewForVersionChange,tagLoggerIsActive:s.tagLoggerIsActive,tcf2:(r=s.tcf2,{resurfaceATPListChanged:r.resurfaceATPListChanged,resurfaceIABLegalBasisChanged:r.resurfaceIABLegalBasisChanged,resurfacePeriodEnded:r.resurfacePeriodEnded,resurfacePurposeChanged:r.resurfacePurposeChanged,resurfaceVendorAdded:r.resurfaceVendorAdded}),tcf2Enabled:s.tcf2Enabled,variants:s.variants,version:s.version},n=function(e){return{categories:e.categories,consentTemplates:e.consentTemplates}}(e),[2,{core:t,dps:n}]}var s,r,o,a}))}))},e.prototype.init=function(){var e,t,i,s,r,o,a,c,u,l,d,h;return W(this,void 0,void 0,(function(){var p,g,f,v,S,E,m,y,I,C,T,A,b,_,w,O,N,L,D,R,P,V,k,U=this;return J(this,(function(x){switch(x.label){case 0:return ye.getInstance().init(),this.initOptions.createGppStub&&(this.gppData=Es.getInstance(this.settingsV2.legacySettings,this.initOptions.createGppStub)),this.apiInstance.getRulesetId()?(p=this,[4,On.getInstance().resolveSettingsId()]):[3,2];case 1:p.rulesetRule=x.sent(),this.apiInstance.setSettingsId(this.rulesetRule.settingsId),this.initOptions.controllerIds&&this.controllerIdInstance.setControllerIdByResolvedSettingsId(this.rulesetRule.settingsId,this.initOptions.controllerIds),x.label=2;case 2:return ye.clearOnNewSettingsId(this.apiInstance.getSettingsId()),ye.migrateLegacySettings(this.apiInstance.getSettingsId()),g=ye.fetchServices(),f=null==g?void 0:g.map((function(e){return e.history})).flat().reduce((function(e,t){return(null==e?void 0:e.timestamp)<t.timestamp?t:e})),v="explicit"===(null==f?void 0:f.type),[4,this.languageInstance.resolveLanguage()];case 3:x.sent(),x.label=4;case 4:return x.trys.push([4,6,,9]),[4,this.fetchCoreAndDps()];case 5:if(m=x.sent(),I=m.core,C=m.dps,!I.languagesAvailable.includes(this.apiInstance.getJsonFileLanguage()))throw new Error("Using non allowed language");return S=I,E=C,[3,9];case 6:return x.sent(),this.languageInstance.setPrimaryLanguage(""),[4,this.languageInstance.resolveLanguage(!0)];case 7:return x.sent(),[4,this.fetchCoreAndDps()];case 8:return y=x.sent(),I=y.core,C=y.dps,S=I,E=C,[3,9];case 9:if(!this.isCurrentDomainAllowed(S))throw(T=new Error).showErrorCmp=null===(e=S.allowedDomainOptions)||void 0===e?void 0:e.showErrorCmp,console.error('Usercentrics: The domain "'.concat(window.location.hostname,'" has not been added to the allowlist for this Usercentrics account.')),T;if(!S||!E)throw new Error;return this.botInstance.isBotEnabled=S.enableBotDetection,!S.consentSharingIFrameIsActive||this.botInstance.isRobot()?[3,11]:[4,fe.init({useEuCdn:this.initOptions.euMode||!1},this.domains).then((function(){return W(U,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return fe.setCrossDomainId(this.apiInstance.getSettingsId()),fe.setIsCrossDomainAvailable(!0),fe.setUseEuCdn(this.initOptions.euMode||!1),this.languageInstance.getPrimaryLanguage()?[3,3]:[4,fe.getCrossDomainLanguage().catch((function(){return console.warn(j.CROSS_DOMAIN_LANGUAGE_NOT_AVAILABLE),""}))];case 1:return e=t.sent(),[4,this.changeLanguage(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))})).catch((function(e){fe.setIsCrossDomainAvailable(!1),fe.removeIFrame(he),console.warn(j.CROSS_DOMAIN_FEATURE_NOT_AVAILABLE,e)}))];case 10:x.sent(),x.label=11;case 11:return this.botInstance.isRobot()?this.initOptions.suppressCmpDisplay=!0:this.initOptions.disableTracking||this.addSessionTrackingPixel(),A=E.consentTemplates.find((function(e){var t;return"Fraud0"===(null===(t=e._meta)||void 0===t?void 0:t.name)||"q-_eu2X2d"===e.templateId})),(null===(t=S.integrations)||void 0===t?void 0:t.fraud0)&&S.integrations.fraud0.length>0&&A&&!(null==A?void 0:A.isDeactivated)&&((b=document.createElement("script")).src="https://bt.fraud0.com/api/v2/fz.js?cid=".concat(S.integrations.fraud0[0].accountId),b.async=!0,b.setAttribute(Sn,"Fraud0"),b.type=Xt.TEXT_PLAIN,document.body.appendChild(b)),_=this.apiInstance.getJsonFileLanguage(),[4,this.settingsV2.init(S,E,_)];case 12:return x.sent(),[4,this.uiInstance.resolveUiVariant(S.tcf2Enabled)];case 13:return w=x.sent(),[4,this.settingsV2.initData(w,[],!1,!0===this.initOptions.euMode,this.initOptions.excludeAcceptAllVendors,v,this.initOptions.enableDeprecatedV1ConsentSaving)];case 14:return x.sent(),[4,this.apiInstance.fetchTranslations()];case 15:return O=x.sent(),!this.initOptions.prefetchServices&&this.settingsV2.allLegacyServicesHaveName?[3,17]:[4,this.settingsV2.extendServices(w,O)];case 16:x.sent(),this.apiInstance.resetAggregatedServicesCache(),x.label=17;case 17:return this.controllerIdInstance.setNeedSessionRestore(),[4,this.dataFacadeInstance.restoreUserSession(E)];case 18:return(N=x.sent())||(this.controllerIdInstance.init(),this.settingsV2.data&&this.settingsV2.setControllerId(this.controllerIdInstance.value)),[4,this.uiInstance.init(this.initOptions)];case 19:return x.sent(),L=this.settingsV2.getTcfData(),ot(this.settingsV2.data)&&L?[4,this.settingsV2.data.init(!0===this.initOptions.euMode)]:[3,21];case 20:x.sent(),x.label=21;case 21:return this.settingsV2.initLabels(w,O),D=[],ye.settingsExist()&&(D=this.processStorageServicesAndSettings(this.settingsV2.data)),this.botInstance.isRobot()||(this.apiInstance.saveConsentsFromBuffer(),this.apiInstance.saveConsentsV2FromBuffer()),[4,this.uiInstance.resolveUIOptions(S)];case 22:return R=x.sent(),P=R.initialLayer,V=ye.fetchTCFData(),N&&L&&(null===(i=this.gppData)||void 0===i||i.setSectionString(V.tcString,"tcfeuv2"),ye.saveTCFData(Y(Y({},V),{vendors:Ho(L.getTCFData().vendors)}))),this.setIsConsentRequired(this.uiInstance.shouldShowFirstLayer(S)),this.isConsentRequired&&ye.setUserActionPerformed(!1),this.settingsV2.initLabels(w,O),[4,this.settingsV2.initUI(P,w)];case 23:return x.sent(),L?!(0===P||(null===(s=this.initOptions)||void 0===s?void 0:s.suppressCmpDisplay)&&this.getIsConsentRequired())||this.botInstance.isRobot()?[3,25]:[4,L.setUIAsOpen()]:[3,27];case 24:return x.sent(),[3,27];case 25:return[4,L.setUIAsClosed()];case 26:x.sent(),x.label=27;case 27:return this.initOptions.createGppStub&&(ot(this.settingsV2.data)||rt(this.settingsV2.data))&&(k=this.settingsV2.data,ot(k)?null===(r=this.gppData)||void 0===r||r.setApplicableSections("tcfeuv2"):rt(k)?null===(o=this.gppData)||void 0===o||o.setApplicableSections(k.legalFramework):null===(a=this.gppData)||void 0===a||a.setApplicableSections("tcfeuv2"),(0===P||3===P||(null===(c=this.initOptions)||void 0===c?void 0:c.suppressCmpDisplay)&&this.getIsConsentRequired())&&!this.botInstance.isRobot()&&(null===(u=this.gppData)||void 0===u||u.setCmpDisplayVisible()),2!==P&&1!==P||null===(l=this.gppData)||void 0===l||l.setCmpDisplayHidden(),null===(d=this.gppData)||void 0===d||d.setCmpSignalReady(),null===(h=this.gppData)||void 0===h||h.setCmpStatusLoaded()),!this.settingsV2.isTagLoggerActive()||this.botInstance.isRobot()?[3,29]:[4,Promise.resolve().then(n.bind(n,107)).then((function(e){(new(0,e.default)).initTagLogger()}))];case 28:x.sent(),x.label=29;case 29:return this.eventDispatcherInstance.init(this.settingsV2.getDataExchangeSettings()),[4,this.updateStorage(g,D,N)];case 30:return x.sent(),[2,R]}}))}))},e.prototype.acceptAllForTCF=function(e){return W(this,void 0,void 0,(function(){var t;return J(this,(function(n){switch(n.label){case 0:return(t=this.settingsV2.getTcfData())?[4,t.acceptAllDisclosed(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},e.prototype.acceptAllServices=function(e){return void 0===e&&(e="explicit"),W(this,void 0,void 0,(function(){return J(this,(function(t){switch(t.label){case 0:return this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(R.TRUE),this.settingsV2.getUpdatedServicesDataWithConsent(R.TRUE),"onAcceptAllServices",e,{},this.initOptions.enableDeprecatedV1ConsentSaving),[4,this.saveUserActionPerformed()];case 1:return t.sent(),[2]}}))}))},e.prototype.changeLanguage=function(e){var t,n;return W(this,void 0,void 0,(function(){var i,s,r,o,a,c,u,l,d,h,p,g,f,v,S,E;return J(this,(function(m){switch(m.label){case 0:return i=null===(t=this.settingsV2.core)||void 0===t?void 0:t.language.available,s=i&&i.some((function(t){return t===e})),r=e!==this.apiInstance.getJsonFileLanguage()&&s,o=this.settingsV2,a=o.core,c=o.data,r&&c&&a?(this.apiInstance.setJsonFileLanguage(e),this.apiInstance.resetTranslationsCache(),this.settingsV2.language=e,[4,this.fetchCoreAndDps()]):[3,8];case 1:return u=m.sent().dps,this.settingsV2.dpsJson=u,l=this.uiInstance,d=l.selectedLayer,h=l.variant,[4,this.apiInstance.fetchTranslations()];case 2:return p=m.sent(),null===h||null===d||null==u?[3,6]:!this.settingsV2.isAggregatorLoaded&&this.settingsV2.checkIfServiceNameExists(u.consentTemplates)?[3,4]:[4,this.settingsV2.extendServices(h,p)];case 3:return m.sent(),[3,5];case 4:this.settingsV2.initLabels(h,p),m.label=5;case 5:this.apiInstance.resetAggregatedServicesCache(),m.label=6;case 6:return this.settingsV2.updateServicesLanguage(e),g=this.dataFacadeInstance.getMergedServicesAndSettingsFromStorage(c),f=g.mergedServices,v=g.mergedServicesData,S=g.mergedSettingsData,a.language.selected=e,S.categories=this.settingsV2.mergeServicesDataIntoExistingCategories(v),this.settingsV2.data=S,(E=this.settingsV2.getDataTransferSettings())&&ye.saveSettings(ye.mapSettings(E,f),f),ot(S)?[4,S.changeLanguage(e,null===(n=this.settingsV2.legacySettings)||void 0===n?void 0:n.tcf2)]:[3,8];case 7:m.sent(),m.label=8;case 8:return[2]}}))}))},e.prototype.denyAllForTCF=function(e){return W(this,void 0,void 0,(function(){var t;return J(this,(function(n){switch(n.label){case 0:return(t=this.settingsV2.getTcfData())?[4,t.denyAllDisclosed(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},e.prototype.denyAllServices=function(e){return void 0===e&&(e="explicit"),W(this,void 0,void 0,(function(){return J(this,(function(t){switch(t.label){case 0:return this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(R.FALSE),this.settingsV2.getUpdatedServicesDataWithConsent(R.FALSE),"onDenyAllServices",e,{},this.initOptions.enableDeprecatedV1ConsentSaving),[4,this.saveUserActionPerformed()];case 1:return t.sent(),[2]}}))}))},e.prototype.fetchIsUserInEU=function(){return W(this,void 0,void 0,(function(){return J(this,(function(e){return[2,this.locationInstance.getIsUserInEU()]}))}))},e.prototype.fetchUserCountry=function(){return W(this,void 0,void 0,(function(){return J(this,(function(e){return[2,this.locationInstance.getUserCountryData()]}))}))},e.prototype.getAbTestVariant=function(){return this.apiInstance.getAbTestVariant()},e.prototype.getCategoriesBaseInfo=function(){return this.settingsV2.getCategoriesBaseInfo()},e.prototype.getCategoriesFullInfo=function(){return W(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return[4,this.apiInstance.fetchTranslations()];case 1:return e=t.sent(),[2,this.settingsV2.getCategoriesFullInfo(this.uiInstance.variant,e)]}}))}))},e.prototype.getCcpaOptOutStatus=function(){var e;return(null===(e=this.settingsV2.getCcpaData())||void 0===e?void 0:e.getIsOptedOut())||!1},e.prototype.getCcpaExplicitNoticeStatus=function(){var e;return(null===(e=this.settingsV2.getCcpaData())||void 0===e?void 0:e.getExplicitNotice())||!1},e.prototype.saveOptOutForCcpa=function(e,t){return void 0===t&&(t="explicit"),W(this,void 0,void 0,(function(){var n,i;return J(this,(function(s){switch(s.label){case 0:return(n=this.settingsV2.getCcpaData())&&n.getIsOptedOut()!==e?(n.setCcpaStorage(e),i={consentAction:e?"onDenyAllServices":"onAcceptAllServices",consentStatus:e?R.FALSE:R.TRUE,consentString:{CCPA:ye.getCcpaString()}},this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(i.consentStatus),this.settingsV2.getUpdatedServicesDataWithConsent(i.consentStatus),i.consentAction,t,i.consentString,this.initOptions.enableDeprecatedV1ConsentSaving),[4,this.saveUserActionPerformed()]):[2];case 1:return s.sent(),[2]}}))}))},e.prototype.saveDefaultForCcpa=function(){return W(this,void 0,void 0,(function(){var e,t,n;return J(this,(function(i){switch(i.label){case 0:return e=this.settingsV2.getCcpaData(),t=ye.getCcpaString(),e?[3,2]:(ye.setCcpaTimeStamp(),[4,this.saveUserActionPerformed()]);case 1:case 3:return i.sent(),[2];case 2:return"-"===t[1]?(n=e.getIsOptedOut(),null==e||e.setCcpaStorage(n,fs.ACCEPT),window.dispatchEvent(new Event(en))):ye.setCcpaTimeStamp(),[4,this.saveUserActionPerformed()]}}))}))},e.prototype.getControllerId=function(){return this.controllerIdInstance.value},e.prototype.getServicesBaseInfo=function(){return this.settingsV2.getServicesBaseInfo()},e.prototype.getServicesFullInfo=function(){return W(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return[4,this.apiInstance.fetchTranslations()];case 1:return e=t.sent(),[2,this.settingsV2.getServicesFullInfo(this.uiInstance.variant,e)]}}))}))},e.prototype.getSettingsCore=function(){var e=this.settingsV2.core;if(!e)throw new Error("Usercentrics: You have to call the init method before!");return e},e.prototype.getSettingsLabels=function(){var e=this.settingsV2.labels;if(!e)throw new Error("Usercentrics: You have to call the init method before!");return e},e.prototype.getSettingsData=function(){var e=this.settingsV2.data;if(!e)throw new Error("Usercentrics: You have to call the init method before!");return e},e.prototype.getSettingsUI=function(){return this.settingsV2.ui},e.prototype.getAriaLabels=function(){var e,t;return lt(this.settingsV2.labels)&&null!=(null===(e=this.settingsV2.labels)||void 0===e?void 0:e.ariaLabels)?null===(t=this.settingsV2.labels)||void 0===t?void 0:t.ariaLabels:We},e.prototype.getTCFData=function(){var e=this.settingsV2.getTcfData();return e?e.getTCFData():null},e.prototype.getTCFDisclosedVendorsSegmentString=function(){return this.settingsV2.getTCFDisclosedVendorsSegmentString()},e.prototype.injectTCString=function(e){return this.settingsV2.injectTCString(e)},e.prototype.setTCFUIAsClosed=function(){return W(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return(e=this.settingsV2.getTcfData())?[4,e.setUIAsClosed()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.setGppDisplayHidden=function(){var e;return W(this,void 0,void 0,(function(){return J(this,(function(t){switch(t.label){case 0:return[4,null===(e=Es.getInstance())||void 0===e?void 0:e.setCmpDisplayHidden()];case 1:return t.sent(),[2]}}))}))},e.prototype.setGppDisplayVisible=function(){var e;return W(this,void 0,void 0,(function(){return J(this,(function(t){switch(t.label){case 0:return[4,null===(e=Es.getInstance())||void 0===e?void 0:e.setCmpDisplayVisible()];case 1:return t.sent(),[2]}}))}))},e.prototype.setTCFUIAsOpen=function(){return W(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return(e=this.settingsV2.getTcfData())?[4,e.setUIAsOpen()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.updateChoicesForTCF=function(e,t){return W(this,void 0,void 0,(function(){var n;return J(this,(function(i){switch(i.label){case 0:return(n=this.settingsV2.getTcfData())?[4,n.updateChoices(e,t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},e.prototype.areAllConsentsAccepted=function(){return this.settingsV2.isTcfAvailable()?this.settingsV2.areAllVendorsAndPurposesAccepted()&&this.settingsV2.areAllServicesAccepted():this.settingsV2.areAllServicesAccepted()},e.prototype.restoreUserSession=function(e){var t,n;return W(this,void 0,void 0,(function(){var i;return J(this,(function(s){switch(s.label){case 0:return(null===(t=this.settingsV2.core)||void 0===t?void 0:t.consentAPIv2)&&!(null===(n=this.settingsV2.core)||void 0===n?void 0:n.consentXDevice)?(console.warn(H.CROSS_DEVICE_FEATURE_DISABLED),this.controllerIdInstance.needsSessionRestore=!1,[2]):(this.controllerIdInstance.value=e,this.controllerIdInstance.needsSessionRestore=!0,this.settingsV2.setControllerId(e),(i=this.settingsV2.dpsJson)?[4,this.dataFacadeInstance.restoreUserSession(i)]:[3,2]);case 1:s.sent()&&this.enableServicesScripts(this.processStorageServicesAndSettings(this.settingsV2.data),this.settingsV2.getGoogleConsentMode(),"onSessionRestored"),s.label=2;case 2:return[2]}}))}))},e.prototype.clearStorage=function(){return W(this,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return[4,ye.clearAll()];case 1:return e.sent(),[2]}}))}))},e.prototype.postMessageAmp=function(e,t,n){return W(this,void 0,void 0,(function(){var i,s,r,o,a,c,u,l,d=this;return J(this,(function(h){switch(h.label){case 0:return i=this.settingsV2.isTcfAvailable(),[4,this.settingsV2.isCcpaAvailable()];case 1:return s=h.sent(),r=function(){var e=d.settingsV2.getTcfData();return i&&(null==e?void 0:e.getTCString)?e.getTCString():s?ye.getCcpaString():""},o=function(){return W(d,void 0,void 0,(function(){var e,t,n,r;return J(this,(function(o){switch(o.label){case 0:return r=this.settingsV2.getTcfData(),i&&r?(e=D.TCF_V2,[4,r.getGdprApplies()]):[3,2];case 1:return t=o.sent(),n=this.settingsV2.getTCFPurposeOneTreatment(),[3,3];case 2:s&&(e=D.CCPA),o.label=3;case 3:return[2,Y({consentStringType:e},i&&{gdprApplies:t,purposeOne:n})]}}))}))},c=[{action:t,type:e}],(u=e===N.CONSENT_RESPONSE&&t!==L.DISMISS&&(s||i))?(l={},[4,o()]):[3,3];case 2:l.consentMetadata=h.sent(),l.info=r(),u=l,h.label=3;case 3:return a=Y.apply(void 0,[Y.apply(void 0,c.concat([u])),n&&{initialHeight:n}]),[2,new Promise((function(e,t){try{window.parent.postMessage(Y({},a),"*"),e()}catch(e){t(e)}}))]}}))}))},e.prototype.acceptAllAmp=function(){return W(this,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return[4,this.postMessageAmp(N.CONSENT_RESPONSE,L.ACCEPT)];case 1:return e.sent(),[2]}}))}))},e.prototype.denyAllAmp=function(){return W(this,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return[4,this.postMessageAmp(N.CONSENT_RESPONSE,L.REJECT)];case 1:return e.sent(),[2]}}))}))},e.prototype.saveTCFDataAmp=function(e){return W(this,void 0,void 0,(function(){var t;return J(this,(function(n){switch(n.label){case 0:return t=e.every((function(e){return e.status})),0===e.length||t?[4,this.postMessageAmp(N.CONSENT_RESPONSE,L.ACCEPT)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.postMessageAmp(N.CONSENT_RESPONSE,L.REJECT)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},e.prototype.dismissAmp=function(){return W(this,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return[4,this.postMessageAmp(N.CONSENT_RESPONSE,L.DISMISS)];case 1:return e.sent(),[2]}}))}))},e.prototype.enterFullscreenAmp=function(){return W(this,void 0,void 0,(function(){return J(this,(function(e){return[2,this.postMessageAmp(N.CONSENT_UI,L.FULLSCREEN)]}))}))},e.prototype.uiReadyAmp=function(){return W(this,void 0,void 0,(function(){var e,t,n;return J(this,(function(i){return e=this.settingsV2.labels,t="60vh",e&&lt(e)&&(n=e.firstLayer.description.default.length,window.screen.height>700&&n<=250&&(t="50vh")),[2,this.postMessageAmp(N.CONSENT_UI,L.READY,t)]}))}))},e.prototype.saveUserActionPerformed=function(){return W(this,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return ye.setUserActionPerformed(!0),this.setIsConsentRequired(!1),this.uiInstance.selectedLayer?[4,this.settingsV2.initUI(this.uiInstance.selectedLayer,this.uiInstance.variant)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.updateServices=function(e,t){return void 0===t&&(t="explicit"),W(this,void 0,void 0,(function(){var n,i;return J(this,(function(s){switch(s.label){case 0:return n=this.settingsV2.getUpdatedServicesWithDecisions(e),i=this.settingsV2.getUpdatedServicesDataWithDecisions(e),Ae(n)&&this.dataFacadeInstance.execute(n,i,"onUpdateServices",t,{},this.initOptions.enableDeprecatedV1ConsentSaving),[4,this.saveUserActionPerformed()];case 1:return s.sent(),[2]}}))}))},e.prototype.updateLayer=function(e){return W(this,void 0,void 0,(function(){var t;return J(this,(function(n){switch(n.label){case 0:return t=this.uiInstance.selectedLayer,this.uiInstance.selectedLayer=e,e===t?[2]:[4,this.settingsV2.initUI(e,this.uiInstance.variant)];case 1:return n.sent(),3!==e?[3,3]:[4,this.loadServices()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},e.prototype.loadServices=function(){return W(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return this.settingsV2.isAggregatorLoaded||!this.uiInstance.selectedLayer?[2]:[4,this.apiInstance.fetchTranslations()];case 1:return e=t.sent(),[4,this.settingsV2.extendServices(this.uiInstance.variant,e)];case 2:return t.sent(),this.apiInstance.resetAggregatedServicesCache(),[2]}}))}))},e.prototype.loadSettings=function(){return W(this,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return[4,this.apiInstance.fetchSettingsJson()];case 1:return e=t.sent(),this.settingsV2.legacySettings=e,[2,e]}}))}))},e.prototype.updateStorage=function(e,t,n){return W(this,void 0,void 0,(function(){var i,s,r;return J(this,(function(o){switch(o.label){case 0:return[4,this.settingsV2.shouldDenyAllExplicitlyOnInit()];case 1:return o.sent()?(this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(R.FALSE),this.settingsV2.getUpdatedServicesDataWithConsent(R.FALSE),"onDenyAllServices","explicit",{},this.initOptions.enableDeprecatedV1ConsentSaving),[3,7]):[3,2];case 2:return this.uiInstance.isFirstTimeVisit()?[4,this.settingsV2.shouldAcceptAllImplicitlyOnInit()]:[3,4];case 3:return o.sent()?this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(R.TRUE),this.settingsV2.getUpdatedServicesDataWithConsent(R.TRUE),"onNonEURegion",this.botInstance.isRobot()?"explicit":"implicit",{},this.initOptions.enableDeprecatedV1ConsentSaving):this.dataFacadeInstance.execute(this.settingsV2.getServicesDataAndLabels(),this.settingsV2.getServicesData(),"onInitialPageLoad","implicit",{},this.initOptions.enableDeprecatedV1ConsentSaving),[3,7];case 4:return i=null!=t?t:this.processStorageServicesAndSettings(this.settingsV2.data),a=this.settingsV2.getServicesData(),(s=(c=e)&&!a.every((function(e){return c.find((function(t){return t.id===e.id}))}))||!1)?[4,this.settingsV2.shouldAcceptAllImplicitlyOnVendorAdded()]:[3,6];case 5:s=o.sent(),o.label=6;case 6:s?this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(R.TRUE),this.settingsV2.getUpdatedServicesDataWithConsent(R.TRUE),"onNonEURegion",this.botInstance.isRobot()?"explicit":"implicit",{},this.initOptions.enableDeprecatedV1ConsentSaving):(r=n&&this.dataFacadeInstance.restoreAction?this.dataFacadeInstance.restoreAction:"onInitialPageLoad",this.enableServicesScripts(i,this.settingsV2.getGoogleConsentMode(),r),this.dataFacadeInstance.restoreAction=null),o.label=7;case 7:return[2]}var a,c}))}))},e.prototype.enableScriptsForServicesWithConsent=function(){En.enableScriptsForServicesWithConsent(this.settingsV2.getServicesWithConsent())},e.prototype.setTrackingPixel=function(e){var t;!this.initOptions.disableTracking&&(null===(t=this.settingsV2.coreJson)||void 0===t?void 0:t.interactionAnalytics)&&this.apiInstance.setTrackingPixel(e)},e.prototype.addSessionTrackingPixel=function(){(new Image).src=this.apiInstance.createSessionTrackingUrl()},e.prototype.processStorageServicesAndSettings=function(e){if(!e||!this.settingsV2.labels)return[];var t=this.dataFacadeInstance.getMergedServicesAndSettingsFromStorage(e),n=t.dataTransferSettings,i=t.mergedServicesData,s=t.mergedServices,r=t.updatedEssentialServices;return this.dataFacadeInstance.mergeServicesAndSettings(s,i,n,r,this.settingsV2.labels.services,this.initOptions.enableDeprecatedV1ConsentSaving)},e.prototype.enableServicesScripts=function(e,t,n){En.enableScriptsForServicesWithConsent(this.settingsV2.getServicesWithConsent()),this.eventDispatcherInstance.dispatch(e,t,n)},e.prototype.setIsConsentRequired=function(e){this.isConsentRequired=!0===e},e.prototype.getIsConsentRequired=function(){return this.isConsentRequired},e.prototype.getThirdPartyCount=function(){return this.settingsV2.getThirdPartyCount()},e}()},730:()=>{}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";window.addEventListener("itp_consent_status",(e=>{if(e.detail){Object.keys(e.detail).forEach((t=>{!0===e.detail[t]&&document.querySelectorAll('script[data-usercentrics-id="'+t+'"], script[type="application/usercentrics"][pid="'+t+'"]').forEach((e=>{const t=e;e.remove(),t.setAttribute("type","application/javascript"),document.body.appendChild(t)}))}));const t=e;document.addEventListener("DOMContentLoaded",(function(){Object.keys(t.detail).forEach((e=>{!0===t.detail[e]&&document.querySelectorAll('script[data-usercentrics-id="'+e+'"], script[type="application/usercentrics"][pid="'+e+'"]').forEach((e=>{const t=e;e.remove(),t.setAttribute("type","application/javascript"),document.body.appendChild(t)}))}))}))}}));const e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,t=t=>{if("string"!=typeof t)throw new TypeError("Invalid argument expected string");const n=t.match(e);if(!n)throw new Error(`Invalid argument not valid semver ('${t}' received)`);return n.shift(),n},i=e=>"*"===e||"x"===e||"X"===e,s=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},r=(e,t)=>{if(i(e)||i(t))return 0;const[n,r]=((e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t])(s(e),s(t));return n>r?1:n<r?-1:0},o=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){const i=r(e[n]||"0",t[n]||"0");if(0!==i)return i}return 0},a=(e,n,i)=>{l(i);const s=((e,n)=>{const i=t(e),s=t(n),r=i.pop(),a=s.pop(),c=o(i,s);return 0!==c?c:r&&a?o(r.split("."),a.split(".")):r||a?r?-1:1:0})(e,n);return c[i].includes(s)},c={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},u=Object.keys(c),l=e=>{if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===u.indexOf(e))throw new Error(`Invalid operator, expected one of ${u.join("|")}`)},d=(e,n)=>{if((n=n.replace(/([><=]+)\s+/g,"$1")).includes("||"))return n.split("||").some((t=>d(e,t)));if(n.includes(" - ")){const[t,i]=n.split(" - ",2);return d(e,`>=${t} <=${i}`)}if(n.includes(" "))return n.trim().replace(/\s{2,}/g," ").split(" ").every((t=>d(e,t)));const i=n.match(/^([<>=~^]+)/),s=i?i[1]:"=";if("^"!==s&&"~"!==s)return a(e,n,s);const[r,c,u,,l]=t(e),[h,p,g,,f]=t(n),v=[r,c,u],S=[h,null!=p?p:"x",null!=g?g:"x"];if(f){if(!l)return!1;if(0!==o(v,S))return!1;if(-1===o(l.split("."),f.split(".")))return!1}const E=S.findIndex((e=>"0"!==e))+1,m="~"===s?2:E>1?E:1;return 0===o(v.slice(0,m),S.slice(0,m))&&-1!==o(v.slice(m),S.slice(m))};var h={d:(e,t)=>{for(var n in t)h.o(t,n)&&!h.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},p={};h.d(p,{O:()=>m,H:()=>S});const g="porscheDesignSystem";function f(){return document[g]||(document[g]={}),document[g]}function v({script:e,version:t,prefix:n}){const i=function(e){const t=f(),{[e]:n}=t;if(!n){let n=()=>{};const i=new Promise((e=>n=e));t[e]={isInjected:!1,isReady:()=>i,readyResolve:n,prefixes:[],registerCustomElements:null}}return t[e]}(t),{isInjected:s,prefixes:r=[],registerCustomElements:o}=i,[a]=Object.entries(f()).filter((([e,i])=>e!==t&&"object"==typeof i&&i.prefixes.includes(n)));if(a)throw new Error(`[Porsche Design System v${t}] prefix '${n}' is already registered with version '${a[0]}' of the Porsche Design System. Please use a different one.\nTake a look at document.${g} for more details.`);s||(function(e){const t=document.createElement("script");t.src=e,t.setAttribute("crossorigin",""),document.body.appendChild(t)}(e),i.isInjected=!0),r.includes(n)||(r.push(n),o&&o(n))}const S=(e={})=>{const t="PORSCHE_DESIGN_SYSTEM_CDN";window[t]=e.cdn||window[t]||(window.location.origin.match(/\.cn$/)?"cn":"auto");const n="porscheDesignSystem";document[n]||(document[n]={}),document[n].cdn={url:"https://cdn.ui.porsche."+("cn"===window[t]?"cn":"com"),prefixes:[]},v({version:"3.21.0",script:document[n].cdn.url+"/porsche-design-system/components/porsche-design-system.v3.21.0.523ef7ccb0aaf9dbb22f.js",prefix:e.prefix||""})},E={loading:0,interactive:1,complete:2},m=(e=document.body,t="complete")=>{let n;const i=new Promise((e=>n=e)),s=()=>{I().then((()=>C(e,n)))};if(y(t))s();else{const e="readystatechange",n=()=>{y(t)&&(document.removeEventListener(e,n),s())};document.addEventListener(e,n)}return i},y=e=>E[document.readyState]>=E[e],I=()=>{if(document.porscheDesignSystem?.["3.21.0"]?.isReady)return document.porscheDesignSystem["3.21.0"].isReady();{let e;const t=new Promise((t=>e=t)),n={set(t,n,i){return"3.21.0"===n&&i.isReady().then(e),Reflect.set(...arguments)}};return document.porscheDesignSystem=new Proxy(document.porscheDesignSystem||{},n),t}},C=(e,t)=>{const n=T(e);Promise.all(n).then((e=>t(e.length))).catch((e=>console.error("[Porsche Design System]",e)))},T=e=>{const t=[],n=[e];for(;n.length>0;){const e=n.pop();e.nodeType===Node.ELEMENT_NODE&&(b(e)&&t.push(e.componentOnReady()),n.push(...Array.from(e.children)))}return t},A=/^(.*-)?P-(.*)$/,b=e=>A.test(e.tagName)&&"function"==typeof e.componentOnReady;var _=p.O,w=p.H;var O=n(200);const N=new class{UC;settingsId;initialUIValues;async init(e){this.settingsId=e;const t=window.ucSdk?.defaultLanguage?.split("-")[0],n={language:t,euMode:"false"!==window.ucSdk?.euMode,version:"preview"===window.ucSdk?.ucVersion?"preview":"latest",usMode:"true"===window.ucSdk?.gpcMode};localStorage.removeItem("uc_user_interaction_ccpa"),localStorage.removeItem(`gpcInfoSeen_${this.settingsId}`);this.UC=await(async(e,t=n)=>new O.az(e,t))(this.settingsId),this.initialUIValues=await this.UC.init();const i=this.getAvailableLanguages(),s=window.GlobalConsent?.LanguageFallback;if(s&&this.getLanguage()!==t&&i.includes(s)&&await this.changeLanguage(s),window.ucSdk.languages){window.ucSdk.languages=window.ucSdk.languages.filter((e=>i.includes(e)));const e=this.getLanguage();window.ucSdk.languages.includes(e)||window.ucSdk.languages.unshift(e)}}getAbTestVariant(){return this.UC.getAbTestVariant()}getControllerId(){return this.UC.getControllerId()}getServices(){return this.UC.getServicesBaseInfo()}getCategories(){return this.UC.getCategoriesBaseInfo()}getIsConsentRequired(){return this.UC.getIsConsentRequired()}getSettings(){return this.UC?.settingsV2}getSettingsCore(){return this.UC.getSettingsCore()}getSettingsLabels(){return this.UC.getSettingsLabels()}getAriaLabels(){return this.UC.getAriaLabels()}async resetConsents(e=!1){await this.UC.clearStorage(),e&&await N.init(this.settingsId)}setTrackingPixel({abTestVariant:e,eventType:t}){this.UC.setTrackingPixel({abTestVariant:e,eventType:t})}getAvailableLanguages(){return this.getSettingsCore()?.language?.available}getLanguage(){return this.getSettingsCore()?.language?.selected}async changeLanguage(e,t){await this.UC.changeLanguage(e),"function"==typeof t&&t()}afterChangeServices(e,t){e(),t!==O.aS.UNDEFINED&&this.UC.setTrackingPixel({abTestVariant:this.UC.getAbTestVariant(),eventType:t})}async updateServices(e,t){await this.UC.updateServices(e),this.afterChangeServices(t,O.aS.SAVE)}async acceptAllServices(e,t){await this.UC.acceptAllServices(),this.afterChangeServices(e,t?O.aS.UNDEFINED:O.aS.ACCEPT_ALL)}async denyAllServices(e,t){await this.UC.denyAllServices(),this.afterChangeServices(e,t?O.aS.UNDEFINED:O.aS.DENY_ALL)}},L=N,D=e=>{if(!window.ucSdk?.jsonSettings||!window.ucSdk?.settingsId)return!1;let t=!1;return window.ucSdk?.jsonSettings.every((function(n){return n["settings-ID"]!==window.ucSdk?.settingsId||(Object.keys(n.services).every((function(i){return n.services[i]!==e||(t=i,!1)})),!1)})),t},R=e=>{if(!window.ucSdk?.jsonSettings||!window.ucSdk?.settingsId)return!1;let t=!1;return window.ucSdk?.jsonSettings.every((function(n){return n["settings-ID"]!==window.ucSdk?.settingsId||!n.services[e]||""===n.services[e]||(t=n.services[e],!1)})),t},P=e=>{window.ucSdk.jsonSettings=e;let t=!1;window.ucSdk?.jsonSettings.forEach((function(e,n){for(const i in e.URLs){let s=!1;if("localhost"===window.location.hostname&&(s=!0),(V(i)||!0===s)&&!1===t&&(window.ucSdk.settingsId=window.ucSdk?.jsonSettings[n]["settings-ID"],t=!0,void 0!==e.URLs[i].language&&""!==e.URLs[i].language&&(window.ucSdk.defaultLanguage=e.URLs[i].language),void 0!==e.URLs[i].gpc&&!0===e.URLs[i].gpc&&(window.ucSdk.gpcMode="true"),void 0!==e.URLs[i].close&&!0===e.URLs[i].close&&(window.ucSdk.closeButton="true"),void 0!==e.URLs[i].policy&&""!==e.URLs[i].policy&&(window.ucSdk.urlCookiePolicy=e.URLs[i].policy),void 0!==e.URLs[i].itp&&!0===e.URLs[i].itp)){const e=document.createElement("script");e.type="application/javascript",e.dataset.customSdk="true",e.src=`\n            ${window.location.hostname.includes("porsche-preview.com")?"https://cookie.porsche-preview.com/":"https://cookie.porsche.com/"}?settingsId=${window.ucSdk?.settingsId}`,e.addEventListener("load",(()=>window.ucSdk.itpReady=!0)),window.ucSdk.cookieBridgeScript=e;const t=document.querySelector('script[src*="udg-uc-sdk."], script[src*="udg-uc-sdk-preview."]');t.parentNode.insertBefore(e,t.previousSibling)}}})),window.ucSdk?.settingsId||console.error("No matching Usercentrics settings ID found")},V=e=>{if(e.indexOf("*")<0)return window.location.href.indexOf(e)>-1;{const t=e.split("*");let n=0;return t.forEach((function(e){window.location.href.indexOf(e)>-1&&n++})),n===t.length}},k=()=>{window.usercentrics&&"function"==typeof window.usercentrics.onViewInit&&window.usercentrics.onViewInit(),window.usercentrics.isInitialized=!0;const e="true"===window.ucSdk.gpcMode?!navigator.globalPrivacyControl:Boolean("true"===localStorage.getItem("uc_user_interaction")||window.ucSdk.cookieOptin||window.ucSdk.paramOptin||window.ucSdk.paramOptout);let t={},n={};L.getServices().forEach((e=>{const i=e.name.replace(/"/g,"").trim(),s=D(e.id),r=localStorage.getItem("uc_settings"),o=localStorage.getItem("uc_user_interaction");if(r&&"true"===o){const n=JSON.parse(r),o=n.services?.find((({id:t})=>t===e.id));o&&(t={...t,...i&&{[i]:o.status},...s&&{[s]:o.status}})}n={...n,[i]:e.consent.status,...s&&{[s]:e.consent.status}}})),Object.keys(t).length&&M({event:"consents_initialized",Optin:e,usc_origin:"from local setting",...t}),M({event:"consents_initialized",Optin:e,usc_origin:"from server setting",...n}),window.ucSdk.cookieOptin||window.ucSdk.paramOptin?U(!0):window.ucSdk.paramOptout&&x(!0),window.dispatchEvent(new Event("ucInit"))},U=async e=>{await L.acceptAllServices((()=>{M({event:"consent_changed Optin",Optin:!0}),G({options:{Optin:!0}})}),e)},x=async e=>{await L.denyAllServices((()=>{M({event:"consent_changed Optin",Optin:!1}),G({options:{Optin:!1}})}),e)},M=e=>{window.dataLayer?.push(e),window.oneGa?.push(e),window._mtm?.push({mtmconsent:e})},F=(e,t,n)=>{M({event:`consent_changed ${e}`,...n,[e]:t}),window.dispatchEvent(new CustomEvent("usercentrics-events",{detail:{data:{event:"consent_changed",name:e,status:t}}}))},G=({services:e=L.getServices(),options:t}={})=>{const n={};e.forEach((e=>{const i=e.name.replace(/"/g,"").trim(),s=D(e.id),r={...t};Object.hasOwn(r,"Optin")&&(r.Optin||=e.isEssential),F(i,e.consent.status,r),n[i]=e.consent.status,s&&(F(s,e.consent.status,r),n[s]=e.consent.status)})),M({event:"consents_changed_finished",...t,Optin:!0,...n}),window.dispatchEvent(new Event("consents_changed_finished"))},B=async()=>{const e=document.querySelector('script[src*="udg-uc-sdk."], script[src*="udg-uc-sdk-preview."], script[src*="udg-uc-sdk-pds."], script[src*="udg-uc-sdk-pds-preview."]');let t="/all/usercentrics/uc-settings.json";if(!e)return;window._mtm=window._mtm||[],window.ucSdk=window.ucSdk||{},window.ucSdk.ucReady=!1,window.GlobalConsent=window.GlobalConsent||{},window.ucSdk.cookieOptin=document.cookie?.indexOf("uc-sdk-accept-all=true")>=0;const n=window.location.search,i=new URLSearchParams(n);window.ucSdk.paramOptin="true"===i.get("uc-consent-all"),window.ucSdk.paramOptout="false"===i.get("uc-consent-all"),("true"===i.get("uc-hide-banner")||window.location.hash.includes("#uc-hide-banner=true"))&&(window.ucSdk.hideBanner=!0),("true"===i.get("uc-preview")||window.location.hash.includes("#uc-preview=true"))&&(window.ucSdk.ucVersion="preview"),window.ucSdk.defaultLanguage=e.getAttribute("data-language"),window.ucSdk.defaultLanguage||(window.ucSdk.defaultLanguage=e.getAttribute("language")),window.ucSdk.gpcMode=e.getAttribute("data-gpc"),window.ucSdk.closeButton=e.getAttribute("data-close"),window.ucSdk.euMode=e.getAttribute("data-eu"),window.ucSdk.ucVersion||=e.getAttribute("data-version"),window.ucSdk.hideBanner||="true"===e.getAttribute("data-hide-banner"),window.ucSdk.essential="show"===e.getAttribute("data-essential")?"show":"hide",window.ucSdk.functional="hide"===e.getAttribute("data-functional")?"hide":"show",window.ucSdk.marketing="hide"===e.getAttribute("data-marketing")?"hide":"show",window.ucSdk.urlCookiePolicy=e.getAttribute("data-cookie-policy"),t=e.getAttribute("src").indexOf("preview.ppn.porsche.com")>=0?"https://preview.ppn.porsche.com"+t:"true"===e.getAttribute("data-dev")?"/uc-settings.json":"https://www.porsche.com"+t,e.hasAttribute("id")?(window.ucSdk.settingsId=e.getAttribute("id"),window.ucSdk?.settingsId||console.error("No Usercentrics settings ID found")):await(async e=>{const t=await fetch(e);if(t.ok){const e=await t.json();P(e)}})(t),window.GlobalConsent?.UrlCookiePolicy&&(window.ucSdk.urlCookiePolicy=window.GlobalConsent.UrlCookiePolicy),window.ucSdk.defaultLanguage?.split(",").length>1&&(window.ucSdk.languages=window.ucSdk.defaultLanguage.split(","),window.ucSdk.defaultLanguage=window.ucSdk.defaultLanguage.split(",")[0]),window.GlobalConsent&&(window.GlobalConsent?.Language&&(window.ucSdk.defaultLanguage=window.GlobalConsent?.Language,"object"==typeof window.GlobalConsent?.Language&&window.GlobalConsent?.Language.length>0&&(window.ucSdk.defaultLanguage=window.GlobalConsent?.Language[0],window.ucSdk.languages=window.GlobalConsent?.Language)),window.GlobalConsent?.DarkMode&&(window.ucSdk.darkMode=window.GlobalConsent?.DarkMode),window.GlobalConsent?.DarkWidget&&(window.ucSdk.darkWidget=window.GlobalConsent?.DarkWidget)),document.querySelectorAll("*[uc-global-consent][uc-lang]").forEach((e=>{window.ucSdk.defaultLanguage=e.getAttribute("uc-lang")}))},$=JSON.parse('{"ipmlalhY8":true,"dIkLIn8_P":true,"WsiFTggBD":true,"2HEeDGpmF":true,"JuWAFkgHm":true,"ovXob7Z2X":true,"qRzpQDgNV":true,"y4lEpmRrT":true,"YgG04JG0":true,"znJTHGfkj1W4ND":true,"4EuZWTNNUNfR3v":true,"cgNe28kBDtqoiD":true,"PxRIZDReqtA9y1":true,"4Q3k3H0jqq7n6G":true,"jKYXEBcxIQXwED":true,"v9Q5ygsHbdXXoe":true,"dVKp7rACk":true,"gFP-5xgLf":true,"cVwovlI84":true,"PWOLR78Ct":true,"qwlW50srL":true,"JFhrG52ZG":true,"W4JZcq0lT":true,"-4ZbjMZsU":true,"VIYj0E4CX":true,"121qzvaWL":true}'),H=()=>{const e=document.createElement("uc-layer2");e.id=window.ucSdk?.settingsId,window.ucSdk?.defaultLanguage&&e.setAttribute("language",window.ucSdk?.defaultLanguage),window.ucSdk?.languages&&e.setAttribute("languages",window.ucSdk?.languages),"true"===window.ucSdk?.gpcMode&&e.setAttribute("ccpa","true"),"true"===window.ucSdk?.closeButton&&e.setAttribute("closeButton","true"),!0===window.GlobalConsent?.openAll&&e.setAttribute("openAll","true"),$[window.ucSdk?.settingsId]&&e.setAttribute("variant","new"),"show"!==window.ucSdk?.essential&&!1!==window.GlobalConsent?.HideEssentialSDK||e.setAttribute("essential","shown"),"hide"!==window.ucSdk?.functional&&!0!==window.GlobalConsent?.HideFunctionalSDK||e.setAttribute("functional","unshown"),"hide"!==window.ucSdk?.marketing&&!0!==window.GlobalConsent?.HideMarketingSDK||e.setAttribute("marketing","unshown"),document.body.appendChild(e)},j=()=>{document.querySelectorAll('*[uc-layout="privacySettings"]:not([data-rendered])').forEach((e=>{const t=document.createElement("uc-widget");e.dataset.rendered="true",e.appendChild(t)}))},q=function(e){const t=()=>{if(0!==e.mapContainer?.length){const t=!1===e.backdrop?"uc-newprivacyshield":"uc-privacyshield",n=document.createElement(t),{headline:i,text:s,buttons:r}=window.ucPrivacyShield.consentservice??{};if(n.setAttribute("headline",i??""),n.setAttribute("text",s??""),n.setAttribute("link",r?.privacy?.link??""),n.setAttribute("linkLabel",r?.privacy?.label??""),n.setAttribute("buttonLabel",r?.consent?.label??""),n.setAttribute("callbackIndex",`${window.ucPrivacyShield.callbacks?.length||0}`),e.processorId){const t=[e.processorId].flat().map((e=>R(e)||e));n.setAttribute("IDs",t.join(","))}let o=!1;if(void 0!==e.mapContainer.length)for(const i of e.mapContainer)i.querySelector(t)||(i.appendChild(n.cloneNode()),o||=!0);else e.mapContainer.querySelector(t)||(e.mapContainer.appendChild(n),o||=!0);o&&(window.ucPrivacyShield.callbacks=window.ucPrivacyShield.callbacks||[],window.ucPrivacyShield.callbacks.push(e.callbacks.success))}};window.ucSdk.ucReady?t():window.addEventListener("ucReady",t)},Y=function(){return L.getIsConsentRequired()},W=function(e=!1){let t;const n=L.getServices();if(e){t={action:"",consentStatus:null,controllerId:L.getControllerId(),cookieNames:[],dataProcessor:"",dataProcessors:[],defaultCategorySlug:"",defaultConsentStatus:null,description:"",history:[],iabId:null,iabv2Id:null,isDeactivated:null,isEssential:null,isHidden:null,legalBasisList:[],optOutDescription:"",technicalName:null,templateId:"",unsavedConsentStatus:null,version:""};for(let i=0;i<n.length;i++)if(e===n[i].id||e.trim()===n[i].name||R(e.trim())===n[i].id){t.consentStatus=n[i].consent.status,t.dataProcessor=n[i].name,t.dataProcessors=[n[i].name],t.description=n[i].description,t.history=n[i].consent.history,t.isHidden=n[i].isHidden,t.isEssential=n[i].isEssential,t.legalBasisList=n[i].legalBasis,t.templateId=n[i].id,t.version=n[i].version;const e=D(n[i].id);e&&(t.technicalName=e)}return t}{const e=[];for(let i=0;i<n.length;i++){let s;const r=n[i].consent.history;for(let e=0;e<r.length;e++)!0===r[e].status?r[e].consentStatus=!0:r[e].consentStatus=!1,delete r[e].status;s=!0===n[i].consent.status;let o=D(n[i].id);o||(o=null),t={action:"",addressOfProcessingCompany:"",categoryLabel:"",categorySlug:n[i].categorySlug,consentId:"",consentStatus:s,controllerId:L.getControllerId(),cookieMaxAgeSeconds:null,cookieNames:[],dataProcessingService:n[i].name,dataProcessor:n[i].name,dataProcessors:[n[i].name],description:n[i].description,history:r,iabId:"",iabv2Id:"",isDeactivated:null,isEssential:n[i].isEssential,isHidden:n[i].isHidden,legalBasisList:n[i].legalBasis,optOutDescription:"",technicalName:o,templateId:n[i].id,retentionPeriod:0,unsavedConsentStatus:null,usesNonCookieAccess:null,version:""},e.push(t)}return e}},J=async function(e=!1){await L.resetConsents(e),e&&(window.dispatchEvent(new Event("consents_changed_finished")),window.usercentrics.toggleCenteredModalIsVisible(!0)),k()},z=function(e){const t=[],n=L.getServices();for(let i=0;i<e.length;i++)for(let s=0;s<n.length;s++)if(n[s].id===e[i].templateId||n[s].name===e[i].templateId.trim()||n[s].id===R(e[i].templateId.trim())){t.push({serviceId:n[s].id,status:e[i].status});break}L.updateServices(t,(()=>G({services:n.filter((({id:e})=>t.some((({serviceId:t})=>e===t))))})))},Q=e=>{L.changeLanguage(e,(()=>{window.dispatchEvent(new Event("uc-language_changed"))}))},K=function(){return window.ucSdk.ucReady},X=function(e,t){const n=new CustomEvent("uc-layer4_hide",{}),i=new CustomEvent("uc-layer4_show",{}),s=new CustomEvent("uc-layer4_scroll",{});if(t&&(window.serviceName=t),!1===e)window.dispatchEvent(n);else{let n=!1;const r=document.querySelector('uc-layer4[global="true"]');if(r?.shadowRoot?.querySelector("uc-p-flyout")?.shadowRoot?.querySelector("dialog[open]"))n=!0;else{document.body.querySelectorAll("uc-widget").forEach((function(e){const t=e?.shadowRoot.querySelectorAll("uc-layer4");t.forEach((function(e){e.shadowRoot?.querySelector("uc-p-flyout")?.shadowRoot?.querySelector("dialog[open]")&&(n=!0)}))}))}if(!0===e&&!n)if(document.querySelector("body > uc-layer4"))window.dispatchEvent(i);else{const e=document.createElement("uc-layer4");e.setAttribute("global","true"),document.body.appendChild(e)}!0===e&&t&&window.dispatchEvent(s)}},Z=function(e){const t=new CustomEvent("uc-layer4_hide",{}),n=new CustomEvent("uc-layer4_show",{});if(!1===e)window.dispatchEvent(t);else{let i=!1;const s=document.querySelector('uc-layer4[global="true"]');if(s?.shadowRoot?.querySelector("uc-p-flyout")?.shadowRoot?.querySelector("dialog[open]"))i=!0;else{document.body.querySelectorAll("uc-widget").forEach((function(e){const t=e?.shadowRoot.querySelectorAll("uc-layer4");t.forEach((function(e){e.shadowRoot?.querySelector("uc-p-flyout")?.shadowRoot?.querySelector("dialog[open]")&&(i=!0)}))}))}if(!0===e||!i)if(document.querySelector("body > uc-layer4"))window.dispatchEvent(n);else{const e=document.createElement("uc-layer4");e.setAttribute("global","true"),document.body.appendChild(e)}i&&window.dispatchEvent(t)}},ee=function(e){const t=new CustomEvent("uc-layer2_show",{}),n=new CustomEvent("uc-layer2_hide",{});if(!0===e)window.dispatchEvent(t);else if(!1===e)window.dispatchEvent(n);else{const e=document.querySelector("uc-layer2");e?.shadowRoot?.querySelector("uc-p-modal.hidden")?window.dispatchEvent(t):window.dispatchEvent(n)}},te=async()=>{!0!==window.GlobalConsent?.disabled&&(window.ucPrivacyShield||(window.ucPrivacyShield={}),window.ucPrivacyShield.checkConsent=q,window.usercentrics={getIsConsentRequired:Y,getConsents:W,resetConsents:J,updateConsents:z,updateLanguage:Q,ucIsReady:K,updateConsentInfoModalIsVisible:X,toggleConsentInfoModalIsVisible:Z,toggleCenteredModalIsVisible:ee},await B(),await(async()=>{const e=window.ucSdk?.settingsId||document.getElementsByTagName("uc-layer2").item(0)?.id;await L.init(e)})(),(()=>{!1!==window.ucSdk.itpReady?H():window.ucSdk.cookieBridgeScript.addEventListener("load",(function(){H()})),"complete"===document.readyState?(j(),window.addEventListener("load",(function(){j()}))):window.addEventListener("load",(function(){j()})),new MutationObserver((function(){j()})).observe(document.body,{attributes:!1,childList:!0,subtree:!0});const e=document.querySelectorAll('[href="#uc-info-modal-show"]');for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(e){e.preventDefault(),window.usercentrics.toggleConsentInfoModalIsVisible(!0)}))})(),window.ucSdk&&(window.ucSdk.ucReady=!0),window.dispatchEvent(new Event("ucReady")),k())},ne=async()=>{if(!0===window.GlobalConsent?.disabled)return;(()=>{const e=document.querySelector('script[src*="udg-uc-sdk."], script[src*="udg-uc-sdk-preview."], script[src*="udg-uc-sdk-pds."], script[src*="udg-uc-sdk-pds-preview."]');if(!e)return;let t=!1;if("true"!==e.getAttribute("data-pds")&&"function"==typeof window.porscheDesignSystem?.load){const e=porscheDesignSystem.load.toString().match(/porsche-design-system.v(\d+\.\d+\.\d+)/)?.[1];t=e&&d(e,">=3.9.0")}if(t)porscheDesignSystem.load({prefix:"uc"});else{if(w({prefix:"uc"}),document.querySelectorAll('link[href*="/porsche-design-system/fonts/porsche-next-w-la-regular"][rel="preload"]').length<1){const e=document.createElement("link");e.rel="preload",e.href="https://cdn.ui.porsche.com/porsche-design-system/fonts/porsche-next-w-la-regular.min.b8f1c203bd2ac5334247025236ba8d86.woff2",e.as="font",e.type="font/woff2",e.crossorigin=!0,document.head.appendChild(e)}if(document.querySelectorAll('link[href*="/porsche-design-system/fonts/porsche-next-w-la-semi-bold"][rel="preload"]').length<1){const e=document.createElement("link");e.rel="preload",e.href="https://cdn.ui.porsche.com/porsche-design-system/fonts/porsche-next-w-la-semi-bold.min.b5f6fca7225aa73578f65320bcf79b45.woff2",e.as="font",e.type="font/woff2",e.crossorigin=!0,document.head.appendChild(e)}if(document.querySelectorAll("style[data-pds-initial-styles]").length<1){const e=document.createElement("style");e.setAttribute("data-pds-initial-styles",""),e.innerHTML="uc-p-accordion,uc-p-banner,uc-p-button,uc-p-button-group,uc-p-button-pure,uc-p-button-tile,uc-p-carousel,uc-p-checkbox-wrapper,uc-p-content-wrapper,uc-p-crest,uc-p-display,uc-p-divider,uc-p-fieldset,uc-p-fieldset-wrapper,uc-p-flex,uc-p-flex-item,uc-p-flyout,uc-p-flyout-navigation,uc-p-flyout-navigation-item,uc-p-grid,uc-p-grid-item,uc-p-heading,uc-p-headline,uc-p-icon,uc-p-inline-notification,uc-p-link,uc-p-link-pure,uc-p-link-social,uc-p-link-tile,uc-p-link-tile-model-signature,uc-p-link-tile-product,uc-p-marque,uc-p-modal,uc-p-model-signature,uc-p-multi-select,uc-p-multi-select-option,uc-p-pagination,uc-p-pin-code,uc-p-popover,uc-p-radio-button-wrapper,uc-p-scroller,uc-p-segmented-control,uc-p-segmented-control-item,uc-p-select,uc-p-select-option,uc-p-select-wrapper,uc-p-spinner,uc-p-stepper-horizontal,uc-p-stepper-horizontal-item,uc-p-switch,uc-p-table,uc-p-table-body,uc-p-table-cell,uc-p-table-head,uc-p-table-head-cell,uc-p-table-head-row,uc-p-table-row,uc-p-tabs,uc-p-tabs-bar,uc-p-tabs-item,uc-p-tag,uc-p-tag-dismissible,uc-p-text,uc-p-text-field-wrapper,uc-p-text-list,uc-p-text-list-item,uc-p-textarea-wrapper,uc-p-toast,uc-p-wordmark{visibility:hidden}.hydrated,.ssr{visibility:inherit}",document.head.appendChild(e)}}})();const e=!1===window.GlobalConsent?.waitTimeout||"number"==typeof window.GlobalConsent?.waitTimeout?parseInt(window.GlobalConsent?.waitTimeout):3e3;if(e>0&&(window.GlobalConsent?.then||window.GlobalConsent?.waitFor)){const t=async()=>{i.aborted||(n.abort(),await te())},n=new AbortController,i=n.signal,s=AbortSignal.timeout(e);return window.GlobalConsent=await Promise.race([window.GlobalConsent,new Promise(((t,n)=>{setTimeout((()=>n("GlobalConsent initialization timed out.")),e)}))]).catch((e=>console.log(e))),window.GlobalConsent?.waitFor?(s.addEventListener("abort",(()=>{if(!i.aborted)return console.log("GlobalConsent.waitFor timed out."),void t()})),void window.addEventListener(window.GlobalConsent.waitFor,t,{once:!0,signal:AbortSignal.any([i,s])})):void t()}te()};"loading"!==document.readyState?ne():document.addEventListener("DOMContentLoaded",ne);
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const ie=globalThis,se=ie.ShadowRoot&&(void 0===ie.ShadyCSS||ie.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,re=Symbol(),oe=new WeakMap;class ae{constructor(e,t,n){if(this._$cssResult$=!0,n!==re)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(se&&void 0===e){const n=void 0!==t&&1===t.length;n&&(e=oe.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&oe.set(t,e))}return e}toString(){return this.cssText}}const ce=(e,...t)=>{const n=1===e.length?e[0]:t.reduce(((t,n,i)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[i+1]),e[0]);return new ae(n,e,re)},ue=se?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return(e=>new ae("string"==typeof e?e:e+"",void 0,re))(t)})(e):e,{is:le,defineProperty:de,getOwnPropertyDescriptor:he,getOwnPropertyNames:pe,getOwnPropertySymbols:ge,getPrototypeOf:fe}=Object,ve=globalThis,Se=ve.trustedTypes,Ee=Se?Se.emptyScript:"",me=ve.reactiveElementPolyfillSupport,ye=(e,t)=>e,Ie={toAttribute(e,t){switch(t){case Boolean:e=e?Ee:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},Ce=(e,t)=>!le(e,t),Te={attribute:!0,type:String,converter:Ie,reflect:!1,hasChanged:Ce};Symbol.metadata??=Symbol("metadata"),ve.litPropertyMetadata??=new WeakMap;class Ae extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=Te){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,t);void 0!==i&&de(this.prototype,e,i)}}static getPropertyDescriptor(e,t,n){const{get:i,set:s}=he(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get(){return i?.call(this)},set(t){const r=i?.call(this);s.call(this,t),this.requestUpdate(e,r,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Te}static _$Ei(){if(this.hasOwnProperty(ye("elementProperties")))return;const e=fe(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(ye("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(ye("properties"))){const e=this.properties,t=[...pe(e),...ge(e)];for(const n of t)this.createProperty(n,e[n])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,n]of t)this.elementProperties.set(e,n)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const n=this._$Eu(e,t);void 0!==n&&this._$Eh.set(n,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(ue(e))}else void 0!==e&&t.push(ue(e));return t}static _$Eu(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{if(se)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const n of t){const t=document.createElement("style"),i=ie.litNonce;void 0!==i&&t.setAttribute("nonce",i),t.textContent=n.cssText,e.appendChild(t)}})(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$EC(e,t){const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(void 0!==i&&!0===n.reflect){const s=(void 0!==n.converter?.toAttribute?n.converter:Ie).toAttribute(t,n.type);this._$Em=e,null==s?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(e,t){const n=this.constructor,i=n._$Eh.get(e);if(void 0!==i&&this._$Em!==i){const e=n.getPropertyOptions(i),s="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:Ie;this._$Em=i,this[i]=s.fromAttribute(t,e.type),this._$Em=null}}requestUpdate(e,t,n){if(void 0!==e){if(n??=this.constructor.getPropertyOptions(e),!(n.hasChanged??Ce)(this[e],t))return;this.P(e,t,n)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(e,t,n){this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$Em!==e&&(this._$Ej??=new Set).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,n]of e)!0!==n.wrapped||this._$AL.has(t)||void 0===this[t]||this.P(t,this[t],n)}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((e=>e.hostUpdate?.())),this.update(t)):this._$EU()}catch(t){throw e=!1,this._$EU(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&=this._$Ej.forEach((e=>this._$EC(e,this[e]))),this._$EU()}updated(e){}firstUpdated(e){}}Ae.elementStyles=[],Ae.shadowRootOptions={mode:"open"},Ae[ye("elementProperties")]=new Map,Ae[ye("finalized")]=new Map,me?.({ReactiveElement:Ae}),(ve.reactiveElementVersions??=[]).push("2.0.4");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const be=globalThis,_e=be.trustedTypes,we=_e?_e.createPolicy("lit-html",{createHTML:e=>e}):void 0,Oe="$lit$",Ne=`lit$${Math.random().toFixed(9).slice(2)}$`,Le="?"+Ne,De=`<${Le}>`,Re=document,Pe=()=>Re.createComment(""),Ve=e=>null===e||"object"!=typeof e&&"function"!=typeof e,ke=Array.isArray,Ue=e=>ke(e)||"function"==typeof e?.[Symbol.iterator],xe="[ \t\n\f\r]",Me=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Fe=/-->/g,Ge=/>/g,Be=RegExp(`>|${xe}(?:([^\\s"'>=/]+)(${xe}*=${xe}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),$e=/'/g,He=/"/g,je=/^(?:script|style|textarea|title)$/i,qe=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),Ye=qe(1),We=(qe(2),qe(3),Symbol.for("lit-noChange")),Je=Symbol.for("lit-nothing"),ze=new WeakMap,Qe=Re.createTreeWalker(Re,129);function Ke(e,t){if(!ke(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==we?we.createHTML(t):t}const Xe=(e,t)=>{const n=e.length-1,i=[];let s,r=2===t?"<svg>":3===t?"<math>":"",o=Me;for(let t=0;t<n;t++){const n=e[t];let a,c,u=-1,l=0;for(;l<n.length&&(o.lastIndex=l,c=o.exec(n),null!==c);)l=o.lastIndex,o===Me?"!--"===c[1]?o=Fe:void 0!==c[1]?o=Ge:void 0!==c[2]?(je.test(c[2])&&(s=RegExp("</"+c[2],"g")),o=Be):void 0!==c[3]&&(o=Be):o===Be?">"===c[0]?(o=s??Me,u=-1):void 0===c[1]?u=-2:(u=o.lastIndex-c[2].length,a=c[1],o=void 0===c[3]?Be:'"'===c[3]?He:$e):o===He||o===$e?o=Be:o===Fe||o===Ge?o=Me:(o=Be,s=void 0);const d=o===Be&&e[t+1].startsWith("/>")?" ":"";r+=o===Me?n+De:u>=0?(i.push(a),n.slice(0,u)+Oe+n.slice(u)+Ne+d):n+Ne+(-2===u?t:d)}return[Ke(e,r+(e[n]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),i]};class Ze{constructor({strings:e,_$litType$:t},n){let i;this.parts=[];let s=0,r=0;const o=e.length-1,a=this.parts,[c,u]=Xe(e,t);if(this.el=Ze.createElement(c,n),Qe.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(i=Qe.nextNode())&&a.length<o;){if(1===i.nodeType){if(i.hasAttributes())for(const e of i.getAttributeNames())if(e.endsWith(Oe)){const t=u[r++],n=i.getAttribute(e).split(Ne),o=/([.?@])?(.*)/.exec(t);a.push({type:1,index:s,name:o[2],strings:n,ctor:"."===o[1]?st:"?"===o[1]?rt:"@"===o[1]?ot:it}),i.removeAttribute(e)}else e.startsWith(Ne)&&(a.push({type:6,index:s}),i.removeAttribute(e));if(je.test(i.tagName)){const e=i.textContent.split(Ne),t=e.length-1;if(t>0){i.textContent=_e?_e.emptyScript:"";for(let n=0;n<t;n++)i.append(e[n],Pe()),Qe.nextNode(),a.push({type:2,index:++s});i.append(e[t],Pe())}}}else if(8===i.nodeType)if(i.data===Le)a.push({type:2,index:s});else{let e=-1;for(;-1!==(e=i.data.indexOf(Ne,e+1));)a.push({type:7,index:s}),e+=Ne.length-1}s++}}static createElement(e,t){const n=Re.createElement("template");return n.innerHTML=e,n}}function et(e,t,n=e,i){if(t===We)return t;let s=void 0!==i?n.o?.[i]:n.l;const r=Ve(t)?void 0:t._$litDirective$;return s?.constructor!==r&&(s?._$AO?.(!1),void 0===r?s=void 0:(s=new r(e),s._$AT(e,n,i)),void 0!==i?(n.o??=[])[i]=s:n.l=s),void 0!==s&&(t=et(e,s._$AS(e,t.values),s,i)),t}class tt{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,i=(e?.creationScope??Re).importNode(t,!0);Qe.currentNode=i;let s=Qe.nextNode(),r=0,o=0,a=n[0];for(;void 0!==a;){if(r===a.index){let t;2===a.type?t=new nt(s,s.nextSibling,this,e):1===a.type?t=new a.ctor(s,a.name,a.strings,this,e):6===a.type&&(t=new at(s,this,e)),this._$AV.push(t),a=n[++o]}r!==a?.index&&(s=Qe.nextNode(),r++)}return Qe.currentNode=Re,i}p(e){let t=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class nt{get _$AU(){return this._$AM?._$AU??this.v}constructor(e,t,n,i){this.type=2,this._$AH=Je,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=i,this.v=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=et(this,e,t),Ve(e)?e===Je||null==e||""===e?(this._$AH!==Je&&this._$AR(),this._$AH=Je):e!==this._$AH&&e!==We&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):Ue(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Je&&Ve(this._$AH)?this._$AA.nextSibling.data=e:this.T(Re.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:n}=e,i="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=Ze.createElement(Ke(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===i)this._$AH.p(t);else{const e=new tt(i,this),n=e.u(this.options);e.p(t),this.T(n),this._$AH=e}}_$AC(e){let t=ze.get(e.strings);return void 0===t&&ze.set(e.strings,t=new Ze(e)),t}k(e){ke(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,i=0;for(const s of e)i===t.length?t.push(n=new nt(this.O(Pe()),this.O(Pe()),this,this.options)):n=t[i],n._$AI(s),i++;i<t.length&&(this._$AR(n&&n._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this.v=e,this._$AP?.(e))}}class it{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,i,s){this.type=1,this._$AH=Je,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=s,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Je}_$AI(e,t=this,n,i){const s=this.strings;let r=!1;if(void 0===s)e=et(this,e,t,0),r=!Ve(e)||e!==this._$AH&&e!==We,r&&(this._$AH=e);else{const i=e;let o,a;for(e=s[0],o=0;o<s.length-1;o++)a=et(this,i[n+o],t,o),a===We&&(a=this._$AH[o]),r||=!Ve(a)||a!==this._$AH[o],a===Je?e=Je:e!==Je&&(e+=(a??"")+s[o+1]),this._$AH[o]=a}r&&!i&&this.j(e)}j(e){e===Je?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class st extends it{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Je?void 0:e}}class rt extends it{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Je)}}class ot extends it{constructor(e,t,n,i,s){super(e,t,n,i,s),this.type=5}_$AI(e,t=this){if((e=et(this,e,t,0)??Je)===We)return;const n=this._$AH,i=e===Je&&n!==Je||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==Je&&(n===Je||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class at{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){et(this,e)}}const ct=be.litHtmlPolyfillSupport;ct?.(Ze,nt),(be.litHtmlVersions??=[]).push("3.2.0");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class ut extends Ae{constructor(){super(...arguments),this.renderOptions={host:this},this.o=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this.o=((e,t,n)=>{const i=n?.renderBefore??t;let s=i._$litPart$;if(void 0===s){const e=n?.renderBefore??null;i._$litPart$=s=new nt(t.insertBefore(Pe(),e),e,void 0,n??{})}return s._$AI(e),s})(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this.o?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this.o?.setConnected(!1)}render(){return We}}ut._$litElement$=!0,ut.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:ut});const lt=globalThis.litElementPolyfillSupport;lt?.({LitElement:ut});(globalThis.litElementVersions??=[]).push("4.1.0");const dt=ce`
  .pds-loading,
  .hidden,
  .hidden * {
    display: none !important;
    z-index: -1000 !important;
  }

  .ccpa-intro {
    max-width: 800px;
  }

  .modal {
    .categories {
      padding-bottom: 16px;
    }

    .category {
      max-width: 1052px;
      margin-bottom: 10px;

      &:last-child {
        margin-bottom: 0;
      }

      .category-content {
        display: flex;
        justify-content: flex-start;

        uc-p-text-list {
          margin: 4px 0;
        }

        uc-p-text-list-item {
          align-items: baseline;
        }
      }
    }
  }
`,ht=ce`
  .heading {
    max-width: 1052px;

    &.ccpa {
      margin-bottom: 8px;
    }
  }

  .heading-top {
    display: flex;
    justify-content: space-between;

    @media screen and (max-width: 640px) {
      flex-direction: column;
    }

    .language-switch {
      display: flex;
      align-items: center;
      flex-wrap: nowrap;
      gap: 0.5rem;
      order: 1;

      @media screen and (max-width: 640px) {
        order: 0;
        margin-left: auto;
      }

      .separator {
        margin-top: -0.2rem;
      }

      .active {
        font-weight: bold;
      }
    }
  }

  .description {
    max-width: 1052px;

    @media screen and (max-width: 640px) {
      .description {
        line-height: 20px;
        font-size: 30px;
      }
    }

    div {
      margin-bottom: 8px;

      & > br:first-child {
        display: none;
      }
    }

    uc-p-text-list {
      margin: 8px 0;
    }

    uc-p-text-list-item {
      align-items: baseline;
    }
  }
`;class pt extends ut{static properties={firstLayer:{type:Boolean},largeFont:{type:Boolean}};constructor(){super(),this.ccpa=window.ucSdk?.gpcMode||document.getElementsByTagName("uc-layer2").item(0).getAttribute("ccpa"),this.firstLayer=!1,this.largeFont=!1}async firstUpdated(){this.languageSwitchElement=this.languageSwitch(),this.headline=L.getSettings().labels.secondLayer.title,this.subtitle=L.getSettings().labels.firstLayer.title,this.description="",this.init(),window.addEventListener("uc-language_changed",(()=>{this.updateLang()})),this.fixLinks()}async init(){this.headline=L.getSettings().labels.secondLayer.title,this.subtitle=L.getSettings().labels.firstLayer.title,this.description=this.getDescription(),this.requestUpdate()}async fixLinks(){const e=this.renderRoot?.querySelectorAll("a");if(window.ucSdk?.urlCookiePolicy&&""!==window.ucSdk?.urlCookiePolicy)for(var t=0;t<e.length;t++)e[t].href=window.ucSdk?.urlCookiePolicy}formatTextLists(e){return e.replace(/<(\/?)(?:ul|(li))/gi,((e,t,n)=>`${n&&t?"</uc-p-text>":""}<${t}uc-p-text-list${n?"-item":""}${n&&!t?`><uc-p-text size="${this.getTextSize()}"`:""}`))}getTextSize(){return this.largeFont?"{ base: 'x-small', s: 'small' }":"xx-small"}getDescription(){const e=this.firstLayer?L.getSettings().labels.firstLayer.description.default:L.getSettings().labels.secondLayer.description,t=document.createElement("div");return t.innerHTML=this.formatTextLists(`${e.replace(/style=".*?"/gi,"")}<style>a{color:rgb(1, 2, 5)};</style>`),window.ucSdk?.urlCookiePolicy&&""!==window.ucSdk?.urlCookiePolicy&&t.querySelectorAll("a").forEach((e=>{e.href=window.ucSdk?.urlCookiePolicy})),t}static styles=[ht];render(){return this.firstLayer?Ye`
          ${this.headline&&"true"!==this.ccpa?Ye`
                <div slot="heading" class="heading ccpa">
                  <uc-p-heading tag="h2" size="medium">${this.headline}</uc-p-headline>
                </div>
              `:Je}
          <div slot="text" class="text">
            <uc-p-text class="description" size="${this.getTextSize()}">
              ${"true"===this.ccpa?this.description:this.headline}
            </uc-p-text>
          </div>
        `:Ye`
      <div slot="heading" class="heading">
        ${"true"===this.ccpa?Je:Ye`
                <div class="heading-top" @click="${this.switchLang}">
                  ${this.languageSwitchElement}
                  <uc-p-text size="small" class="subtitle">${this.subtitle}</uc-p-text>
                </div>
              `}
        <uc-p-heading tag="h2" size="large" style="margin-bottom: 8px">${this.headline}</uc-p-headline>
      </div>
      <div slot="text" class="text">
        <uc-p-text class="description" size="${this.getTextSize()}" style="margin-bottom:20px">${this.description}</uc-p-text>
      </div>
    `}updateLang(){this.headline=L.getSettings().labels.secondLayer.title,this.subtitle=L.getSettings().labels.firstLayer.title,this.description=this.getDescription(),this.languageSwitchElement=this.languageSwitch(),this.requestUpdate()}languageSwitch(){const e=L.getSettingsCore();if(!window.ucSdk?.languages||window.ucSdk?.languages.length<=1)return"";{let t="";window.ucSdk?.languages.forEach(((n,i)=>{const s=n.split("-")[0]?.toLowerCase();i>0&&(t+='<span aria-hidden="true">|</span>'),t+=`<uc-p-button-pure icon="none" aria="{ 'aria-label': '${L.getAriaLabels()?.languageSelector} ${s.toUpperCase()}' }" data-lang="${s}" @click="${this.switchLang}">\n             <span ${e?.language?.selected===s?'style="font-weight: bold"':""}>${s.toUpperCase()}</span>\n           </uc-p-button-pure>`})),t+='<uc-p-icon size="xx-small" name="globe" aria-hidden="true"></uc-p-icon>';const n=document.createElement("div");return n.classList.add("language-switch"),n.innerHTML=t,n}}switchLang(e){const t=e.target.closest("uc-p-button-pure");t&&window.usercentrics.updateLanguage(t.dataset?.lang)}}customElements.define("uc-description",pt);const gt=ce`
  .deny {
    order: 2;
  }

  .save {
    order: 1;
  }

  .accept {
    order: 3;
    margin-left: auto;

    .reverse & {
      order: 1;
      margin-left: 0;
    }
  }

  .button-container {
    display: flex;
    gap: 15px;
  }

  @media screen and (max-width: 640px) {
    .button-container {
      flex-direction: column;
      gap: 10px;
    }

    .accept {
      width: 100%;
      order: 1;
      margin-left: 0;
    }

    .save {
      width: 100%;
      order: 2;
    }

    .deny {
      width: 100%;
      order: 3;
    }
  }
`;customElements.define("uc-footer",class extends ut{saveLabel;acceptLabel;denyLabel;constructor(){super(),this.attachShadow({mode:"open"}),this.ccpa=window.ucSdk?.gpcMode||document.getElementsByTagName("uc-layer2").item(0).getAttribute("ccpa"),this.updateLabels(),window.addEventListener("uc-language_changed",(()=>{this.updateLabels(),this.requestUpdate()}))}static styles=[gt];render(){const e="new"===this.getAttribute("variant");return Ye`
      <div class="button-container${"true"===this.ccpa||e?" reverse":""}">
        ${"true"===this.ccpa||e||!this.saveLabel?Je:Ye`
              <uc-p-button type="button" variant="tertiary" class="save" @click="${this.handleSave}">
                ${this.saveLabel}
              </uc-p-button>
            `}
        <uc-p-button
          type="button"
          class="deny"
          variant="${e?"secondary":"primary"}"
          @click="${this.handleDeny}"
        >
          <p style="text-align: center; margin: 0; padding: 0;">${this.denyLabel}</p>
        </uc-p-button>
        <uc-p-button type="button" class="accept" @click="${this.handleAccept}"> ${this.acceptLabel} </uc-p-button>
      </div>
    `}handleAccept(){this.dispatchEvent(new Event("accept"))}handleDeny(){this.dispatchEvent(new Event("deny"))}handleSave(){this.dispatchEvent(new Event("save"))}updateLabels(){if("true"===this.ccpa){const{legacySettings:{secondLayer:{acceptButtonText:e,denyButtonText:t}}}=L.getSettings();this.acceptLabel=e,this.denyLabel=t}else{const{labels:{buttons:{save:e,acceptAll:t,denyAll:n}}}=L.getSettings();this.saveLabel=e,this.acceptLabel=t,this.denyLabel=n}}});customElements.define("uc-layer2",class extends ut{constructor(){super(),this.ccpa=window.ucSdk.gpcMode,this.ccpaSettingsOpen=!1,this.module="false",L.initialUIValues.variant!==O.aD.DEFAULT&&L.initialUIValues.variant!==O.aD.CCPA||window.ucSdk.hideBanner||window.ucSdk.cookieOptin||window.ucSdk.paramOptin||window.ucSdk.paramOptout||"true"===localStorage.getItem("uc_user_interaction")||(this.module="true"),this.modalInformation=L.getSettings()._labels.ariaLabels.usercentricsCMPUI,this.spacingTop=100,window.location.search&&window.location.search.indexOf("cs_redirect=1")>=0&&(this.spacingTop=180),this.closeLayer=L.getSettings()._labels.ariaLabels.closeButton,this.closeButton="false";var e=new CustomEvent("ucEventsSDK",{detail:{data:{event:"ui_changed",element:"secondLayer",visibility:!0}}});window.dispatchEvent(e),window.addEventListener("consents_changed_finished",(()=>{this.requestUpdate()})),window.addEventListener("uc-language_changed",(()=>{this.updateLang()})),window.addEventListener("uc-layer2_hide",(()=>{this.module="false",this.displayOff[0].classList.add("hidden"),this.requestUpdate()})),window.addEventListener("uc-layer2_show",(()=>{this.module="true",L.setTrackingPixel({abTestVariant:L.getAbTestVariant(),eventType:O.aS.CMP_SHOWN}),this.displayOff[0].classList.remove("hidden"),this.requestUpdate()}))}async firstUpdated(){this.settingsId=this.getAttribute("id"),this.showEssential=this.getAttribute("essential"),this.showFunctional=this.getAttribute("functional"),this.showMarketing=this.getAttribute("marketing"),this.openAll=this.getAttribute("openAll"),this.displayOff=this.renderRoot?.querySelectorAll(".modal");"true"===window.ucSdk.closeButton&&(this.closeButton="true",this.requestUpdate()),"true"===this.ccpa&&(this.gpc=navigator.globalPrivacyControl,!0===this.gpc&&(this.module="false",this.displayOff[0].classList.add("hidden"),x(!0),this.requestUpdate()));const e=this.renderRoot?.querySelector("uc-p-modal");e&&e.addEventListener("dismiss",(()=>{this.module="false",this.displayOff[0].classList.add("hidden"),"true"===this.ccpa?U():x(),this.requestUpdate()}));const t=this.renderRoot?.querySelectorAll("uc-p-accordion");if(t.forEach((e=>e.addEventListener("update",(e=>{e.target.open=e.detail.open})))),"shown"!==this.showEssential){const e=this.renderRoot?.querySelectorAll(".category.essential");e.length>0&&(e[0].style.display="none")}if("unshown"===this.showFunctional){const e=this.renderRoot?.querySelectorAll(".category.functional");e.length>0&&(e[0].style.display="none")}if("unshown"===this.showMarketing){const e=this.renderRoot?.querySelectorAll(".category.marketing");e.length>0&&(e[0].style.display="none")}"true"===this.openAll&&t.forEach((e=>e.open=!0)),"true"===this.module?L.setTrackingPixel({abTestVariant:L.getAbTestVariant(),eventType:O.aS.CMP_SHOWN}):this.displayOff?.length>0&&"true"!==this.ccpa&&this.displayOff[0].classList.add("hidden"),await this.waitForPDS()}formatTextLists(e){return e.replace(/<(\/?)(?:ul|(li))/gi,((e,t,n)=>`${n&&t?"</uc-p-text>":""}<${t}uc-p-text-list${n?"-item":""}${n&&!t?`><uc-p-text size="${this.getTextSize()}"`:""}`))}getTextSize(){return"true"===this.ccpa?"{ base: 'x-small', s: 'small' }":"xx-small"}getDescription(e){const t=document.createElement("div");return t.innerHTML=this.formatTextLists(e),t.querySelector(".desc-short")||t||""}handleCcpaOpenSettings(){this.ccpaSettingsOpen=!0,this.requestUpdate()}handleCcpaCategorySwitch(e){e.currentTarget.checked=!e.currentTarget.checked}renderCategories(){if("true"===this.ccpa)return Ye`
        <div class="category">
          <div class="category-content" style="display:flex;">
            <uc-p-switch class="ccpa-category-switch" checked="true" @update="${this.handleCcpaCategorySwitch}">
              ${L.getSettings()?.labels?.buttons?.optOutNotice||L.getSettings()?.labels?.buttons?.save}
            </uc-p-switch>
          </div>
        </div>
      `;if("new"===this.getAttribute("variant"))return Je;let e=Ye``;return L.getCategories().forEach(((t,n)=>{const i=t.slug.charAt(0).toUpperCase()+t.slug.slice(1);if(!1===this[`show${i}`]||this[`hide${i}`])return;const s=t.isEssential||t.services.every((e=>e.consent.status));e=Ye`${e}
        <div class="category cat${n+1} ${t.slug}">
          <div class="category-content" style="display:flex;">
            <uc-p-checkbox-wrapper
              style="display:flex; align-self:flex-start; margin-top: 3px"
              label="${t.label}"
              hide-label="true"
            >
              <input
                type="checkbox"
                data-slug="${t.slug}"
                .disabled="${t.isEssential}"
                .checked="${s}"
              />
            </uc-p-checkbox-wrapper>
            <uc-p-accordion
              class="category${n+1}"
              id="heading${n+1}"
              heading="${t.label}"
              heading-tag="h3"
              compact="true"
              open="${this.openAll?"true":"false"}"
              style="margin-left:16px; flex-grow: 1;"
              @update="${this.handleToggleAccordion}"
            >
              <uc-p-text size="xx-small">${this.getDescription(t.description)}</uc-p-text>
            </uc-p-accordion>
          </div>
        </div>`})),e}static styles=[dt];render(){const e="true"===this.ccpa||"new"===this.getAttribute("variant"),t=this.renderCategories();return Ye`
      <uc-p-modal
        open=${this.module}
        aria="{ 'aria-label': '${this.modalInformation}' }"
        disable-backdrop-click="true"
        dismiss-button=${"true"===this.closeButton||"true"===this.ccpa&&!this.ccpaSettingsOpen}
        class="modal"
        backdrop="shading"
        style="--p-modal-spacing-top: ${this.spacingTop}px; --p-modal-spacing-bottom: 50px;"
      >
        ${"true"===this.ccpa?Ye`
              ${this.ccpaSettingsOpen?Ye`
                    <div>
                      <uc-description .largeFont="${e}"></uc-description>
                      <div class="categories">${t}</div>
                    </div>
                  `:Ye`
                    <div class="ccpa-intro">
                      <uc-description .firstLayer="${!0}" .largeFont="${e}"></uc-description>
                    </div>
                  `}
              <div slot="footer">
                ${this.ccpaSettingsOpen?Ye`
                      <uc-footer class="footer" @accept="${this.handleAccept}" @deny="${this.handleDeny}"></uc-footer>
                    `:Ye`
                      <uc-p-button @click="${this.handleCcpaOpenSettings}">
                        ${L.getSettings()?.labels?.buttons?.showSecondLayer}
                      </uc-p-button>
                    `}
              </div>
            `:Ye`
              <div>
                <uc-description .largeFont="${e}"></uc-description>
                ${t!==Je?Ye`<div class="categories">${t}</div>`:Je}
              </div>

              <div slot="footer">
                <uc-footer
                  class="footer"
                  variant="${this.getAttribute("variant")||Je}"
                  @save="${this.handleSave}"
                  @accept="${this.handleAccept}"
                  @deny="${this.handleDeny}"
                ></uc-footer>
              </div>
            `}
      </uc-p-modal>
    `}handleSave(){const e=L.getCategories(),t=this.shadowRoot.querySelectorAll('input[type="checkbox"]:not([disabled])'),n=Array.from(t).flatMap((({checked:t,dataset:{slug:n}})=>e.filter((({slug:e})=>e===n)).flatMap((({services:e})=>e.map((({id:e})=>({serviceId:e,status:t})))))));L.updateServices(n,G),window.dispatchEvent(new Event("consents_changed_finished")),this.close()}handleAccept(){"true"!==this.ccpa||this.shadowRoot.querySelector(".ccpa-category-switch")?.checked?U():x(),this.close()}handleDeny(){x(),this.close()}close(){this.module="false",this.displayOff[0].classList.add("hidden"),this.requestUpdate()}updateLang(){this.closeLayer=L.getSettings()._labels.ariaLabels.closeButton,this.requestUpdate()}async waitForPDS(){await _(),setTimeout((()=>{this.renderRoot?.querySelector(".pds-loading")?.classList.remove("pds-loading");const e=new Event("ucLayer2Shown");window.dispatchEvent(e)}),100)}});const ft=ce`
  .layer4 {
    max-width: 100vw;
  }

  .row {
    display: flex;
    justify-content: space-between;
    width: 100%;

    .state {
      position: relative;
      padding-left: 1.5em;
    }

    .state:before {
      content: '';
      width: 1.25em;
      height: 1.25em;
      border-radius: 49.9%;
      background: #959899;
      border: 1px solid #959899;
      position: absolute;
      top: 50%;
      left: 0;
      transform: translateY(-50%);
    }

    .state.true:before {
      background: #e3e4e4;
    }
  }

  .deny {
    margin-top: 30px;
    margin-left: 15px;
    order: 2;
  }

  .save {
    margin-top: 30px;
    order: 1;
  }

  .accept {
    float: right;
    order: 3;
    margin-top: 30px;
  }

  .modal {
    width: 100%;
    max-height: 100%;

    .categories {
      position: fixed;
      top: calc(var(--p-flyout-sticky-top, 0) + 10px);
      bottom: 100px;
      width: 220px;
      overflow-y: scroll;
      display: flex;
      word-wrap: break-word;

      @media screen and (max-width: 800px) {
        display: none;
      }
    }

    .listElement {
      max-width: 170px;
      margin-right: 10px;
      word-wrap: break-word;
    }

    .description {
      position: relative;
      margin-left: 240px;

      @media screen and (max-width: 800px) {
        margin-left: 0;
      }

      .category,
      .service {
        scroll-margin-top: 110px;
      }

      .category-desc {
        uc-p-text-list {
          margin: 8px 0;
        }
      }
    }

    &.menu-collapsed {
      .categories {
        display: none;
      }

      .description {
        margin-left: 0;
      }
    }
  }

  .menubar {
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    position: relative;

    @media screen and (max-width: 800px) {
      display: block;
    }
  }

  .logoMenu {
    margin-top: 20px;
    display: flex;
    user-select: none;
  }

  @media screen and (max-width: 640px) {
    .logoMenu {
      display: none;
    }
  }

  @media screen and (max-width: 800px) {
    .logoMenu {
      flex-direction: column;
      align-items: center;
      margin-top: 0;
    }
  }

  .menu {
    position: absolute;
    left: 199px;
    top: 14px;
    cursor: pointer;

    @media screen and (max-width: 800px) {
      display: none;
    }
  }

  .search {
    margin-left: calc(100% - 70%);
    margin-bottom: 10px;
  }

  @media screen and (max-width: 800px) {
    .search {
      margin-top: 20px;
      margin-left: 0;
      width: 100%;
    }
  }

  .close {
    cursor: pointer;
  }

  @media screen and (max-width: 800px) {
    .menubar {
      margin-top: 14px;
    }
  }

  .checkbox {
    font:
      900 1rem / calc(6px + 2.125ex) 'Porsche Next',
      'Arial Narrow',
      Arial,
      'Heiti SC',
      SimHei,
      sans-serif;
  }

  .line {
    border: 1px solid rgb(153, 153, 153, 0.3);
    margin-right: 10px;
  }
`;customElements.define("uc-layer4",class extends ut{static get properties(){return{dialogVisible:{type:Boolean},shownValue:{type:String,attribute:!1}}}constructor(){super(),this.list=document.createElement("div"),this.info=document.createElement("div"),this.aName=[],this.aCategories=[],this.aInfo=[],this.aCompany=[],this.aPurposes=[],this.aPurposesList=[],this.aUsedTechnologies=[],this.aUsedTechnologiesList=[],this.aDataCollected=[],this.aDataCollectedList=[],this.aLegalBasis=[],this.aLegalBasisList=[],this.aLocation=[],this.aRetention=[],this.aDataRecipients=[],this.aDataRecipientsList=[],this.aUrls=[],this.aHistory=[],this.status=!1,this.theme="light",this.aCheckBox=[],this.checked="",this.serviceID="",this.nameList=[]}async firstUpdated(){for(let t=0;t<L.getCategories().length;t++){this.category=L.getCategories()[t].label,this.baseInfo=L.getCategories()[t],this.description=this.getDescription(L.getCategories()[t].description);for(let t=0;t<this.baseInfo.services.length;t++){if(this.name=this.baseInfo.services[t].name,this.nameList.push(this.name),this.aName.push(`<br><uc-p-button-pure icon="none" class="xList" data="${this.name}">${this.name}</uc-p-button-pure><br>`),this.status=this.baseInfo.services[t].consent.status,this.desc=this.baseInfo.services[t].description,this.serviceID=this.baseInfo.services[t].id,0!==this.baseInfo.services[t].processingCompany.name.length&&(this.processingCompanyTitle=L.getSettingsLabels().service.processingCompanyTitle,this.processingCompany=this.baseInfo.services[t].processingCompany.name,this.processingCompanyAddress=this.baseInfo.services[t].processingCompany.address,this.aCompany.push(`\n         <uc-p-text style="margin-top:20px" ><b>${this.processingCompanyTitle}</b>  <br> ${this.processingCompany}<br> ${this.processingCompanyAddress}<br> </uc-p-text>`)),this.baseInfo.services[t].dataPurposes.length>0){this.purposesTitle=L.getSettingsLabels().service.dataPurposes.title,this.purposesDesc=L.getSettingsLabels().service.dataPurposes.description;for(let e=0;e<this.baseInfo.services[t].dataPurposes.length;e++)this.purposesList=this.baseInfo.services[t].dataPurposes[e],this.aPurposesList.push(`<uc-p-text-list-item>${this.purposesList}</uc-p-text-list-item>`);this.aPurposes.push(`<uc-p-text style="margin-top:20px"><b>${this.purposesTitle}</b><br> ${this.purposesDesc}<br> <uc-p-text-list>${this.aPurposesList.join("")}</uc-p-text-list></uc-p-text>`),this.aPurposesList=[]}if(this.baseInfo.services[t].technologiesUsed.length>0){this.technologieTitle=L.getSettingsLabels().service.technologiesUsed.title,this.technologieDesc=L.getSettingsLabels().service.technologiesUsed.description;for(let e=0;e<this.baseInfo.services[t].technologiesUsed.length;e++)this.usedTechnologiesList=this.baseInfo.services[t].technologiesUsed[e],this.aUsedTechnologiesList.push(`<uc-p-text-list-item>${this.usedTechnologiesList}</uc-p-text-list-item>`);this.aUsedTechnologies.push(`<uc-p-text style="margin-top:20px"><b>${this.technologieTitle}</b><br> ${this.technologieDesc}<br> <uc-p-text-list>${this.aUsedTechnologiesList.join("")}</uc-p-text-list></uc-p-text>`),this.aUsedTechnologiesList=[]}if(this.baseInfo.services[t].legalBasis.length>0){this.legalBasisTitle=L.getSettingsLabels().service.legalBasis.title,this.legalBasisDesc=L.getSettingsLabels().service.legalBasis.description;for(let e=0;e<this.baseInfo.services[t].legalBasis.length;e++)this.legalBasisList=this.baseInfo.services[t].legalBasis[e],this.aLegalBasisList.push(`<uc-p-text-list-item>${this.legalBasisList}</uc-p-text-list-item>`);this.aLegalBasis.push(`<uc-p-text style="margin-top:20px"><b>${this.legalBasisTitle}</b><br> ${this.legalBasisDesc}<br> <uc-p-text-list>${this.aLegalBasisList.join("")}</uc-p-text-list></uc-p-text>`),this.aLegalBasisList=[]}if(this.baseInfo.services[t].dataCollected.length>0){this.dataCollectedTitle=L.getSettingsLabels().service.dataCollected.title,this.dataCollectedDesc=L.getSettingsLabels().service.dataCollected.description;for(let e=0;e<this.baseInfo.services[t].dataCollected.length;e++)this.dataCollectedList=this.baseInfo.services[t].dataCollected[e],this.aDataCollectedList.push(`<uc-p-text-list-item>${this.dataCollectedList}</uc-p-text-list-item>`);this.aDataCollected.push(`<uc-p-text style="margin-top:20px"><b>${this.dataCollectedTitle}</b><br> ${this.dataCollectedDesc}<br> <uc-p-text-list>${this.aDataCollectedList.join("")}</uc-p-text-list></uc-p-text>`),this.aDataCollectedList=[]}if(this.baseInfo.services[t].dataDistribution.processingLocation.length>0&&(this.processingLocationTitle=L.getSettingsLabels().service.dataDistribution.processingLocationTitle,this.processingLocationDesc=this.baseInfo.services[t].dataDistribution.processingLocation,this.aLocation.push(`<uc-p-text style="margin-top:20px"><b>${this.processingLocationTitle}</b><br> ${this.processingLocationDesc}<br> </uc-p-text>`)),this.baseInfo.services[t].retentionPeriodDescription.length>1?(this.retentionTitle=L.getSettingsLabels().service.retentionPeriod.title,this.retentionDesc=this.baseInfo.services[t].retentionPeriodDescription,this.aRetention.push(`<uc-p-text style="margin-top:20px"><b>${this.retentionTitle}</b><br> ${this.retentionDesc}<br> </uc-p-text>`)):(this.retentionTitle=L.getSettingsLabels().service.retentionPeriod.title,this.retentionDesc=L.getSettingsLabels().service.retentionPeriod.description,this.aRetention.push(`<uc-p-text style="margin-top:20px"><b>${this.retentionTitle}</b><br> ${this.retentionDesc}<br> </uc-p-text>`)),this.baseInfo.services[t].dataRecipients.length>0){this.dataRecipientsTitle=L.getSettingsLabels().service.dataRecipients.title;for(let e=0;e<this.baseInfo.services[t].dataRecipients.length;e++)this.dataRecipientsDesc=this.baseInfo.services[t].dataRecipients[e],this.aDataRecipientsList.push(`<uc-p-text-list-item>${this.dataRecipientsDesc}</uc-p-text-list-item>`);this.aDataRecipients.push(`<uc-p-text style="margin-top:20px"><b>${this.dataRecipientsTitle}</b><br><uc-p-text-list>${this.aDataRecipientsList.join("")}</uc-p-text-list></uc-p-text>`),this.aDataRecipientsList=[]}this.urlTitle=L.getSettingsLabels().service.urls.privacyPolicyTitle,this.url=this.baseInfo.services[t].urls.privacyPolicy,this.url&&this.aUrls.push(`<uc-p-text style="margin-top:20px"><b>${this.urlTitle}</b></uc-p-text>\n            ${this.url.split(";").map((e=>`<uc-p-link-pure icon="none" href="${e}" target="_blank" style="word-break: break-all;">${e}</uc-p-link-pure><br> `)).join("")}\n            `),this.historyTitle=L.getSettingsLabels().service.history.title,this.aHistory.push(`<uc-p-text style="margin-top:20px"><b>${this.historyTitle}</b> </uc-p-text>`),this.aHistoryStatus=[];for(var e=0;e<this.baseInfo.services[t].consent.history.length;e++){if(this.history=this.baseInfo.services[t].consent.history[e].status,this.timestamp=this.baseInfo.services[t].consent.history[e].timestamp,this.timestamp){const e=new Date(this.timestamp);this.dateTimeString=e?e.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+", "+e.toLocaleTimeString():""}else this.dateTimeString="";this.statusString=L.getSettingsLabels().general.consentNotGiven,!0===this.history&&(this.statusString=L.getSettingsLabels().general.consentGiven),this.aHistoryStatus.push(`<uc-p-text><div class="row"><span class="state ${this.history}">${this.statusString}</span> <text style="">${this.dateTimeString}</text></div></uc-p-text>`)}!0===this.status?(this.checked="checked",!0===this.baseInfo.isEssential&&(this.checked=" disabled checked")):this.checked="",this.aCheckBox.push(`<br>\n            <div style="display:flex; margin-bottom:0.5em;"><uc-p-checkbox-wrapper label="${this.name}" hide-label="true" style="display:flex; align-self:flex-start" theme=${this.theme} class="service" data="${this.name}">\n              <input type="checkbox" ${this.checked} data-state="${this.status}" id="${this.serviceID}" class="check"/>\n              </uc-p-checkbox-wrapper><uc-p-text theme=${this.theme}></uc-p-text>\n              <div>\n                <uc-p-text style="margin-left:5px"><font size="4"><b> ${this.name}</b></font></uc-p-text>\n              </div>\n            </div>\n            <uc-p-text>${this.desc}</uc-p-text>\n            ${this.aCompany.join("")}\n            ${this.aPurposes.join("")}\n            ${this.aUsedTechnologies.join("")}\n            ${this.aDataCollected.join("")}\n            ${this.aLegalBasis.join("")}\n            ${this.aLocation.join("")}\n            ${this.aRetention.join("")}\n            ${this.aDataRecipients.join("")}\n            ${this.aUrls.join("")}\n            ${this.aHistory.join("")}\n            ${this.aHistoryStatus.join("")}\n            <br>\n          `),this.aCompany=[],this.aPurposes=[],this.aUsedTechnologies=[],this.aDataCollected=[],this.aLegalBasis=[],this.aLocation=[],this.aRetention=[],this.aDataRecipients=[],this.aUrls=[],this.aHistory=[],this.aHistoryStatus=[]}this.aCategories.push(`\n         <uc-p-button-pure icon="none" class="button" style="font: 600 1rem" data="${this.category}"\n\n        ><font size="4"><b >${this.category}</b></font></uc-p-button-pure><br>${this.aName.join("")}<br><hr class="line"><br>`),this.aInfo.push(`<uc-p-heading tag="h3" size="large" class="category"> ${this.category}</uc-p-heading><br>\n        <uc-p-text class="category-desc">\n          ${this.description}\n        </uc-p-text><br> ${this.aCheckBox.join("")}\n\n        `),this.aName=[],this.aCheckBox=[],this.aCompany=[]}this.list.innerHTML=this.aCategories.join(""),this.info.innerHTML=this.aInfo.join(""),this.requestUpdate(),setTimeout((function(){window.serviceName}),100),window.addEventListener("consents_changed_finished",(()=>{this.module="false",this.requestUpdate()})),window.addEventListener("uc-layer4_hide",(()=>{this.module="false",this.requestUpdate()})),window.addEventListener("uc-layer4_show",(()=>{"true"===this.getAttribute("global")&&(this.module="true",this.requestUpdate())})),window.addEventListener("uc-layer4_scroll",(()=>{var e=this.renderRoot?.querySelectorAll(".category"),t=this.renderRoot?.querySelectorAll(".service");for(let t=0;t<e.length;t++)window.serviceName===L.getCategories()[t].label&&e[t].scrollIntoView();for(let e=0;e<t.length;e++)window.serviceName===t[e].getAttribute("data")&&t[e].scrollIntoView()})),await new Promise((e=>setTimeout(e,0))),this.menuId=this.renderRoot?.querySelectorAll(".button"),this.menuList=this.renderRoot?.querySelectorAll(".xList");var t=this.renderRoot?.querySelectorAll(".category"),n=this.renderRoot?.querySelectorAll(".service");setTimeout((function(){for(let e=0;e<t.length;e++)window.serviceName===L.getCategories()[e].label&&t[e].scrollIntoView()}),100),setTimeout((function(){for(let e=0;e<n.length;e++)window.serviceName===n[e].getAttribute("data")&&n[e].scrollIntoView()}),100);for(let e=0;e<this.menuId.length;e++)this.menuId[e].addEventListener("click",(()=>{t[e].scrollIntoView()}));for(let e=0;e<this.menuList.length;e++)this.menuList[e].addEventListener("click",(()=>{n[e].scrollIntoView()}));const i=new IntersectionObserver((e=>e.forEach((e=>{e.isIntersecting&&(this.itemFocused=e.target)}))),{rootMargin:"-100px 0px -50% 0px",threshold:1});this.renderRoot?.querySelectorAll(".category, .service").forEach((e=>{i.observe(e)}))}formatTextLists(e){return e.replace(/<(\/?)(?:ul|(li))/gi,((e,t,n)=>`<${t}uc-p-text-list${n?"-item":""}`))}getDescription(e){const t=document.createElement("div");return t.innerHTML=this.formatTextLists(e),t.querySelector(".desc-long")?.innerHTML||t.innerHTML||""}static styles=[ft];render(){return Ye`
      <uc-p-flyout aria="{ 'aria-label': '' }" open="${this.module}" class="layer4" @dismiss="${this.handleSave}">

        <div slot="header">
          <div class=menubar>

            <div class="logoMenu">
              <div class="privacyLogo">
                <uc-p-wordmark size="inherit" style="height: 11px;"></uc-p-wordmark>
                <uc-p-button-pure
                  type="button"
                  icon="menu-lines"
                  hide-label="true"
                  aria="{ 'aria-label': 'Toggle side menu' }"
                  class="menu"
                  @click="${this.toggleSidebar}"
                ></uc-p-button-pure>
              </div>
            </div>

            <div class="search" aria-hidden="true">
              <uc-p-text-field-wrapper>
                <input type="search" name="some-name" id="search" value="${this.shownValue}" @change="${this.search}"/>
                <style>
                  /* clears the ‘X’ from Internet Explorer */
                  input[type=search]::-ms-clear {
                    display: none;
                    width: 0;
                    height: 0;
                  }

                  input[type=search]::-ms-reveal {
                    display: none;
                    width: 0;
                    height: 0;
                  }

                  /* clears the ‘X’ from Chrome */
                  input[type="search"]::-webkit-search-decoration,
                  input[type="search"]::-webkit-search-cancel-button,
                  input[type="search"]::-webkit-search-results-button,
                  input[type="search"]::-webkit-search-results-decoration {
                    display: none;
                  }
                </style>

              </uc-p-text-field-wrapper>
            </div>

          </div>
        </div>

        <div class="modal">
          <div class="categories" aria-hidden="true">
            <uc-p-text id="listElement" class="listElement"> ${this.list}
              <uc-p-text><br>
          </div>

          <div class="description">
            <uc-p-text> ${this.info}</uc-p-text>
          </div>
        </div>

        <div slot="footer">
          <uc-footer class="footer"
            @save="${this.handleSave}"
            @accept="${this.handleAccept}"
            @deny="${this.handleDeny}"
          ></uc-footer>
        </div>

      </uc-p-flyout>
    `}handleSave(){const e=this.shadowRoot.querySelectorAll('input[type="checkbox"]:not([disabled])'),t=Array.from(e).filter((({checked:e,dataset:{state:t}})=>e.toString()!==t)).map((({id:e,checked:t})=>({serviceId:e,status:t})));L.updateServices(t,G),this.close()}handleAccept(){U(),this.close()}handleDeny(){x(),this.close()}close(){this.module="false",this.requestUpdate()}toggleSidebar(){const e=this.renderRoot?.querySelector(".modal");e.classList.toggle("menu-collapsed"),this.itemFocused?.scrollIntoView()}search(e){this.shownValue=e.srcElement.value;var t=this.renderRoot?.querySelectorAll(".service");for(let e=0;e<this.nameList.length;e++){new RegExp(this.shownValue,"gi").test(this.nameList[e])&&t[e].scrollIntoView()}}});const vt=ce`
  .widget {
    max-width: 800px;
    border: 1px;
    padding: 12px 10px 5px 10px;
    margin-bottom: 20px;

    .category {
      position: relative;
      padding-right: 40px;
      margin-bottom: 24px;

      &:last-child {
        margin-bottom: 0;
      }

      .category-head {
        display: flex;
        align-items: center;
      }

      .category-text {
        margin: 22px 0 30px;

        uc-p-text-list {
          margin: 8px 0;
        }
      }

      .service {
        display: flex;
        margin-bottom: 24px;

        &:last-child {
          margin-bottom: 0;
        }

        .text {
          margin-left: 10px;

          .name {
            display: flex;
          }
        }
      }
    }
  }
`;customElements.define("uc-widget",class extends ut{constructor(){super(),this.attachShadow({mode:"open"}),this.infoIcon=L.getSettings().labels.ariaLabels.ccpaMoreInformation,this.theme="light",(window.ucSdk.darkMode||window.ucSdk.darkWidget||document.getElementById("dark"))&&(this.theme="dark"),this.categories=L.getCategories(),this.html="",this.showInfo=document.createElement("div");for(let e=0;e<this.categories.length;e++){let t="",n=!0;for(let i=0;i<this.categories[e].services.length;i++){!0!==this.categories[e].services[i].consent.status&&(n=!1);let s="margin-bottom: 24px; display: flex;";i+1===this.categories[e].services.length&&(s="display: flex;"),t+=`<div class="service" style="${s}">\n            <uc-p-checkbox-wrapper theme=${this.theme} class="check" label="${this.categories[e].services[i].name}" hide-label="true" >\n              <input\n                type="checkbox"\n                name="check-${this.categories[e].services[i].id}"\n                id="check-${this.categories[e].services[i].id}"\n                data-id="${this.categories[e].services[i].id}"\n                class="check service ${this.categories[e].services[i].isEssential?"essential":""}"\n                ${!0===this.categories[e].services[i].consent.status?"checked":""}\n                ${!0===this.categories[e].services[i].isEssential?"disabled":""} />\n            </uc-p-checkbox-wrapper>\n\n            <div class="text" style="margin-left: 10px;">\n              <div class="name" style="display: flex;">\n                <uc-p-text theme=${this.theme}>\n                    <b style="${this.categories[e].isEssential?" color: #757575":""}">\n                        ${this.categories[e].services[i].name}\n                    </b>\n                </uc-p-text>\n\n                <uc-p-button-pure\n                  class="info-icon"\n                  icon="information"\n                  tabindex="0"\n                  id="info-${this.categories[e].services[i].id}"\n                  data-id="${this.categories[e].services[i].id}"\n                  data-name="${this.categories[e].services[i].name}"\n                  theme=${this.theme}\n\n                  aria="{ 'aria-label': '${this.infoIcon}' }"\n                  style="margin-left:10px; cursor:pointer;">\n                </uc-p-button-pure>\n              </div>\n              <uc-p-text theme=${this.theme}>\n                  ${this.categories[e].services[i].description}\n              </uc-p-text>\n            </div>\n          </div>\n          `}this.html+=`<div class="category ${this.categories[e].isEssential?" essential":""}" style="padding-right: 40px; margin-bottom: 24px;">\n          <div class="category-head" style="display: flex;">\n            <uc-p-checkbox-wrapper label="${this.categories[e].label}" hide-label="true" theme=${this.theme}>\n              <input\n                  type="checkbox"\n                  name="check-${this.categories[e].slug}"\n                  id="check-${this.categories[e].slug}"\n                  data-id="${this.categories[e].slug}"\n                  class="check category"\n                  ${!this.categories[e].isEssential&&n?" checked":""}\n                  ${this.categories[e].isEssential?" disabled checked":""} />\n            </uc-p-checkbox-wrapper>\n            <uc-p-text theme=${this.theme} style="margin-left:10px;">\n              <b style="font-size: 1.125rem;${this.categories[e].isEssential?" color:#757575":""}">\n                ${this.categories[e].label}\n              </b>\n            </uc-p-text>\n            <uc-p-button-pure\n              class="info-icon"\n              icon="information"\n\n              id="info-${this.categories[e].slug}"\n              data-id="${this.categories[e].slug}"\n              data-name="${this.categories[e].label}"\n              theme=${this.theme}\n\n              aria="{ 'aria-label': '${this.infoIcon}' }"\n              style="margin-left:10px; cursor:pointer;">\n            </uc-p-button-pure>\n          </div>\n          <uc-p-accordion\n            theme=${this.theme}\n            id="accordion-${this.categories[e].label}"\n            heading-tag="h3"\n            style="position: relative;"\n            class="accordion"\n            aria="{ 'aria-label': '${this.infoIcon}' }"\n            >\n\n            <uc-p-text class="category-text" theme=${this.theme} style="margin: 22px 0 30px;">\n               ${this.getDescription(this.categories[e].description)}\n            </uc-p-text>\n\n            ${t}\n          </uc-p-accordion>\n        </div>`}this.widget=document.createElement("div"),this.widget.innerHTML=this.html,this.requestUpdate(),window.addEventListener("uc-language_changed",(()=>{this.updateLang()}))}async firstUpdated(){window.addEventListener("consents_changed_finished",(()=>{this.updateWidget()})),setTimeout((()=>{this.shadowRoot.querySelectorAll("uc-p-accordion").forEach((e=>{var t=document.createElement("style");t.innerHTML="#accordion-control { position:absolute; width: 24px; top: -41px; right: -40px;}",e.shadowRoot?.appendChild(t),e.addEventListener("update",(e=>{e.target.open=e.detail.open}))}))}),1),this.infoIcons=this.renderRoot?.querySelectorAll(".info-icon");for(let e=0;e<this.infoIcons.length;e++)this.infoIcons[e]?.addEventListener("click",(e=>{this.openInfo(),window.serviceName=e.target.getAttribute("data-name")}));this.categoryCheckboxes=this.renderRoot?.querySelectorAll("input.check.category:not(.essential)");for(let e=0;e<this.categoryCheckboxes.length;e++)this.categoryCheckboxes[e]?.addEventListener("change",(e=>{let t=!1;const n=e.target.getAttribute("data-id"),i=[];e.target.checked&&(t=!0);for(let e=0;e<this.categories.length;e++)if(this.categories[e].slug===n)for(let n=0;n<this.categories[e].services.length;n++)i.push({serviceId:this.categories[e].services[n].id,status:t});L.updateServices(i,G)}));this.serviceCheckboxes=this.renderRoot?.querySelectorAll("input.check.service:not(.essential)");for(let e=0;e<this.serviceCheckboxes.length;e++)this.serviceCheckboxes[e]?.addEventListener("change",(e=>{let t=!1;const n=e.target.getAttribute("data-id");e.target.checked&&(t=!0),window.usercentrics.updateConsents([{templateId:n,status:t}])}))}formatTextLists(e){return e.replace(/<(\/?)(?:ul|(li))/gi,((e,t,n)=>`<${t}uc-p-text-list${n?"-item":""}`))}getDescription(e){const t=document.createElement("div");return t.innerHTML=this.formatTextLists(e),t.querySelector(".desc-long")?.innerHTML||t.innerHTML||""}static styles=[vt];render(){return Ye` <div class="widget">${this.widget} ${this.showInfo}</div> `}openInfo(){this.showInfo.innerHTML="<uc-layer4></uc-layer4>"}updateWidget(){this.categories=L.getCategories();for(let e=0;e<this.categories.length;e++){let t=!0;for(let n=0;n<this.categories[e].services.length;n++){if(!this.categories[e].services[n].isEssential){const i=this.renderRoot?.querySelector('input.check.service[data-id="'+this.categories[e].services[n].id+'"]');i&&(!0===this.categories[e].services[n].consent.status?i.checked=!0:(i.checked=!1,t=!1))}const i=this.renderRoot?.querySelector('input.check.category[data-id="'+this.categories[e].slug+'"]');i.checked=t}}}updateLang(){this.categories=L.getCategories();for(let e=0;e<this.categories.length;e++){const t=this.renderRoot?.querySelector("div.category:nth-of-type("+(e+1)+") .category-head uc-p-checkbox-wrapper"),n=t?.shadowRoot?.querySelector("label"),i=t?.querySelector("input"),s=this.renderRoot?.querySelector("div.category:nth-of-type("+(e+1)+") .category-head uc-p-text b"),r=this.renderRoot?.querySelector("div.category:nth-of-type("+(e+1)+") .category-text");n.innerHTML=this.categories[e].label,i.setAttribute("aria-label",this.categories[e].label),s.innerHTML=this.categories[e].label,r.innerHTML=this.getDescription(this.categories[e].description);for(let t=0;t<this.categories[e].services.length;t++){const n=this.renderRoot?.querySelector("div.category:nth-of-type("+(e+1)+") div.service:nth-of-type("+(t+1)+")"),i=n?.querySelector("uc-p-checkbox-wrapper"),s=i?.shadowRoot?.querySelector("label"),r=i?.querySelector("input"),o=n?.querySelector(".name uc-p-text b"),a=n?.querySelector(".text > uc-p-text");s.innerHTML=this.categories[e].services[t].name,r.setAttribute("aria-label",this.categories[e].services[t].name),o.innerHTML=this.categories[e].services[t].name,a.innerHTML=this.categories[e].services[t].description}}this.requestUpdate()}});const St=ce`
  .ucmodal-content {
    position: absolute;
    inset: 0;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center center;
    background-color: rgba(0, 0, 0, 0.85);
    z-index: 3;
    color: #ffffff;
  }
  .distances {
    position: absolute;
    width: 75%;
    max-width: 996px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    max-height: 100%;
    overflow: auto;
  }

  .headline {
    margin-bottom: 20px;
  }
  .text {
    margin-bottom: 20px;
    margin-right: 20px;
  }

  .buttons {
    //padding-right: 50px;
    margin-bottom: 10px !important;
  }

  .save {
    margin-right: 20px;
    @media screen and (max-width: 640px) {
      margin-bottom: 20px !important;
      margin-right: 0px;
      width: 100%;
    }
  }

  @media screen and (max-width: 640px) {
    .privacy {
      width: 100%;
    }
  }

  .open-layer4 {
    text-decoration: underline;
  }
`;customElements.define("uc-privacyshield",class extends ut{constructor(){super(),this.headline="",this.text="",this.save="",this.privacy="",this.link="",this.callbackIndex=0,this.aTemplateId=[]}async firstUpdated(){if(window.addEventListener("consents_changed_finished",(()=>{this.checkState()})),this.displayOff=this.renderRoot?.querySelectorAll(".ucmodal"),this.headline=this.getAttribute("headline"),this.text=this.getAttribute("text"),this.save=this.getAttribute("buttonLabel"),this.privacy=this.getAttribute("linkLabel"),this.link=this.getAttribute("link"),this.callbackIndex=this.getAttribute("callbackIndex"),this.aTemplateId=this.getAttribute("IDs")?.split(/,/),this.privacyIds=[],this.aName=[],this.list=document.createElement("div"),this.showInfo=document.createElement("div"),this.bgImageStyle=window.ucPrivacyShield?.bgimage?'background-image: url("'+window.ucPrivacyShield?.bgimage+'");':"",this.aTemplateId)for(let e=0;e<this.aTemplateId.length;e++)for(let t=0;t<L.getServices().length;t++)L.getServices()[t].id!==this.aTemplateId[e]&&L.getServices()[t].name!==this.aTemplateId[e].trim()&&L.getServices()[t].id!==R(this.aTemplateId[e].trim())||(this.privacyIds.push(L.getServices()[t].id),this.aName.push('<uc-p-button-pure theme="dark" icon="none" class="open-layer4" data-id="'+L.getServices()[t].id+'">'+L.getServices()[t].name+"</uc-p-button-pure>"),window.infoName=L.getServices()[t].name);this.newText=this.text?.replaceAll(/###SERVICE###/gi,this.aName.join(", ")),this.list.innerHTML=this.newText,this.checkState(),this.requestUpdate(),window.setTimeout((()=>{this.renderRoot?.querySelectorAll(".open-layer4").forEach((e=>{e.addEventListener("click",(t=>{if(t.target!==this){for(let t=0;t<L.getServices().length;t++)e.innerHTML.includes(L.getServices()[t].name)&&(window.serviceName=L.getServices()[t].name);this.showInfo.style.zIndex="100",this.showInfo.innerHTML="<uc-layer4></uc-layer4>"}}))}))}),1)}static styles=[St];render(){return Ye`
      <div class="ucmodal">
        <div class="ucmodal-content" style=${this.bgImageStyle}>
          <div class="distances" data-ol-has-click-handler>
            <uc-p-heading tag="h1" class="headline" theme="dark" size="large">${this.headline} </uc-p-heading>
            <uc-p-text class="text" theme="dark">${this.list}</uc-p-text>
            <div class="buttons">
              <uc-p-button theme="dark" class="save" @click=${this.accept}>${this.save}</uc-p-button>

              <uc-p-link theme="dark" variant="secondary" class="privacy" href=${this.link||"#"} target="_blank"
                >${this.privacy}</uc-p-link
              >
            </div>
          </div>
        </div>
        ${this.showInfo}
      </div>
    `}accept(){this.privacyIds.forEach((function(e){window.usercentrics.updateConsents([{templateId:e,status:!0}])})),this.displayOff[0].style.display="none","function"==typeof window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)]&&(window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)](),window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)]=function(){})}checkState(){let e=!0;this.privacyIds.forEach((t=>{window.usercentrics.getConsents(t).consentStatus||(e=!1,this.displayOff&&(this.displayOff[0].style.display=""))})),e&&(this.displayOff[0].style.display="none","function"==typeof window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)]&&(window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)](),window.ucPrivacyShield.callbacks[parseInt(this.callbackIndex)]=function(){}))}});const Et=ce`
  .ucmodal-content {
    position: absolute;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.6);
    z-index: 3;
  }

  .distances {
    max-width: 996px;
    background-color: white;
    border-radius: 12px;
    position: absolute;
    top: 50%;
    left: 50%;
    z-index: 10;
    transform: translate(-50%, -50%);
    max-height: 100%;
    width: 75%;
    overflow: auto;
  }

  .headline {
    padding: 36px 36px 8px;
  }

  .text {
    padding: 0 36px 36px;
  }

  .buttons {
    padding: 0 36px 36px;
    margin-bottom: 10px !important;
  }

  @media screen and (max-width: 640px) {
    .privacy {
      width: 100%;
    }
  }

  .save {
    margin-right: 20px;
  }

  @media screen and (max-width: 640px) {
    .save {
      margin-bottom: 20px !important;
      width: 100%;
    }
  }

  .open-layer4 {
    text-decoration: underline;
  }
`;customElements.define("uc-newprivacyshield",class extends ut{constructor(){super(),this.headline="",this.text="",this.save="",this.privacy="",this.link="",this.callbackIndex=0,this.aTemplateId=[]}async firstUpdated(){if(this.displayOff=this.renderRoot?.querySelectorAll(".ucmodal"),this.headline=this.getAttribute("headline"),this.text=this.getAttribute("text"),this.save=this.getAttribute("buttonLabel"),this.privacy=this.getAttribute("linkLabel"),this.link=this.getAttribute("link"),this.callbackIndex=this.getAttribute("callbackIndex"),this.aTemplateId=this.getAttribute("IDs")?.split(/,/),this.privacyIds=[],this.aName=[],this.list=document.createElement("div"),this.showInfo=document.createElement("div"),this.aTemplateId)for(let e=0;e<this.aTemplateId.length;e++)for(let t=0;t<L.getServices().length;t++)L.getServices()[t].id!==this.aTemplateId[e]&&L.getServices()[t].name!==this.aTemplateId[e].trim()&&L.getServices()[t].id!==R(this.aTemplateId[e].trim())||(this.privacyIds.push(L.getServices()[t].id),this.aName.push('<uc-p-button-pure  icon="none" class="open-layer4" data-id="'+L.getServices()[t].id+'">'+L.getServices()[t].name+"</uc-p-button-pure>"),window.infoName=L.getServices()[t].name);this.newText=this.text?.replaceAll(/###SERVICE###/gi,this.aName.join(", ")),this.list.innerHTML=this.newText,window.addEventListener("consents_changed_finished",(()=>{this.checkState()})),this.checkState(),this.requestUpdate(),window.setTimeout((()=>{this.renderRoot?.querySelectorAll(".open-layer4").forEach((e=>{e.addEventListener("click",(t=>{if(t.target!==this){for(let t=0;t<L.getServices().length;t++)e.innerHTML.includes(L.getServices()[t].name)&&(window.serviceName=L.getServices()[t].name);this.showInfo.style.zIndex="100",this.showInfo.innerHTML="<uc-layer4></uc-layer4>"}}))}))}),1)}static styles=[Et];render(){return Ye`
      <div class="ucmodal">
        <div class="ucmodal-content">
          <div class="distances" data-ol-has-click-handler>
            <uc-p-heading tag="h1" class="headline" size="large">
              ${this.headline}
            </uc-p-heading>
            <uc-p-text class="text">${this.list}</uc-p-text>

            <div class="buttons">
              <uc-p-button
                class="save"
                @click=${this.accept}
              >
                ${this.save}
              </uc-p-button>

              <uc-p-link
                variant="secondary"
                class="privacy"
                href=${this.link||"#"}
                target="_blank"
              >
                ${this.privacy}
              </uc-p-link>
            </div>
            </div>
          </div>
        </div>
        ${this.showInfo}
      </div>
    `}triggerCallbacks(){window.ucPrivacyShield.callbacks&&"function"==typeof window.ucPrivacyShield.callbacks[this.callbackIndex]&&(window.ucPrivacyShield.callbacks[this.callbackIndex](),window.ucPrivacyShield.callbacks[this.callbackIndex]=function(){})}accept(){this.privacyIds.forEach((function(e){window.usercentrics.updateConsents([{templateId:e,status:!0}])})),this.displayOff&&(this.displayOff[0].style.display="none"),this.triggerCallbacks()}checkState(){let e=!0;this.privacyIds.forEach((t=>{window.usercentrics.getConsents(t).consentStatus||(e=!1,this.displayOff&&(this.displayOff[0].style.display=""))})),e&&(this.displayOff&&(this.displayOff[0].style.display="none"),this.triggerCallbacks())}})})()})();